(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,577593,e=>{"use strict";let t;var n=e.i(374517),l=e.i(7284),o=e.i(805143),r=e.i(917409),i=e.i(553438),s=e.i(463969),a=e.i(699475),u=e.i(96508),c=e.i(57290),d=e.i(141886),m=e.i(769217),h=e.i(168375),f=e.i(981441),p=e.i(604111),g=e.i(559147),x=e.i(424439),v=e.i(707697),b=e.i(943583),w=e.i(29755),I=e.i(778218),T=e.i(305133),C=e.i(835106),S=e.i(271947),y=e.i(358031),j=e.i(262504),R=e.i(65518);function k(e){e()}function H(e,t){return n=>e(t(n))}function z(e){return void 0!==e}function N(){}function E(e,t){return t(e)}function L(...e){return e}function B(e){e(2)}function M(e){return e(4)}function P(e,t){return e(1,e=>t(0,e))}function F(e,t){let n=e(1,e=>{n(),t(e)});return n}function O(e){let t,n;return l=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{l(t)},e)}}function U(e,t){return e===t}function A(e=U){let t;return n=>l=>{e(t,l)||(t=l,n(l))}}function D(e){return t=>n=>{e(n)&&t(n)}}function W(e){return t=>H(t,e)}function V(e){return t=>()=>{t(e)}}function G(e,...t){let n=function(...e){return t=>e.reduceRight(E,t)}(...t);return(t,l)=>{switch(t){case 2:B(e);return;case 1:return e(1,n(l))}}}function $(e,t){return n=>l=>{n(t=e(t,l))}}function _(e){return t=>n=>{e>0?e--:t(n)}}function q(e){let t=null,n;return l=>o=>{t=o,n||(n=setTimeout(()=>{n=void 0,l(t)},e))}}function K(...e){let t=Array(e.length),n=0,l=null,o=Math.pow(2,e.length)-1;return e.forEach((e,r)=>{let i=Math.pow(2,r);e(1,e=>{let s=n;n|=i,t[r]=e,s!==o&&n===o&&l&&(l(),l=null)})}),e=>r=>{let i=()=>{e([r].concat(t))};n===o?i():l=i}}function Y(e){let t=e,n=Z();return(e,l)=>{switch(e){case 0:t=l;break;case 1:l(t);break;case 4:return t}return n(e,l)}}function X(e,t){var n;return n=Y(t),P(e,n),n}function Z(){let e=[];return(t,n)=>{switch(t){case 0:e.slice().forEach(e=>{e(n)});return;case 2:e.splice(0,e.length);return;case 1:return e.push(n),()=>{let t=e.indexOf(n);t>-1&&e.splice(t,1)}}}}function J(e){var t;return t=Z(),P(e,t),t}function Q(e,t=[],{singleton:n}={singleton:!0}){return{constructor:e,dependencies:t,id:ee(),singleton:n}}let ee=()=>Symbol();function et(...e){let t=Z(),n=Array(e.length),l=0,o=Math.pow(2,e.length)-1;return e.forEach((e,r)=>{let i=Math.pow(2,r);e(1,e=>{n[r]=e,(l|=i)===o&&t(0,n)})}),function(e,r){switch(e){case 2:return void B(t);case 1:return l===o&&r(n),t(1,r)}}}function en(e,t=U){return G(e,A(t))}function el(...e){return function(t,n){switch(t){case 2:return;case 1:return function(...e){return()=>{e.map(k)}}(...e.map(e=>e(1,n)))}}}var eo=((t=eo||{})[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t);let er={0:"debug",3:"error",1:"log",2:"warn"},ei=Q(()=>{let e=Y(3);return{log:Y((t,n,l=1)=>{var o;l>=(null!=(o=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:M(e))&&console[er[l]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)}),logLevel:e}},[],{singleton:!0});function es(e,t,n){return ea(e,t,n).callbackRef}function ea(e,t,n){let l=r.default.useRef(null),o=r.default.useMemo(()=>"u">typeof ResizeObserver?new ResizeObserver(t=>{let l=()=>{let n=t[0].target;null!==n.offsetParent&&e(n)};n?l():requestAnimationFrame(l)}):null,[e,n]);return{callbackRef:e=>{e&&t?(null==o||o.observe(e),l.current=e):(l.current&&(null==o||o.unobserve(l.current)),l.current=null)},ref:l}}function eu(e,t,n,l,o,i,s,a,u){return ea(r.default.useCallback(n=>{let r,u=function(e,t,n,l){let o=e.length;if(0===o)return null;let r=[];for(let i=0;i<o;i++){let o=e.item(i);if(void 0===o.dataset.index)continue;let s=parseInt(o.dataset.index),a=parseFloat(o.dataset.knownSize),u=t(o,n);if(0===u&&l("Zero-sized element, this should not happen",{child:o},eo.ERROR),u===a)continue;let c=r[r.length-1];0===r.length||c.size!==u||c.endIndex!==s-1?r.push({endIndex:s,size:u,startIndex:s}):r[r.length-1].endIndex++}return r}(n.children,t,a?"offsetWidth":"offsetHeight",o),c=n.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;let d="window"===c.lastElementChild.dataset.viewportType;d&&(r=c.ownerDocument.defaultView);let m=s?a?s.scrollLeft:s.scrollTop:d?a?r.scrollX||r.document.documentElement.scrollLeft:r.scrollY||r.document.documentElement.scrollTop:a?c.scrollLeft:c.scrollTop;l({scrollHeight:s?a?s.scrollWidth:s.scrollHeight:d?a?r.document.documentElement.scrollWidth:r.document.documentElement.scrollHeight:a?c.scrollWidth:c.scrollHeight,scrollTop:Math.max(m,0),viewportHeight:s?a?s.offsetWidth:s.offsetHeight:d?a?r.innerWidth:r.innerHeight:a?c.offsetWidth:c.offsetHeight}),null==i||i(a?ec("column-gap",getComputedStyle(n).columnGap,o):ec("row-gap",getComputedStyle(n).rowGap,o)),null!==u&&e(u)},[e,t,o,i,s,l,a]),n,u)}function ec(e,t,n){return"normal"===t||null!=t&&t.endsWith("px")||n(`${e} was not resolved to pixel value correctly`,t,eo.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function ed(e,t,n){let l=r.default.useRef(null),o=r.default.useCallback(n=>{let o,r;if(!(null!=n&&n.offsetParent))return;let i=n.getBoundingClientRect(),a=i.width;if(t){let e=t.getBoundingClientRect(),n=i.top-e.top;r=e.height-Math.max(0,n),o=n+t.scrollTop}else{let e=s.current.ownerDocument.defaultView;r=e.innerHeight-Math.max(0,i.top),o=i.top+e.scrollY}l.current={offsetTop:o,visibleHeight:r,visibleWidth:a},e(l.current)},[e,t]),{callbackRef:i,ref:s}=ea(o,!0,n),a=r.default.useCallback(()=>{o(s.current)},[o,s]);return r.default.useEffect(()=>{var e;if(t){t.addEventListener("scroll",a);let e=new ResizeObserver(()=>{requestAnimationFrame(a)});return e.observe(t),()=>{t.removeEventListener("scroll",a),e.unobserve(t)}}{let t=null==(e=s.current)?void 0:e.ownerDocument.defaultView;return null==t||t.addEventListener("scroll",a),null==t||t.addEventListener("resize",a),()=>{null==t||t.removeEventListener("scroll",a),null==t||t.removeEventListener("resize",a)}}},[a,t,s]),i}let em=Q(()=>{let e=Z(),t=Z(),n=Y(0),l=Z(),o=Y(0),r=Z(),i=Z(),s=Y(0),a=Y(0),u=Y(0),c=Y(0),d=Z(),m=Z(),h=Y(!1),f=Y(!1),p=Y(!1);return P(G(e,W(({scrollTop:e})=>e)),t),P(G(e,W(({scrollHeight:e})=>e)),i),P(t,o),{deviation:n,fixedFooterHeight:u,fixedHeaderHeight:a,footerHeight:c,headerHeight:s,horizontalDirection:f,scrollBy:m,scrollContainerState:e,scrollHeight:i,scrollingInProgress:h,scrollTo:d,scrollTop:t,skipAnimationFrameInResizeObserver:p,smoothScrollTargetReached:l,statefulScrollTop:o,viewportHeight:r}},[],{singleton:!0}),eh={lvl:0};function ef(e,t){let n=e.length;if(0===n)return[];let{index:l,value:o}=t(e[0]),r=[];for(let i=1;i<n;i++){let{index:n,value:s}=t(e[i]);r.push({end:n-1,start:l,value:o}),l=n,o=s}return r.push({end:1/0,start:l,value:o}),r}function ep(e){return e===eh}function eg(e,t){if(!ep(e))return t===e.k?e.v:t<e.k?eg(e.l,t):eg(e.r,t)}function ex(e,t,n="k"){if(ep(e))return[-1/0,void 0];if(Number(e[n])===t)return[e.k,e.v];if(Number(e[n])<t){let l=ex(e.r,t,n);return l[0]===-1/0?[e.k,e.v]:l}return ex(e.l,t,n)}function ev(e,t,n){return ep(e)?eS(t,n,1):t===e.k?eT(e,{k:t,v:n}):t<e.k?ej(ey(eT(e,{l:ev(e.l,t,n)}))):ej(ey(eT(e,{r:ev(e.r,t,n)})))}function eb(e,t,n){if(ep(e))return[];let l=ex(e,t)[0];return ef(function e(t,n,l){if(ep(t))return[];let{k:o,l:r,r:i,v:s}=t,a=[];return o>n&&(a=a.concat(e(r,n,l))),o>=n&&o<=l&&a.push({k:o,v:s}),o<=l&&(a=a.concat(e(i,n,l))),a}(e,l,n),({k:e,v:t})=>({index:e,value:t}))}function ew(e){return ep(e)?[]:[...ew(e.l),{k:e.k,v:e.v},...ew(e.r)]}function eI(e){let{l:t,lvl:n,r:l}=e;if(l.lvl>=n-1&&t.lvl>=n-1)return e;if(n>l.lvl+1){if(eC(t))return ey(eT(e,{lvl:n-1}));if(!ep(t)&&!ep(t.r))return eT(t.r,{l:eT(t,{r:t.r.l}),lvl:n,r:eT(e,{l:t.r.r,lvl:n-1})});throw Error("Unexpected empty nodes")}if(eC(e))return ej(eT(e,{lvl:n-1}));if(ep(l)||ep(l.l))throw Error("Unexpected empty nodes");{let t=l.l,o=eC(t)?l.lvl-1:l.lvl;return eT(t,{l:eT(e,{lvl:n-1,r:t.l}),lvl:t.lvl+1,r:ej(eT(l,{l:t.r,lvl:o}))})}}function eT(e,t){return eS(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function eC(e){return ep(e)||e.lvl>e.r.lvl}function eS(e,t,n,l=eh,o=eh){return{k:e,l:l,lvl:n,r:o,v:t}}function ey(e){let{l:t}=e;return ep(t)||t.lvl!==e.lvl?e:eT(t,{r:eT(e,{l:t.r})})}function ej(e){let{lvl:t,r:n}=e;return ep(n)||ep(n.r)||n.lvl!==t||n.r.lvl!==t?e:eT(n,{l:eT(e,{r:n.l}),lvl:t+1})}function eR(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function ek(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}let eH=Q(()=>({recalcInProgress:Y(!1)}),[],{singleton:!0});function ez(e,t,n,l=0){let o=e.length-1;for(;l<=o;){let r=Math.floor((l+o)/2),i=n(e[r],t);if(0===i)return r;if(-1===i){if(o-l<2)return r-1;o=r-1}else{if(o===l)return r;l=r+1}}throw Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function eN(e,t){return Math.round(e.getBoundingClientRect()[t])}function eE(e){return!ep(e.groupOffsetTree)}function eL({index:e},t){return t===e?0:t<e?-1:1}function eB({offset:e},t){return t===e?0:t<e?-1:1}function eM(e,t,n){if(0===t.length)return 0;let{index:l,offset:o,size:r}=t[ez(t,e,eL)],i=e-l,s=r*i+(i-1)*n+o;return s>0?s+n:s}function eP(e,t){if(!eE(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function eF(e,t,n){if("u">typeof e.groupIndex)return t.groupIndices[e.groupIndex]+1;{let l=eP("LAST"===e.index?n:e.index,t);return Math.max(0,l,Math.min(n,l))}}function eO(e,[t,n,l,o]){t.length>0&&l("received item sizes",t,eo.DEBUG);let r=e.sizeTree,i=r,s=0;if(n.length>0&&ep(r)&&2===t.length){let e=t[0].size,l=t[1].size;i=n.reduce((t,n)=>ev(ev(t,n,e),n+1,l),i)}else[i,s]=function(e,t){let n=ep(e)?0:1/0;for(let l of t){let{endIndex:t,size:o,startIndex:r}=l;if(n=Math.min(n,r),ep(e)){e=ev(e,0,o);continue}let i=eb(e,r-1,t+1);if(i.some(function(e){let{endIndex:t,size:n,startIndex:l}=e;return e=>e.start===l&&(e.end===t||e.end===1/0)&&e.value===n}(l)))continue;let s=!1,a=!1;for(let{end:n,start:l,value:r}of i)s?(t>=l||o===r)&&(e=function e(t,n){if(ep(t))return eh;let{k:l,l:o,r}=t;if(n!==l)return n<l?eI(eT(t,{l:e(o,n)})):eI(eT(t,{r:e(r,n)}));if(ep(o))return r;if(ep(r))return o;{let[e,n]=function e(t){return ep(t.r)?[t.k,t.v]:e(t.r)}(o);return eI(eT(t,{k:e,l:function e(t){return ep(t.r)?t.l:eI(eT(t,{r:e(t.r)}))}(o),v:n}))}}(e,l)):(a=r!==o,s=!0),n>t&&t>=l&&r!==o&&(e=ev(e,t+1,r));a&&(e=ev(e,r,o))}return[e,n]}(i,t);if(i===r)return e;let{lastIndex:a,lastOffset:u,lastSize:c,offsetTree:d}=eA(e.offsetTree,s,i,o);return{groupIndices:n,groupOffsetTree:n.reduce((e,t)=>ev(e,t,eM(t,d,o)),eh),lastIndex:a,lastOffset:u,lastSize:c,offsetTree:d,sizeTree:i}}function eU(e,t){let n=0,l=0;for(;n<e;)n+=t[l+1]-t[l]-1,l++;return l-(n!==e)}function eA(e,t,n,l){let o=e,r=0,i=0,s=0,a=0;if(0!==t){a=ez(o,t-1,eL),s=o[a].offset;let e=ex(n,t-1);r=e[0],i=e[1],o.length&&o[a].size===ex(n,t)[1]&&(a-=1),o=o.slice(0,a+1)}else o=[];for(let{start:e,value:a}of eb(n,t,1/0)){let t=e-r,n=t*i+s+t*l;o.push({index:e,offset:n,size:a}),r=e,s=n,i=a}return{lastIndex:r,lastOffset:s,lastSize:i,offsetTree:o}}function eD(e){return{index:e.index,value:e}}let eW={offsetHeight:"height",offsetWidth:"width"},eV=Q(([{log:e},{recalcInProgress:t}])=>{let n=Z(),l=Z(),o=X(l,0),r=Z(),i=Z(),s=Y(0),a=Y([]),u=Y(void 0),c=Y(void 0),d=Y(void 0),m=Y(void 0),h=Y((e,t)=>eN(e,eW[t])),f=Y(void 0),p=Y(0),g={groupIndices:[],groupOffsetTree:eh,lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:eh},x=X(G(n,K(a,e,p),$(eO,g),A()),g),v=X(G(a,A(),$((e,t)=>({current:t,prev:e.current}),{current:[],prev:[]}),W(({prev:e})=>e)),[]);P(G(a,D(e=>e.length>0),K(x,p),W(([e,t,n])=>{let l=e.reduce((e,l,o)=>ev(e,l,eM(l,t.offsetTree,n)||o),eh);return{...t,groupIndices:e,groupOffsetTree:l}})),x),P(G(l,K(x),D(([e,{lastIndex:t}])=>e<t),W(([e,{lastIndex:t,lastSize:n}])=>[{endIndex:t,size:n,startIndex:e}])),n),P(u,c);let b=X(G(u,W(e=>void 0===e)),!0);P(G(c,D(e=>void 0!==e&&ep(M(x).sizeTree)),W(e=>{let t=M(d),n=M(a).length>0;return t?n?[{endIndex:0,size:t,startIndex:0},{endIndex:1,size:e,startIndex:1}]:[]:[{endIndex:0,size:e,startIndex:0}]})),n),P(G(m,D(e=>void 0!==e&&e.length>0&&ep(M(x).sizeTree)),W(e=>{let t=[],n=e[0],l=0;for(let o=1;o<e.length;o++){let r=e[o];r!==n&&(t.push({endIndex:o-1,size:n,startIndex:l}),n=r,l=o)}return t.push({endIndex:e.length-1,size:n,startIndex:l}),t})),n),P(G(a,K(d,c),D(([,e,t])=>void 0!==e&&void 0!==t),W(([e,t,n])=>{let l=[];for(let o=0;o<e.length;o++){let r=e[o],i=e[o+1];l.push({startIndex:r,endIndex:r,size:t}),void 0!==i&&l.push({startIndex:r+1,endIndex:i-1,size:n})}return l})),n);let w=J(G(n,K(x),$(({sizes:e},[t,n])=>({changed:n!==e,sizes:n}),{changed:!1,sizes:g}),W(e=>e.changed)));G(s,$((e,t)=>({diff:e.prev-t,prev:t}),{diff:0,prev:0}),W(e=>e.diff))(1,e=>{let{groupIndices:n}=M(x);if(e>0)t(0,!0),r(0,e+eU(e,n));else if(e<0){let t=M(v);t.length>0&&(e-=eU(-e,t)),i(0,e)}}),G(s,K(e))(1,([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},eo.ERROR)});let I=J(r);P(G(r,K(x),W(([e,t])=>{let n=t.groupIndices.length>0,l=[],o=t.lastSize;if(n){let n=eg(t.sizeTree,0),r=0,i=0;for(;r<e;){let e=t.groupIndices[i],s=t.groupIndices.length===i+1?1/0:t.groupIndices[i+1]-e-1;l.push({endIndex:e,size:n,startIndex:e}),l.push({endIndex:e+1+s-1,size:o,startIndex:e+1}),i++,r+=s+1}let s=ew(t.sizeTree);return r!==e&&s.shift(),s.reduce((t,{k:n,v:l})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]),{prevIndex:n+e,prevSize:l,ranges:o}},{prevIndex:e,prevSize:0,ranges:l}).ranges}return ew(t.sizeTree).reduce((t,{k:n,v:l})=>({prevIndex:n+e,prevSize:l,ranges:[...t.ranges,{endIndex:n+e-1,size:t.prevSize,startIndex:t.prevIndex}]}),{prevIndex:0,prevSize:o,ranges:[]}).ranges})),n);let T=J(G(i,K(x,p),W(([e,{offsetTree:t},n])=>eM(-e,t,n))));return P(G(i,K(x,p),W(([e,t,n])=>{if(t.groupIndices.length>0){if(ep(t.sizeTree))return t;let l=eh,o=M(v),r=0,i=0,s=0;for(;r<-e;){s=o[i];let e=o[i+1]-s-1;i++,r+=e+1}return l=ew(t.sizeTree).reduce((t,{k:n,v:l})=>ev(t,Math.max(0,n+e),l),l),r!==-e&&(l=ev(l,0,eg(t.sizeTree,s)),l=ev(l,1,ex(t.sizeTree,-e+1)[1])),{...t,sizeTree:l,...eA(t.offsetTree,0,l,n)}}{let l=ew(t.sizeTree).reduce((t,{k:n,v:l})=>ev(t,Math.max(0,n+e),l),eh);return{...t,sizeTree:l,...eA(t.offsetTree,0,l,n)}}})),x),{beforeUnshiftWith:I,data:f,defaultItemSize:c,firstItemIndex:s,fixedItemSize:u,fixedGroupSize:d,gap:p,groupIndices:a,heightEstimates:m,itemSize:h,listRefresh:w,shiftWith:i,shiftWithOffset:T,sizeRanges:n,sizes:x,statefulTotalCount:o,totalCount:l,trackItemSizes:b,unshiftWith:r}},L(ei,eH),{singleton:!0});function eG(e){return e.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}let e$=Q(([{groupIndices:e,sizes:t,totalCount:n},{headerHeight:l,scrollTop:o}])=>{let r=Z(),i=Z(),s=J(G(r,W(eG)));return P(G(s,W(e=>e.totalCount)),n),P(G(s,W(e=>e.groupIndices)),e),P(G(et(o,t,l),D(([e,t])=>eE(t)),W(([e,t,n])=>ex(t.groupOffsetTree,Math.max(e-n,0),"v")[0]),A(),W(e=>[e])),i),{groupCounts:r,topItemsIndexes:i}},L(eV,em)),e_=Q(([{log:e}])=>{let t=Y(!1),n=J(G(t,D(e=>e),A()));return t(1,t=>{t&&M(e)("props updated",{},eo.DEBUG)}),{didMount:n,propsReady:t}},L(ei),{singleton:!0}),eq="u">typeof document&&"scrollBehavior"in document.documentElement.style;function eK(e){let t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&eq||(t.behavior="auto"),t.offset||(t.offset=0),t}let eY=Q(([{gap:e,listRefresh:t,sizes:n,totalCount:l},{fixedFooterHeight:o,fixedHeaderHeight:r,footerHeight:i,headerHeight:s,scrollingInProgress:a,scrollTo:u,smoothScrollTargetReached:c,viewportHeight:d},{log:m}])=>{let h=Z(),f=Z(),p=Y(0),g=null,x=null,v=null;function b(){g&&(g(),g=null),v&&(v(),v=null),x&&(clearTimeout(x),x=null),a(0,!1)}return P(G(h,K(n,d,l,p,s,i,m),K(e,r,o),W(([[e,n,l,o,r,i,s,u],d,m,p])=>{let w=eK(e),{align:I,behavior:T,offset:C}=w,S=o-1,y=eF(w,n,S),j=eM(y,n.offsetTree,d)+i;"end"===I?(j+=m+ex(n.sizeTree,y)[1]-l+p,y===S&&(j+=s)):"center"===I?j+=(m+ex(n.sizeTree,y)[1]-l+p)/2:j-=r,C&&(j+=C);let R=t=>{b(),t?(u("retrying to scroll to",{location:e},eo.DEBUG),h(0,e)):(f(0,!0),u("list did not change, scroll successful",{},eo.DEBUG))};if(b(),"smooth"===T){let e=!1;v=t(1,t=>{e=e||t}),g=F(c,()=>{R(e)})}else g=F(G(t,e=>{let t=setTimeout(()=>{e(!1)},150);return n=>{n&&(e(!0),clearTimeout(t))}}),R);return x=setTimeout(()=>{b()},1200),a(0,!0),u("scrolling from index to",{behavior:T,index:y,top:j},eo.DEBUG),{behavior:T,top:j}})),u),{scrollTargetReached:f,scrollToIndex:h,topListHeight:p}},L(eV,em,ei),{singleton:!0});function eX(e,t){0==e?t():requestAnimationFrame(()=>{eX(e-1,t)})}function eZ(e,t){return"number"==typeof e?e:"LAST"===e.index?t-1:e.index}let eJ=Q(([{defaultItemSize:e,listRefresh:t,sizes:n},{scrollTop:l},{scrollTargetReached:o,scrollToIndex:r},{didMount:i}])=>{let s=Y(!0),a=Y(0),u=Y(!0);return P(G(i,K(a),D(([e,t])=>!!t),V(!1)),s),P(G(i,K(a),D(([e,t])=>!!t),V(!1)),u),G(et(t,i),K(s,n,e,u),D(([[,e],t,{sizeTree:n},l,o])=>e&&(!ep(n)||z(l))&&!t&&!o),K(a))(1,([,e])=>{F(o,()=>{u(0,!0)}),eX(4,()=>{F(l,()=>{s(0,!0)}),r(0,e)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:a,scrolledToInitialItem:s}},L(eV,em,eY,e_),{singleton:!0});function eQ(e,t){return 1.01>Math.abs(e-t)}let e0="down",e1={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},e4=Q(([{footerHeight:e,headerHeight:t,scrollBy:n,scrollContainerState:l,scrollTop:o,viewportHeight:r}])=>{let i=Y(!1),s=Y(!0),a=Z(),u=Z(),c=Y(4),d=Y(0),m=X(G(el(G(en(o),_(1),V(!0)),G(en(o),_(1),V(!1),O(100))),A()),!1),h=X(G(el(G(n,V(!0)),G(n,V(!1),O(200))),A()),!1);P(G(et(en(o),en(d)),W(([e,t])=>e<=t),A()),s),P(G(s,q(50)),u);let f=J(G(et(l,en(r),en(t),en(e),en(c)),$((e,[{scrollHeight:t,scrollTop:n},l,o,r,i])=>{let s={scrollHeight:t,scrollTop:n,viewportHeight:l};if(n+l-t>-i){let t,l;return n>e.state.scrollTop?(t="SCROLLED_DOWN",l=e.state.scrollTop-n):(t="SIZE_DECREASED",l=e.state.scrollTop-n||e.scrollTopDelta),{atBottom:!0,atBottomBecause:t,scrollTopDelta:l,state:s}}return{atBottom:!1,notAtBottomBecause:s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":l<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":n<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:s}},e1),A((e,t)=>e&&e.atBottom===t.atBottom))),p=X(G(l,$((e,{scrollHeight:t,scrollTop:n,viewportHeight:l})=>{if(eQ(e.scrollHeight,t))return{changed:!1,jump:0,scrollHeight:t,scrollTop:n};{let o=t-(n+l)<1;return e.scrollTop!==n&&o?{changed:!0,jump:e.scrollTop-n,scrollHeight:t,scrollTop:n}:{changed:!0,jump:0,scrollHeight:t,scrollTop:n}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),D(e=>e.changed),W(e=>e.jump)),0);P(G(f,W(e=>e.atBottom)),i),P(G(i,q(50)),a);let g=Y(e0);P(G(l,W(({scrollTop:e})=>e),A(),$((e,t)=>M(h)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?"up":e0,prevScrollTop:t},{direction:e0,prevScrollTop:0}),W(e=>e.direction)),g),P(G(l,q(50),V("none")),g);let x=Y(0);return P(G(m,D(e=>!e),V(0)),x),P(G(o,q(100),K(m),D(([e,t])=>!!t),$(([e,t],[n])=>[t,n],[0,0]),W(([e,t])=>t-e)),x),{atBottomState:f,atBottomStateChange:a,atBottomThreshold:c,atTopStateChange:u,atTopThreshold:d,isAtBottom:i,isAtTop:s,isScrolling:m,lastJumpDueToItemResize:p,scrollDirection:g,scrollVelocity:x}},L(em)),e2="bottom",e3="none";function e5(e,t,n){return"number"==typeof e?"up"===n&&"top"===t||n===e0&&t===e2?e:0:"up"===n?"top"===t?e.main:e.reverse:t===e2?e.main:e.reverse}function e7(e,t){var n;return"number"==typeof e?e:null!=(n=e[t])?n:0}let e6=Q(([{deviation:e,fixedHeaderHeight:t,headerHeight:n,scrollTop:l,viewportHeight:o}])=>{let r=Z(),i=Y(0),s=Y(0),a=Y(0),u=X(G(et(en(l),en(o),en(n),en(r,ek),en(a),en(i),en(t),en(e),en(s)),W(([e,t,n,[l,o],r,i,s,a,u])=>{let c=e-a,d=Math.max(n-c,0),m=e3,h=e7(u,"top"),f=e7(u,e2);return l-=a,l+=n+s,o+=n+s,l>e+(i+s)-h&&(m="up"),(o-=a)<e-d+t+f&&(m=e0),m!==e3?[Math.max(c-n-e5(r,"top",m)-h,0),c-d-s+t+e5(r,e2,m)+f]:null}),D(e=>null!=e),A(ek)),[0,0]);return{increaseViewportBy:s,listBoundary:r,overscan:a,topListHeight:i,visibleRange:u}},L(em),{singleton:!0}),e8={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function e9(e,t,n,l,o,r){let{lastIndex:i,lastOffset:s,lastSize:a}=o,u=0,c=0;if(e.length>0){u=e[0].offset;let t=e[e.length-1];c=t.offset+t.size}let d=n-i,m=u,h=s+d*a+(d-1)*l-c;return{bottom:c,firstItemIndex:r,items:tt(e,o,r),offsetBottom:h,offsetTop:u,top:m,topItems:tt(t,o,r),topListHeight:t.reduce((e,t)=>t.size+e,0),totalCount:n}}function te(e,t,n,l,o,r){let i=0;if(n.groupIndices.length>0)for(let t of n.groupIndices){if(t-i>=e)break;i++}let s=e+i,a=eZ(t,s);return e9(Array.from({length:s}).map((e,t)=>({data:r[t+a],index:t+a,offset:0,size:0})),[],s,o,n,l)}function tt(e,t,n){if(0===e.length)return[];if(!eE(t))return e.map(e=>({...e,index:e.index+n,originalIndex:e.index}));let l=e[0].index,o=e[e.length-1].index,r=[],i=eb(t.groupOffsetTree,l,o),s,a=0;for(let l of e){let e;(!s||s.end<l.index)&&(s=i.shift(),a=t.groupIndices.indexOf(s.start)),e=l.index===s.start?{index:a,type:"group"}:{groupIndex:a,index:l.index-(a+1)+n},r.push({...e,data:l.data,offset:l.offset,originalIndex:l.index,size:l.size})}return r}function tn(e,t){var n;return void 0===e?0:"number"==typeof e?e:null!=(n=e[t])?n:0}let tl=Q(([{data:e,firstItemIndex:t,gap:n,sizes:l,totalCount:o},r,{listBoundary:i,topListHeight:s,visibleRange:a},{initialTopMostItemIndex:u,scrolledToInitialItem:c},{topListHeight:d},m,{didMount:h},{recalcInProgress:f}])=>{let p=Y([]),g=Y(0),x=Z(),v=Y(0);P(r.topItemsIndexes,p);let b=X(G(et(h,f,en(a,ek),en(o),en(l),en(u),c,en(p),en(t),en(n),en(v),e),D(([e,t,,n,,,,,,,,l])=>{let o=l&&l.length!==n;return e&&!t&&!o}),W(([,,[e,t],n,l,o,r,i,s,a,u,c])=>{var d,m,h,f,p;let{offsetTree:x,sizeTree:v}=l,b=M(g);if(0===n)return{...e8,totalCount:n};if(0===e&&0===t)return 0===b?{...e8,totalCount:n}:te(b,o,l,s,a,c||[]);if(ep(v))return b>0?null:e9(function(e,t,n){if(eE(t)){let l=eP(e,t);return[{index:ex(t.groupOffsetTree,l)[0],offset:0,size:0},{data:null==n?void 0:n[0],index:l,offset:0,size:0}]}return[{data:null==n?void 0:n[0],index:e,offset:0,size:0}]}(eZ(o,n),l,c),[],n,a,l,s);let w=[];if(i.length>0){let e=i[0],t=i[i.length-1],n=0;for(let l of eb(v,e,t)){let o=l.value,r=Math.max(l.start,e),i=Math.min(l.end,t);for(let e=r;e<=i;e++)w.push({data:null==c?void 0:c[e],index:e,offset:n,size:o}),n+=o}}if(!r)return e9([],w,n,a,l,s);let I=i.length>0?i[i.length-1]+1:0,T=function(e,t,n,l=0){let o,r;return l>0&&(t=Math.max(t,e[ez(e,l,eL)].offset)),ef((o=ez(e,t,eB),r=ez(e,n,eB,o),e.slice(o,r+1)),eD)}(x,e,t,I);if(0===T.length)return null;let C=n-1,S=((n=>{for(let l of T){let o=l.value,r=o.offset,i=l.start,s=o.size;if(o.offset<e){let t=(i+=Math.floor((e-o.offset+a)/(s+a)))-l.start;r+=t*s+t*a}i<I&&(r+=(I-i)*s,i=I);let u=Math.min(l.end,C);for(let e=i;e<=u&&!(r>=t);e++)n.push({data:null==c?void 0:c[e],index:e,offset:r,size:s}),r+=s+a}})(p=[]),p),y=tn(u,"top"),j=tn(u,e2);if(S.length>0&&(y>0||j>0)){let e=S[0],t=S[S.length-1];if(y>0&&e.index>I){let t=Math.min(y,e.index-I),n=[],l=e.offset;for(let o=e.index-1;o>=e.index-t;o--){let t=null!=(m=null==(d=eb(v,o,o)[0])?void 0:d.value)?m:e.size;l-=t+a,n.unshift({data:null==c?void 0:c[o],index:o,offset:l,size:t})}S.unshift(...n)}if(j>0&&t.index<C){let e=Math.min(j,C-t.index),n=t.offset+t.size+a;for(let l=t.index+1;l<=t.index+e;l++){let e=null!=(f=null==(h=eb(v,l,l)[0])?void 0:h.value)?f:t.size;S.push({data:null==c?void 0:c[l],index:l,offset:n,size:e}),n+=e+a}}}return e9(S,w,n,a,l,s)}),D(e=>null!==e),A()),e8);P(G(e,D(z),W(e=>null==e?void 0:e.length)),o),P(G(b,W(e=>e.topListHeight)),d),P(d,s),P(G(b,W(e=>[e.top,e.bottom])),i),P(G(b,W(e=>e.items)),x);let w=J(G(b,D(({items:e})=>e.length>0),K(o,e),D(([{items:e},t])=>e[e.length-1].originalIndex===t-1),W(([,e,t])=>[e-1,t]),A(ek),W(([e])=>e))),I=J(G(b,q(200),D(({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length),W(({items:e})=>e[0].index),A())),T=J(G(b,D(({items:e})=>e.length>0),W(({items:e})=>{let t=0,n=e.length-1;for(;"group"===e[t].type&&t<n;)t++;for(;"group"===e[n].type&&n>t;)n--;return{endIndex:e[n].index,startIndex:e[t].index}}),A(eR)));return{endReached:w,initialItemCount:g,itemsRendered:x,listState:b,minOverscanItemCount:v,rangeChanged:T,startReached:I,topItemsIndexes:p,...m}},L(eV,e$,e6,eJ,eY,e4,e_,eH),{singleton:!0}),to=Q(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:n,headerHeight:l},{listState:o}])=>{let r=Z(),i=X(G(et(n,e,l,t,o),W(([e,t,n,l,o])=>e+t+n+l+o.offsetBottom+o.bottom)),0);return P(en(i),r),{totalListHeight:i,totalListHeightChanged:r}},L(em,tl),{singleton:!0}),tr=Q(([{viewportHeight:e},{totalListHeight:t}])=>{let n=Y(!1),l=X(G(et(n,e,t),D(([e])=>e),W(([,e,t])=>Math.max(0,e-t)),q(0),A()),0);return{alignToBottom:n,paddingTopAddition:l}},L(em,to),{singleton:!0}),ti=Q(()=>({context:Y(null)})),ts=({itemBottom:e,itemTop:t,locationParams:{align:n,behavior:l,...o},viewportBottom:r,viewportTop:i})=>t<i?{...o,align:null!=n?n:"start",behavior:l}:e>r?{...o,align:null!=n?n:"end",behavior:l}:null,ta=Q(([{gap:e,sizes:t,totalCount:n},{fixedFooterHeight:l,fixedHeaderHeight:o,headerHeight:r,scrollingInProgress:i,scrollTop:s,viewportHeight:a},{scrollToIndex:u}])=>{let c=Z();return P(G(c,K(t,a,n,r,o,l,s),K(e),W(([[e,t,n,l,o,r,s,a],u])=>{let{align:c,behavior:d,calculateViewLocation:m=ts,done:h,...f}=e,p=eF(e,t,l-1),g=eM(p,t.offsetTree,u)+o+r,x=m({itemBottom:g+ex(t.sizeTree,p)[1],itemTop:g,locationParams:{align:c,behavior:d,...f},viewportBottom:a+n-s,viewportTop:a+r});return x?h&&F(G(i,D(e=>!e),_(M(i)?1:2)),h):h&&h(),x}),D(e=>null!==e)),u),{scrollIntoView:c}},L(eV,em,eY,tl,ei),{singleton:!0});function tu(e){return!!e&&("smooth"===e?"smooth":"auto")}let tc=Q(([{listRefresh:e,totalCount:t,fixedItemSize:n,data:l},{atBottomState:o,isAtBottom:r},{scrollToIndex:i},{scrolledToInitialItem:s},{didMount:a,propsReady:u},{log:c},{scrollingInProgress:d},{context:m},{scrollIntoView:h}])=>{let f=Y(!1),p=Z(),g=null;function x(e){i(0,{align:"end",behavior:e,index:"LAST"})}function v(e){setTimeout(F(o,t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||g||(M(c)("scrolling to bottom due to increased size",{},eo.DEBUG),x("auto"))}),100)}G(et(G(en(t),_(1)),a),K(en(f),r,s,d),W(([[e,t],n,l,o,r])=>{let i,s=t&&o,a="auto";return s&&(i=l||r,a="function"==typeof n?tu(n(i)):i&&tu(n),s=s&&!!a),{followOutputBehavior:a,shouldFollow:s,totalCount:e}}),D(({shouldFollow:e})=>e))(1,({followOutputBehavior:t,totalCount:l})=>{g&&(g(),g=null),M(n)?requestAnimationFrame(()=>{M(c)("following output to ",{totalCount:l},eo.DEBUG),x(t)}):g=F(e,()=>{M(c)("following output to ",{totalCount:l},eo.DEBUG),x(t),g=null})}),G(et(en(f),t,u),D(([e,,t])=>e&&t),$(({value:e},[,t])=>({refreshed:e===t,value:t}),{refreshed:!1,value:0}),D(({refreshed:e})=>e),K(f,t))(1,([,e])=>{M(s)&&v(!1!==e)}),p(1,()=>{v(!1!==M(f))}),et(en(f),o)(1,([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&x("auto")});let b=Y(null),w=Z();return P(el(G(en(l),W(e=>{var t;return null!=(t=null==e?void 0:e.length)?t:0})),G(en(t))),w),G(et(G(w,_(1)),a),K(en(b),s,d,m),W(([[e,t],n,l,o,r])=>t&&l&&(null==n?void 0:n({context:r,totalCount:e,scrollingInProgress:o}))),D(e=>!!e),q(0))(1,t=>{g&&(g(),g=null),M(n)?requestAnimationFrame(()=>{M(c)("scrolling into view",{}),h(0,t)}):g=F(e,()=>{M(c)("scrolling into view",{}),h(0,t),g=null})}),{autoscrollToBottom:p,followOutput:f,scrollIntoViewOnChange:b}},L(eV,e4,eY,eJ,e_,ei,em,ti,ta)),td=Q(([{data:e,firstItemIndex:t,gap:n,sizes:l},{initialTopMostItemIndex:o},{initialItemCount:r,listState:i},{didMount:s}])=>(P(G(s,K(r),D(([,e])=>0!==e),K(o,l,t,n,e),W(([[,e],t,n,l,o,r=[]])=>te(e,t,n,l,o,r))),i),{}),L(eV,eJ,tl,e_),{singleton:!0}),tm=Q(([{didMount:e},{scrollTo:t},{listState:n}])=>{let l=Y(0);return G(e,K(l),D(([,e])=>0!==e),W(([,e])=>({top:e})))(1,e=>{F(G(n,_(1),D(e=>e.items.length>1)),()=>{requestAnimationFrame(()=>{t(0,e)})})}),{initialScrollTop:l}},L(e_,em,tl),{singleton:!0}),th=Q(([{scrollVelocity:e}])=>{let t=Y(!1),n=Z(),l=Y(!1);return P(G(e,K(l,t,n),D(([e,t])=>!!t),W(([e,t,n,l])=>{let{enter:o,exit:r}=t;if(n){if(r(e,l))return!1}else if(o(e,l))return!0;return n}),A()),t),G(et(t,e,n),K(l))(1,([[e,t,n],l])=>{e&&l&&l.change&&l.change(t,n)}),{isSeeking:t,scrollSeekConfiguration:l,scrollSeekRangeChanged:n,scrollVelocity:e}},L(e4),{singleton:!0}),tf=Q(([{scrollContainerState:e,scrollTo:t}])=>{let n=Z(),l=Z(),o=Z(),r=Y(!1),i=Y(void 0);return P(G(et(n,l),W(([{scrollHeight:e,scrollTop:t,viewportHeight:n},{offsetTop:l}])=>({scrollHeight:e,scrollTop:Math.max(0,t-l),viewportHeight:n}))),e),P(G(t,K(l),W(([e,{offsetTop:t}])=>({...e,top:e.top+t}))),o),{customScrollParent:i,useWindowScroll:r,windowScrollContainerState:n,windowScrollTo:o,windowViewportRect:l}},L(em)),tp=Q(([{sizeRanges:e,sizes:t},{headerHeight:n,scrollTop:l},{initialTopMostItemIndex:o},{didMount:r},{useWindowScroll:i,windowScrollContainerState:s,windowViewportRect:a}])=>{let u=Z(),c=Y(void 0),d=Y(null),m=Y(null);return P(s,d),P(a,m),G(u,K(t,l,i,d,m,n))(1,([e,t,n,l,o,r,i])=>{let s=ew(t.sizeTree).map(({k:e,v:t},n,l)=>{let o=l[n+1];return{endIndex:o?o.k-1:1/0,size:t,startIndex:e}});l&&null!==o&&null!==r&&(n=o.scrollTop-r.offsetTop),e({ranges:s,scrollTop:n-=i})}),P(G(c,D(z),W(tg)),o),P(G(r,K(c),D(([,e])=>void 0!==e),A(),W(([,e])=>e.ranges)),e),{getState:u,restoreStateFrom:c}},L(eV,em,eJ,e_,tf));function tg(e){return{align:"start",index:0,offset:e.scrollTop}}let tx=Q(([{topItemsIndexes:e}])=>{let t=Y(0);return P(G(t,D(e=>e>=0),W(e=>Array.from({length:e}).map((e,t)=>t))),e),{topItemCount:t}},L(tl));function tv(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}let tb=tv(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),tw=Q(([{deviation:e,scrollBy:t,scrollingInProgress:n,scrollTop:l},{isAtBottom:o,isScrolling:r,lastJumpDueToItemResize:i,scrollDirection:s},{listState:a},{beforeUnshiftWith:u,gap:c,shiftWithOffset:d,sizes:m},{log:h},{recalcInProgress:f}])=>{let p=J(G(a,K(i),$(([,e,t,n],[{bottom:l,items:o,offsetBottom:r,totalCount:i},s])=>{let a=l+r,u=0;return t===i&&e.length>0&&o.length>0&&(0===o[0].originalIndex&&0===e[0].originalIndex||0!=(u=a-n)&&(u+=s)),[u,o,i,a]},[0,[],0,0]),D(([e])=>0!==e),K(l,s,n,o,h,f),D(([,e,t,n,,,l])=>!l&&!n&&0!==e&&"up"===t),W(([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},eo.DEBUG),e))));function g(n){n>0?(t(0,{behavior:"auto",top:-n}),e(0,0)):(e(0,0),t(0,{behavior:"auto",top:-n}))}return G(p,K(e,r))(1,([t,n,l])=>{l&&tb()?e(0,n-t):g(-t)}),G(et(X(r,!1),e,f),D(([e,t,n])=>!e&&!n&&0!==t),W(([e,t])=>t),q(1))(1,g),P(G(d,W(e=>({top:-e}))),t),G(u,K(m,c),W(([e,{groupIndices:t,lastSize:n,sizeTree:l},o])=>{if(0===t.length)return e*(n+o);{let r=0,i=eg(l,0),s=0,a=0;for(;s<e;){s++,r+=i;let l=t.length===a+1?1/0:t[a+1]-t[a]-1;s+l>e&&(r-=i,l=e-s+1),s+=l,r+=l*(n+o),a++}return r}}))(1,n=>{e(0,n),requestAnimationFrame(()=>{t(0,{top:n}),requestAnimationFrame(()=>{e(0,0),f(0,!1)})})}),{deviation:e}},L(em,e4,tl,eV,ei,eH)),tI=Q(([e,t,n,l,o,r,i,s,a,u,c])=>({...e,...t,...n,...l,...o,...r,...i,...s,...a,...u,...c}),L(e6,td,e_,th,to,tm,tr,tf,ta,ei,ti)),tT=Q(([{data:e,defaultItemSize:t,firstItemIndex:n,fixedItemSize:l,fixedGroupSize:o,gap:r,groupIndices:i,heightEstimates:s,itemSize:a,sizeRanges:u,sizes:c,statefulTotalCount:d,totalCount:m,trackItemSizes:h},{initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:g},x,v,b,w,{scrollToIndex:I},T,{topItemCount:C},{groupCounts:S},y])=>{let{listState:j,minOverscanItemCount:R,topItemsIndexes:k,rangeChanged:H,...z}=w;return P(H,y.scrollSeekRangeChanged),P(G(y.windowViewportRect,W(e=>e.visibleHeight)),x.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:n,fixedItemHeight:l,fixedGroupHeight:o,gap:r,groupCounts:S,heightEstimates:s,initialItemFinalLocationReached:f,initialTopMostItemIndex:p,scrolledToInitialItem:g,sizeRanges:u,topItemCount:C,topItemsIndexes:k,totalCount:m,...b,groupIndices:i,itemSize:a,listState:j,minOverscanItemCount:R,scrollToIndex:I,statefulTotalCount:d,trackItemSizes:h,rangeChanged:H,...z,...y,...x,sizes:c,...v}},L(eV,eJ,em,tp,tc,tl,eY,tw,tx,e$,tI)),tC="u">typeof document?r.default.useLayoutEffect:r.default.useEffect;function tS(e,t,l){let o=Object.keys(t.required||{}),i=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),u=r.default.createContext({});function c(e,n){for(let l of(e.propsReady&&(0,e.propsReady)(0,!1),o))(0,e[t.required[l]])(0,n[l]);for(let l of i)l in n&&(0,e[t.optional[l]])(0,n[l]);e.propsReady&&(0,e.propsReady)(0,!0)}function d(e){return a.reduce((n,l)=>{var o;let r,i,s;return n[l]=(o=e[t.events[l]],s=()=>null==r?void 0:r(),function(e,t){switch(e){case 1:return t?i===t?void 0:(s(),i=t,r=o(1,t)):(s(),N);case 2:s(),i=null;return}}),n},{})}return{Component:r.default.forwardRef((m,h)=>{var f;let{children:p,...g}=m,[x]=r.default.useState(()=>{var t;let n,l;return n=new Map,c(t=(l=({constructor:e,dependencies:t,id:o,singleton:r})=>{if(r&&n.has(o))return n.get(o);let i=e(t.map(e=>l(e)));return r&&n.set(o,i),i})(e),g),t}),[v]=r.default.useState(()=>d(x));return tC(()=>{for(let e of a)e in g&&(0,v[e])(1,g[e]);return()=>{Object.values(v).map(B)}},[g,v,x]),tC(()=>{c(x,g)}),r.default.useImperativeHandle(h,(f=s.reduce((e,n)=>(e[n]=e=>{(0,x[t.methods[n]])(0,e)},e),{}),()=>f)),(0,n.jsx)(u.Provider,{value:x,children:l?(0,n.jsx)(l,{...function(e,t){let n={},l={},o=0,r=e.length;for(;o<r;)l[e[o]]=1,o+=1;for(let e in t)Object.hasOwn(l,e)||(n[e]=t[e]);return n}([...o,...i,...a],g),children:p}):p})}),useEmitter:(e,t)=>{let n=r.default.useContext(u)[e];tC(()=>n(1,t),[t,n])},useEmitterValue:r.default.version.startsWith("18")?e=>{let t=r.default.useContext(u)[e],n=r.default.useCallback(e=>t(1,e),[t]);return r.default.useSyncExternalStore(n,()=>M(t),()=>M(t))}:e=>{let t=r.default.useContext(u)[e],[n,l]=r.default.useState(()=>M(t));return tC(()=>t(1,e=>{e!==n&&l(()=>e)}),[t,n]),n},usePublisher:e=>{let t=r.default.useContext(u);return r.default.useCallback(n=>{(0,t[e])(0,n)},[t,e])}}}let ty=r.default.createContext(void 0),tj=r.default.createContext(void 0),tR="u">typeof document?r.default.useLayoutEffect:r.default.useEffect;function tk(e){return"self"in e}function tH(e,t,n,l=N,o,i){let s=r.default.useRef(null),a=r.default.useRef(null),u=r.default.useRef(null),c=r.default.useCallback(n=>{let l,o,r,s=n.target;if("body"in s||tk(s)){let e=tk(s)?s:s.defaultView;r=i?e.scrollX:e.scrollY,l=i?e.document.documentElement.scrollWidth:e.document.documentElement.scrollHeight,o=i?e.innerWidth:e.innerHeight}else r=i?s.scrollLeft:s.scrollTop,l=i?s.scrollWidth:s.scrollHeight,o=i?s.offsetWidth:s.offsetHeight;let c=()=>{e({scrollHeight:l,scrollTop:Math.max(r,0),viewportHeight:o})};n.suppressFlushSync?c():R.default.flushSync(c),null!==a.current&&(r===a.current||r<=0||r===l-o)&&(a.current=null,t(!0),u.current&&(clearTimeout(u.current),u.current=null))},[e,t,i]);return r.default.useEffect(()=>{let e=o||s.current;return l(o||s.current),c({suppressFlushSync:!0,target:e}),e.addEventListener("scroll",c,{passive:!0}),()=>{l(null),e.removeEventListener("scroll",c)}},[s,c,n,l,o]),{scrollByCallback:function(e){i&&(e={behavior:e.behavior,left:e.top}),s.current.scrollBy(e)},scrollerRef:s,scrollToCallback:function(n){let l,o,r,c=s.current;if(!c||(i?"offsetWidth"in c&&0===c.offsetWidth:"offsetHeight"in c&&0===c.offsetHeight))return;let d="smooth"===n.behavior;tk(c)?(o=Math.max(eN(c.document.documentElement,i?"width":"height"),i?c.document.documentElement.scrollWidth:c.document.documentElement.scrollHeight),l=i?c.innerWidth:c.innerHeight,r=i?window.scrollX:window.scrollY):(o=c[i?"scrollWidth":"scrollHeight"],l=eN(c,i?"width":"height"),r=c[i?"scrollLeft":"scrollTop"]);let m=o-l;if(n.top=Math.ceil(Math.max(Math.min(m,n.top),0)),eQ(l,o)||n.top===r){e({scrollHeight:o,scrollTop:r,viewportHeight:l}),d&&t(!0);return}d?(a.current=n.top,u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{u.current=null,a.current=null,t(!0)},1e3)):a.current=null,i&&(n={behavior:n.behavior,left:n.top}),c.scrollTo(n)}}}let tz="-webkit-sticky",tN="sticky",tE=tv(()=>{if(typeof document>"u")return tN;let e=document.createElement("div");return e.style.position=tz,e.style.position===tz?tz:tN});function tL(e){return e}let tB=Q(()=>{let e=Y(e=>`Item ${e}`),t=Y(e=>`Group ${e}`),n=Y({}),l=Y(tL),o=Y("div"),r=Y(N),i=(e,t=null)=>X(G(n,W(t=>t[e]),A()),t);return{components:n,computeItemKey:l,EmptyPlaceholder:i("EmptyPlaceholder"),FooterComponent:i("Footer"),GroupComponent:i("Group","div"),groupContent:t,HeaderComponent:i("Header"),HeaderFooterTag:o,ItemComponent:i("Item","div"),itemContent:e,ListComponent:i("List","div"),ScrollerComponent:i("Scroller","div"),scrollerRef:r,ScrollSeekPlaceholder:i("ScrollSeekPlaceholder"),TopItemListComponent:i("TopItemList")}}),tM=Q(([e,t])=>({...e,...t}),L(tT,tB)),tP=({height:e})=>(0,n.jsx)("div",{style:{height:e}}),tF={overflowAnchor:"none",position:tE(),zIndex:1},tO={overflowAnchor:"none"},tU={...tO,display:"inline-block",height:"100%"},tA=r.default.memo(function({showTopList:e=!1}){let t=t1("listState"),l=t4("sizeRanges"),o=t1("useWindowScroll"),i=t1("customScrollParent"),s=t4("windowScrollContainerState"),a=t4("scrollContainerState"),u=t1("itemContent"),c=t1("context"),d=t1("groupContent"),m=t1("trackItemSizes"),h=t1("itemSize"),f=t1("log"),p=t4("gap"),g=t1("horizontalDirection"),{callbackRef:x}=eu(l,h,m,e?N:i||o?s:a,f,p,i,g,t1("skipAnimationFrameInResizeObserver")),[v,b]=r.default.useState(0);t0("deviation",e=>{v!==e&&b(e)});let w=t1("EmptyPlaceholder"),I=t1("ScrollSeekPlaceholder")||tP,T=t1("ListComponent"),C=t1("ItemComponent"),S=t1("GroupComponent"),y=t1("computeItemKey"),j=t1("isSeeking"),R=t1("groupIndices").length>0,k=t1("alignToBottom"),H=t1("initialItemFinalLocationReached"),z=e?{}:{boxSizing:"border-box",...g?{display:"inline-block",height:"100%",marginLeft:0!==v?v:k?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:0!==v?v:k?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...H?{}:{visibility:"hidden"}};return!e&&0===t.totalCount&&w?(0,n.jsx)(w,{...t$(w,c)}):(0,n.jsx)(T,{...t$(T,c),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:x,style:z,children:(e?t.topItems:t.items).map(e=>{let n=e.originalIndex,l=y(n+t.firstItemIndex,e.data,c);return j?(0,r.createElement)(I,{...t$(I,c),height:e.size,index:e.index,key:l,type:e.type||"item",..."group"===e.type?{}:{groupIndex:e.groupIndex}}):"group"===e.type?(0,r.createElement)(S,{...t$(S,c),"data-index":n,"data-item-index":e.index,"data-known-size":e.size,key:l,style:tF},d(e.index,c)):(0,r.createElement)(C,{...t$(C,c),...t_(C,e.data),"data-index":n,"data-item-group-index":e.groupIndex,"data-item-index":e.index,"data-known-size":e.size,key:l,style:g?tU:tO},R?u(e.index,e.groupIndex,e.data,c):u(e.index,e.data,c))})})}),tD={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},tW={outline:"none",overflowX:"auto",position:"relative"},tV=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),tG={position:tE(),top:0,width:"100%",zIndex:1};function t$(e,t){if("string"!=typeof e)return{context:t}}function t_(e,t){return{item:"string"==typeof e?void 0:t}}let tq=r.default.memo(function(){let e=t1("HeaderComponent"),t=t4("headerHeight"),l=t1("HeaderFooterTag"),o=es(r.default.useMemo(()=>e=>{t(eN(e,"height"))},[t]),!0,t1("skipAnimationFrameInResizeObserver")),i=t1("context");return e?(0,n.jsx)(l,{ref:o,children:(0,n.jsx)(e,{...t$(e,i)})}):null}),tK=r.default.memo(function(){let e=t1("FooterComponent"),t=t4("footerHeight"),l=t1("HeaderFooterTag"),o=es(r.default.useMemo(()=>e=>{t(eN(e,"height"))},[t]),!0,t1("skipAnimationFrameInResizeObserver")),i=t1("context");return e?(0,n.jsx)(l,{ref:o,children:(0,n.jsx)(e,{...t$(e,i)})}):null});function tY({useEmitter:e,useEmitterValue:t,usePublisher:l}){return r.default.memo(function({children:o,style:r,context:i,...s}){let a=l("scrollContainerState"),u=t("ScrollerComponent"),c=l("smoothScrollTargetReached"),d=t("scrollerRef"),m=t("horizontalDirection")||!1,{scrollByCallback:h,scrollerRef:f,scrollToCallback:p}=tH(a,c,u,d,void 0,m);return e("scrollTo",p),e("scrollBy",h),(0,n.jsx)(u,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:f,style:{...m?tW:tD,...r},tabIndex:0,...s,...t$(u,i),children:o})})}function tX({useEmitter:e,useEmitterValue:t,usePublisher:l}){return r.default.memo(function({children:o,style:i,context:s,...a}){let u=l("windowScrollContainerState"),c=t("ScrollerComponent"),d=l("smoothScrollTargetReached"),m=t("totalListHeight"),h=t("deviation"),f=t("customScrollParent"),p=r.default.useRef(null),{scrollByCallback:g,scrollerRef:x,scrollToCallback:v}=tH(u,d,c,t("scrollerRef"),f);return tR(()=>{var e;return x.current=f||(null==(e=p.current)?void 0:e.ownerDocument.defaultView),()=>{x.current=null}},[x,f]),e("windowScrollTo",v),e("scrollBy",g),(0,n.jsx)(c,{ref:p,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...0!==m?{height:m+h}:{}},...a,...t$(c,s),children:o})})}let tZ=({children:e})=>{let t=r.default.useContext(ty),l=t4("viewportHeight"),o=t4("fixedItemHeight"),i=t1("alignToBottom"),s=t1("horizontalDirection"),a=es(r.default.useMemo(()=>H(l,e=>eN(e,s?"width":"height")),[l,s]),!0,t1("skipAnimationFrameInResizeObserver"));return r.default.useEffect(()=>{t&&(l(t.viewportHeight),o(t.itemHeight))},[t,l,o]),(0,n.jsx)("div",{"data-viewport-type":"element",ref:a,style:tV(i),children:e})},tJ=({children:e})=>{let t=r.default.useContext(ty),l=t4("windowViewportRect"),o=t4("fixedItemHeight"),i=ed(l,t1("customScrollParent"),t1("skipAnimationFrameInResizeObserver")),s=t1("alignToBottom");return r.default.useEffect(()=>{t&&(o(t.itemHeight),l({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,l,o]),(0,n.jsx)("div",{"data-viewport-type":"window",ref:i,style:tV(s),children:e})},tQ=({children:e})=>{let t=t1("TopItemListComponent")||"div",l=t1("headerHeight"),o={...tG,marginTop:`${l}px`},r=t1("context");return(0,n.jsx)(t,{style:o,...t$(t,r),children:e})},{useEmitter:t0,useEmitterValue:t1,usePublisher:t4}=tS(tM,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},r.default.memo(function(e){let t=t1("useWindowScroll"),l=t1("topItemsIndexes").length>0,o=t1("customScrollParent"),r=t1("context");return(0,n.jsxs)(o||t?t3:t2,{...e,context:r,children:[l&&(0,n.jsx)(tQ,{children:(0,n.jsx)(tA,{showTopList:!0})}),(0,n.jsxs)(o||t?tJ:tZ,{children:[(0,n.jsx)(tq,{}),(0,n.jsx)(tA,{}),(0,n.jsx)(tK,{})]})]})})),t2=tY({useEmitter:t0,useEmitterValue:t1,usePublisher:t4}),t3=tX({useEmitter:t0,useEmitterValue:t1,usePublisher:t4}),t5=Q(()=>{let e=Y(e=>(0,n.jsxs)("td",{children:["Item $",e]})),t=Y(null),l=Y(e=>(0,n.jsxs)("td",{colSpan:1e3,children:["Group ",e]})),o=Y(null),r=Y(null),i=Y({}),s=Y(tL),a=Y(N),u=(e,t=null)=>X(G(i,W(t=>t[e]),A()),t);return{components:i,computeItemKey:s,context:t,EmptyPlaceholder:u("EmptyPlaceholder"),FillerRow:u("FillerRow"),fixedFooterContent:r,fixedHeaderContent:o,itemContent:e,groupContent:l,ScrollerComponent:u("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:u("ScrollSeekPlaceholder"),TableBodyComponent:u("TableBody","tbody"),TableComponent:u("Table","table"),TableFooterComponent:u("TableFoot","tfoot"),TableHeadComponent:u("TableHead","thead"),TableRowComponent:u("TableRow","tr"),GroupComponent:u("Group","tr")}}),t7=Q(([e,t])=>({...e,...t}),L(tT,t5)),t6=({height:e})=>(0,n.jsx)("tr",{children:(0,n.jsx)("td",{style:{height:e}})}),t8=({height:e})=>(0,n.jsx)("tr",{children:(0,n.jsx)("td",{style:{border:0,height:e,padding:0}})}),t9={overflowAnchor:"none"},ne={position:tE(),zIndex:2,overflowAnchor:"none"},nt=r.default.memo(function({showTopList:e=!1}){let t=ni("listState"),l=ni("computeItemKey"),o=ni("firstItemIndex"),i=ni("context"),s=ni("isSeeking"),a=ni("fixedHeaderHeight"),u=ni("groupIndices").length>0,c=ni("itemContent"),d=ni("groupContent"),m=ni("ScrollSeekPlaceholder")||t6,h=ni("GroupComponent"),f=ni("TableRowComponent"),p=(e?t.topItems:[]).reduce((e,t,n)=>(0===n?e.push(t.size):e.push(e[n-1]+t.size),e),[]),g=(e?t.topItems:t.items).map(t=>{let n=t.originalIndex,g=l(n+o,t.data,i),x=e?0===n?0:p[n-1]:0;return s?(0,r.createElement)(m,{...t$(m,i),height:t.size,index:t.index,key:g,type:t.type||"item"}):"group"===t.type?(0,r.createElement)(h,{...t$(h,i),"data-index":n,"data-item-index":t.index,"data-known-size":t.size,key:g,style:{...ne,top:a}},d(t.index,i)):(0,r.createElement)(f,{...t$(f,i),...t_(f,t.data),"data-index":n,"data-item-index":t.index,"data-known-size":t.size,"data-item-group-index":t.groupIndex,key:g,style:e?{...ne,top:a+x}:t9},u?c(t.index,t.groupIndex,t.data,i):c(t.index,t.data,i))});return(0,n.jsx)(n.Fragment,{children:g})}),nn=r.default.memo(function(){let e=ni("listState"),t=ni("topItemsIndexes").length>0,l=ns("sizeRanges"),o=ni("useWindowScroll"),i=ni("customScrollParent"),s=ns("windowScrollContainerState"),a=ns("scrollContainerState"),u=ni("trackItemSizes"),{callbackRef:c,ref:d}=eu(l,ni("itemSize"),u,i||o?s:a,ni("log"),void 0,i,!1,ni("skipAnimationFrameInResizeObserver")),[m,h]=r.default.useState(0);nr("deviation",e=>{m!==e&&(d.current.style.marginTop=`${e}px`,h(e))});let f=ni("EmptyPlaceholder"),p=ni("FillerRow")||t8,g=ni("TableBodyComponent"),x=ni("paddingTopAddition"),v=ni("statefulTotalCount"),b=ni("context");if(0===v&&f)return(0,n.jsx)(f,{...t$(f,b)});let w=(t?e.topItems:[]).reduce((e,t)=>e+t.size,0),I=e.offsetTop+x+m-w,T=e.offsetBottom,C=I>0?(0,n.jsx)(p,{context:b,height:I},"padding-top"):null,S=T>0?(0,n.jsx)(p,{context:b,height:T},"padding-bottom"):null;return(0,n.jsxs)(g,{"data-testid":"virtuoso-item-list",ref:c,...t$(g,b),children:[C,t&&(0,n.jsx)(nt,{showTopList:!0}),(0,n.jsx)(nt,{}),S]})}),nl=({children:e})=>{let t=r.default.useContext(ty),l=ns("viewportHeight"),o=ns("fixedItemHeight"),i=es(r.default.useMemo(()=>H(l,e=>eN(e,"height")),[l]),!0,ni("skipAnimationFrameInResizeObserver"));return r.default.useEffect(()=>{t&&(l(t.viewportHeight),o(t.itemHeight))},[t,l,o]),(0,n.jsx)("div",{"data-viewport-type":"element",ref:i,style:tV(!1),children:e})},no=({children:e})=>{let t=r.default.useContext(ty),l=ns("windowViewportRect"),o=ns("fixedItemHeight"),i=ed(l,ni("customScrollParent"),ni("skipAnimationFrameInResizeObserver"));return r.default.useEffect(()=>{t&&(o(t.itemHeight),l({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,l,o]),(0,n.jsx)("div",{"data-viewport-type":"window",ref:i,style:tV(!1),children:e})},{useEmitter:nr,useEmitterValue:ni,usePublisher:ns}=tS(t7,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},r.default.memo(function(e){let t=ni("useWindowScroll"),l=ni("customScrollParent"),o=ns("fixedHeaderHeight"),i=ns("fixedFooterHeight"),s=ni("fixedHeaderContent"),a=ni("fixedFooterContent"),u=ni("context"),c=es(r.default.useMemo(()=>H(o,e=>eN(e,"height")),[o]),!0,ni("skipAnimationFrameInResizeObserver")),d=es(r.default.useMemo(()=>H(i,e=>eN(e,"height")),[i]),!0,ni("skipAnimationFrameInResizeObserver")),m=l||t?nu:na,h=l||t?no:nl,f=ni("TableComponent"),p=ni("TableHeadComponent"),g=ni("TableFooterComponent"),x=s?(0,n.jsx)(p,{ref:c,style:{position:"sticky",top:0,zIndex:2},...t$(p,u),children:s()},"TableHead"):null,v=a?(0,n.jsx)(g,{ref:d,style:{bottom:0,position:"sticky",zIndex:1},...t$(g,u),children:a()},"TableFoot"):null;return(0,n.jsx)(m,{...e,...t$(m,u),children:(0,n.jsx)(h,{children:(0,n.jsxs)(f,{style:{borderSpacing:0,overflowAnchor:"none"},...t$(f,u),children:[x,(0,n.jsx)(nn,{},"TableBody"),v]})})})})),na=tY({useEmitter:nr,useEmitterValue:ni,usePublisher:ns}),nu=tX({useEmitter:nr,useEmitterValue:ni,usePublisher:ns}),nc={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},nd={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:nm,floor:nh,max:nf,min:np,round:ng}=Math;function nx(e,t,n){return Array.from({length:t-e+1}).map((t,l)=>({data:null===n?null:n[l+e],index:l+e}))}function nv(e,t){return e&&e.width===t.width&&e.height===t.height}function nb(e,t){return e&&e.column===t.column&&e.row===t.row}let nw=Q(([{increaseViewportBy:e,listBoundary:t,overscan:n,visibleRange:l},{footerHeight:o,headerHeight:r,scrollBy:i,scrollContainerState:s,scrollTo:a,scrollTop:u,smoothScrollTargetReached:c,viewportHeight:d},m,h,{didMount:f,propsReady:p},{customScrollParent:g,useWindowScroll:x,windowScrollContainerState:v,windowScrollTo:b,windowViewportRect:w},I])=>{let T=Y(0),C=Y(0),S=Y(nc),y=Y({height:0,width:0}),j=Y({height:0,width:0}),R=Z(),k=Z(),H=Y(0),z=Y(null),N=Y({column:0,row:0}),E=Z(),L=Z(),B=Y(!1),M=Y(0),O=Y(!0),U=Y(!1),$=Y(!1);G(f,K(M),D(([e,t])=>!!t))(1,()=>{O(0,!1)}),G(et(f,O,j,y,M,U),D(([e,t,n,l,,o])=>e&&!t&&0!==n.height&&0!==l.height&&!o))(1,([,,,,e])=>{U(0,!0),eX(1,()=>{R(0,e)}),F(G(u),()=>{t(0,[0,0]),O(0,!0)})}),P(G(L,D(e=>null!=e&&e.scrollTop>0),V(0)),C),G(f,K(L),D(([,e])=>null!=e))(1,([,e])=>{e&&(y(0,e.viewport),j(0,e.item),N(0,e.gap),e.scrollTop>0&&(B(0,!0),F(G(u,_(1)),e=>{B(0,!1)}),a(0,{top:e.scrollTop})))}),P(G(y,W(({height:e})=>e)),d),P(G(et(en(y,nv),en(j,nv),en(N,(e,t)=>e&&e.column===t.column&&e.row===t.row),en(u)),W(([e,t,n,l])=>({gap:n,item:t,scrollTop:l,viewport:e}))),E),P(G(et(en(T),l,en(N,nb),en(j,nv),en(y,nv),en(z),en(C),en(B),en(O),en(M)),D(([,,,,,,,e])=>!e),W(([e,[t,n],l,o,r,i,s,,a,u])=>{let c,d,{column:m,row:h}=l,{height:f,width:p}=o,{width:g}=r;if(0===s&&(0===e||0===g))return nc;if(0===p){var x;let t=eZ(u,e),n=t+Math.max(s-1,0);return x=nx(t,n,i),{...nd,items:x}}let v=nI(g,p,m);a?0===t&&0===n&&s>0?(c=0,d=s-1):(c=v*nh((t+h)/(f+h)),d=np(e-1,nf(d=v*nm((n+h)/(f+h))-1,v-1)),c=np(d,nf(0,c))):(c=0,d=-1);let b=nx(c,d,i),{bottom:w,top:I}=nT(r,l,o,b),T=nm(e/v);return{bottom:w,itemHeight:f,items:b,itemWidth:p,offsetBottom:T*f+(T-1)*h-w,offsetTop:I,top:I}})),S),P(G(z,D(e=>null!==e),W(e=>e.length)),T),P(G(et(y,j,S,N),D(([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height),W(([e,t,{items:n},l])=>{let{bottom:o,top:r}=nT(e,l,t,n);return[r,o]}),A(ek)),t);let Q=Y(!1);P(G(u,K(Q),W(([e,t])=>t||0!==e)),Q);let ee=J(G(et(S,T),D(([{items:e}])=>e.length>0),K(Q),D(([[e,t],n])=>{let l=e.items[e.items.length-1].index===t-1;return(n||e.bottom>0&&e.itemHeight>0&&0===e.offsetBottom&&e.items.length===t)&&l}),W(([[,e]])=>e-1),A())),el=J(G(en(S),D(({items:e})=>e.length>0&&0===e[0].index),V(0),A())),eo=J(G(en(S),K(B),D(([{items:e},t])=>e.length>0&&!t),W(([{items:e}])=>({endIndex:e[e.length-1].index,startIndex:e[0].index})),A(eR),q(0)));P(eo,h.scrollSeekRangeChanged),P(G(R,K(y,j,T,N),W(([e,t,n,l,o])=>{let r=eK(e),{align:i,behavior:s,offset:a}=r,u=r.index;"LAST"===u&&(u=l-1);let c=nC(t,o,n,u=nf(0,u,np(l-1,u)));return"end"===i?c=ng(c-t.height+n.height):"center"===i&&(c=ng(c-t.height/2+n.height/2)),a&&(c+=a),{behavior:s,top:c}})),a);let er=X(G(S,W(e=>e.offsetBottom+e.bottom)),0);return P(G(w,W(e=>({height:e.visibleHeight,width:e.visibleWidth}))),y),{customScrollParent:g,data:z,deviation:H,footerHeight:o,gap:N,headerHeight:r,increaseViewportBy:e,initialItemCount:C,itemDimensions:j,overscan:n,restoreStateFrom:L,scrollBy:i,scrollContainerState:s,scrollHeight:k,scrollTo:a,scrollToIndex:R,scrollTop:u,smoothScrollTargetReached:c,totalCount:T,useWindowScroll:x,viewportDimensions:y,windowScrollContainerState:v,windowScrollTo:b,windowViewportRect:w,...h,gridState:S,horizontalDirection:$,initialTopMostItemIndex:M,totalListHeight:er,...m,endReached:ee,propsReady:p,rangeChanged:eo,startReached:el,stateChanged:E,stateRestoreInProgress:B,...I}},L(e6,em,e4,th,e_,tf,ei));function nI(e,t,n){return nf(1,nh((e+n)/(nh(t)+n)))}function nT(e,t,n,l){let{height:o}=n;if(void 0===o||0===l.length)return{bottom:0,top:0};let r=nC(e,t,n,l[0].index);return{bottom:nC(e,t,n,l[l.length-1].index)+o,top:r}}function nC(e,t,n,l){let o=nh(l/nI(e.width,n.width,t.column)),r=o*n.height+nf(0,o-1)*t.row;return r>0?r+t.row:r}let nS=Q(()=>{let e=Y(e=>`Item ${e}`),t=Y({}),n=Y(null),l=Y("virtuoso-grid-item"),o=Y("virtuoso-grid-list"),r=Y(tL),i=Y("div"),s=Y(N),a=(e,n=null)=>X(G(t,W(t=>t[e]),A()),n),u=Y(!1),c=Y(!1);return P(en(c),u),{components:t,computeItemKey:r,context:n,FooterComponent:a("Footer"),HeaderComponent:a("Header"),headerFooterTag:i,itemClassName:l,ItemComponent:a("Item","div"),itemContent:e,listClassName:o,ListComponent:a("List","div"),readyStateChanged:u,reportReadyState:c,ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder","div")}}),ny=Q(([e,t])=>({...e,...t}),L(nw,nS)),nj=r.default.memo(function(){let e=nL("gridState"),t=nL("listClassName"),l=nL("itemClassName"),o=nL("itemContent"),i=nL("computeItemKey"),s=nL("isSeeking"),a=nB("scrollHeight"),u=nL("ItemComponent"),c=nL("ListComponent"),d=nL("ScrollSeekPlaceholder"),m=nL("context"),h=nB("itemDimensions"),f=nB("gap"),p=nL("log"),g=nL("stateRestoreInProgress"),x=nB("reportReadyState"),v=es(r.default.useMemo(()=>e=>{a(e.parentElement.parentElement.scrollHeight);let t=e.firstChild;if(t){let{height:e,width:n}=t.getBoundingClientRect();h({height:e,width:n})}f({column:nF("column-gap",getComputedStyle(e).columnGap,p),row:nF("row-gap",getComputedStyle(e).rowGap,p)})},[a,h,f,p]),!0,!1);return tR(()=>{e.itemHeight>0&&e.itemWidth>0&&x(!0)},[e]),g?null:(0,n.jsx)(c,{className:t,ref:v,...t$(c,m),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(t=>{let a=i(t.index,t.data,m);return s?(0,n.jsx)(d,{...t$(d,m),height:e.itemHeight,index:t.index,width:e.itemWidth},a):(0,r.createElement)(u,{...t$(u,m),className:l,"data-index":t.index,key:a},o(t.index,t.data,m))})})}),nR=r.default.memo(function(){let e=nL("HeaderComponent"),t=nB("headerHeight"),l=nL("headerFooterTag"),o=es(r.default.useMemo(()=>e=>{t(eN(e,"height"))},[t]),!0,!1),i=nL("context");return e?(0,n.jsx)(l,{ref:o,children:(0,n.jsx)(e,{...t$(e,i)})}):null}),nk=r.default.memo(function(){let e=nL("FooterComponent"),t=nB("footerHeight"),l=nL("headerFooterTag"),o=es(r.default.useMemo(()=>e=>{t(eN(e,"height"))},[t]),!0,!1),i=nL("context");return e?(0,n.jsx)(l,{ref:o,children:(0,n.jsx)(e,{...t$(e,i)})}):null}),nH=({children:e})=>{let t=r.default.useContext(tj),l=nB("itemDimensions"),o=nB("viewportDimensions"),i=es(r.default.useMemo(()=>e=>{o(e.getBoundingClientRect())},[o]),!0,!1);return r.default.useEffect(()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),l({height:t.itemHeight,width:t.itemWidth}))},[t,o,l]),(0,n.jsx)("div",{ref:i,style:tV(!1),children:e})},nz=({children:e})=>{let t=r.default.useContext(tj),l=nB("windowViewportRect"),o=nB("itemDimensions"),i=ed(l,nL("customScrollParent"),!1);return r.default.useEffect(()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),l({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,l,o]),(0,n.jsx)("div",{ref:i,style:tV(!1),children:e})},{Component:nN,useEmitter:nE,useEmitterValue:nL,usePublisher:nB}=tS(ny,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},r.default.memo(function({...e}){let t=nL("useWindowScroll"),l=nL("customScrollParent"),o=l||t?nP:nM,r=l||t?nz:nH,i=nL("context");return(0,n.jsx)(o,{...e,...t$(o,i),children:(0,n.jsxs)(r,{children:[(0,n.jsx)(nR,{}),(0,n.jsx)(nj,{}),(0,n.jsx)(nk,{})]})})})),nM=tY({useEmitter:nE,useEmitterValue:nL,usePublisher:nB}),nP=tX({useEmitter:nE,useEmitterValue:nL,usePublisher:nB});function nF(e,t,n){return"normal"===t||null!=t&&t.endsWith("px")||n(`${e} was not resolved to pixel value correctly`,t,eo.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}var nO=e.i(971319),nU=e.i(542748);let nA=new Map,nD=new Map,nW=(0,r.memo)(({src:e,alt:t,fill:l,className:o,sizes:i,width:s,height:a,onGenerateCachedImageUrl:u,fallback:c})=>{let[d,m]=(0,r.useState)(()=>e&&nA.get(e)||null),[h,f]=(0,r.useState)(()=>!e||!nA.has(e)),[p,g]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!e)return void setTimeout(()=>{f(!1)},0);let t=nA.get(e);if(t)return void setTimeout(()=>{m(t),f(!1)},0);let n=!1;return(async()=>{try{f(!0),g(null);let t=nD.get(e);t||(t=u(e),nD.set(e,t),t.finally(()=>{nD.delete(e)}));let l=await t;n||(nA.set(e,l),m(l),f(!1))}catch(e){n||(g(e instanceof Error?e:Error("Failed to load image")),f(!1))}})(),()=>{n=!0}},[e,u]),h)?(0,n.jsx)("div",{className:o,children:(0,n.jsx)("div",{className:"bg-base-200 h-full w-full animate-pulse"})}):p||!d?c?(0,n.jsx)(n.Fragment,{children:c}):(0,n.jsx)("div",{className:`flex h-full w-full items-center justify-center ${o||""}`,children:(0,n.jsx)("div",{className:"text-base-content/30",children:(0,n.jsx)("svg",{className:"h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}):l?(0,n.jsx)(nU.default,{src:d,alt:t,fill:!0,className:o,sizes:i}):(0,n.jsx)(nU.default,{src:d,alt:t,width:s,height:a,className:o,sizes:i})},(e,t)=>e.src===t.src&&e.alt===t.alt&&e.fill===t.fill&&e.className===t.className&&e.sizes===t.sizes&&e.width===t.width&&e.height===t.height),nV="http://opds-spec.org/acquisition",nG=["http://opds-spec.org/image","http://opds-spec.org/cover"],n$=["http://opds-spec.org/image/thumbnail","http://opds-spec.org/thumbnail"],n_=Symbol("summary"),nq=Symbol("content");function nK({publication:e,baseURL:t,onClick:l,resolveURL:o,onGenerateCachedImageUrl:i}){let s=(0,p.useTranslation)(),a=(0,r.useMemo)(()=>(0,S.groupByArray)(e.links,e=>e.rel),[e.links]),u=(0,r.useMemo)(()=>{let t=e.images?.filter(e=>n$.some(t=>e.rel?.includes(t)));return t?.[0]||e.images?.[0]},[e.images]),c=(0,r.useMemo)(()=>{let t=e.images?.filter(e=>nG.some(t=>e.rel?.includes(t)));return t?.[0]},[e.images])||u,d=c?o(c.href,t):null,m=(0,r.useMemo)(()=>e.metadata?.author?.map(e=>"string"==typeof e?e:e.name).join(", "),[e.metadata?.author]),h=(0,r.useMemo)(()=>{let t=e.links?.find(e=>e.properties?.price);if(t?.properties?.price){let{currency:e,value:n}=t.properties.price;return`${e} ${n}`}return a.has(nV+"/open-access")?s("Open Access"):null},[e.links,a]);return(0,n.jsxs)("div",{role:"none",onClick:l,className:"card bg-base-100 cursor-pointer transition-shadow",children:[(0,n.jsx)("figure",{className:"bg-base-200 relative aspect-[28/41] rounded-none shadow-md",children:(0,n.jsx)(nW,{src:d,alt:e.metadata?.title||"Book cover",fill:!0,className:"object-cover",sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",onGenerateCachedImageUrl:i})}),(0,n.jsxs)("div",{className:"py-3",children:[(0,n.jsx)("h3",{className:"card-title line-clamp-1 text-sm",children:e.metadata?.title||"Untitled"}),m&&(0,n.jsx)("p",{className:"text-base-content/70 line-clamp-1 text-xs",children:m}),h&&(0,n.jsx)("div",{className:"card-actions mt-2 justify-end",children:(0,n.jsx)("div",{className:"badge badge-outline badge-sm",children:h})})]})]})}function nY({item:e,baseURL:t,onClick:l,resolveURL:o}){let r=(0,p.useTranslation)(),i=o(e.href||"",t),s=e[n_];return(0,n.jsx)("div",{role:"none",onClick:()=>l(i),className:"card bg-base-100 border-base-300 hover:bg-base-200/30 cursor-pointer rounded-lg border shadow-sm transition-shadow",children:(0,n.jsx)("div",{className:"card-body flex justify-center p-4",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsx)("h3",{title:e.title||r("Untitled"),className:"line-clamp-1 text-sm font-semibold",children:e.title||r("Untitled")}),e.properties?.numberOfItems&&(0,n.jsx)("p",{className:"text-base-content/60 text-xs",children:r("{{count}} items",{count:e.properties.numberOfItems})}),s&&(0,n.jsx)("p",{title:s,className:"text-base-content/70 mt-1 line-clamp-1 text-xs",children:s})]}),(0,n.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,n.jsx)(nO.IoChevronForward,{className:"text-base-content/40 h-5 w-5 flex-shrink-0"})})]})})})}let nX="grid grid-cols-3 gap-4 px-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";function nZ({feed:e,baseURL:t,resolveURL:l,onNavigate:o,onPublicationSelect:i,onGenerateCachedImageUrl:s}){let a=(0,p.useTranslation)(),u=(0,r.useMemo)(()=>(0,S.groupByArray)(e.links,e=>e.rel),[e.links]),c=(0,r.useMemo)(()=>["first","previous","next","last"].map(e=>u.get(e)),[u]),d=e.facets&&e.facets.length>0,m=e=>{e&&e.length>0&&o(l(e[0]?.href||"",t))},h=e=>{o(l(e,t))},f=(0,r.useCallback)(o=>(0,n.jsx)(nK,{publication:e.publications[o],baseURL:t,onClick:()=>i(-1,o),resolveURL:l,onGenerateCachedImageUrl:s}),[e.publications,t,i,l,s]);return(0,n.jsxs)("div",{className:"flex h-full flex-col",children:[(0,n.jsxs)("div",{className:"opds-header flex-shrink-0 px-4 py-6",children:[e.metadata?.title&&(0,n.jsx)("h1",{className:"mb-2 text-xl font-bold",children:e.metadata.title}),e.metadata?.subtitle&&(0,n.jsx)("p",{className:"text-base-content/70 text-sm",children:e.metadata.subtitle})]}),(0,n.jsxs)("div",{className:"flex min-h-0 flex-1 gap-6",children:[d&&(0,n.jsx)("aside",{className:"hidden w-64 flex-shrink-0 overflow-y-auto lg:block",children:(0,n.jsxs)("div",{className:"px-4",children:[(0,n.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,n.jsx)(nO.IoFilter,{className:"h-5 w-5"}),(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Filters"})]}),(0,n.jsx)("div",{className:"space-y-6",children:e.facets?.map((e,o)=>(0,n.jsxs)("section",{children:[e.metadata?.title&&(0,n.jsx)("h3",{className:"text-base-content/70 mb-2 text-sm font-medium",children:e.metadata.title}),(0,n.jsx)("ul",{className:"space-y-1",children:e.links.map((e,o)=>{let r="self"===e.rel||e.rel?.includes("self"),i=l(e.href,t);return(0,n.jsx)("li",{children:(0,n.jsx)("button",{onClick:()=>h(i),className:`w-full rounded px-3 py-1.5 text-left text-sm transition-colors ${r?"bg-primary text-primary-content font-medium":"hover:bg-base-200"}`,children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"truncate",children:e.title||"Untitled"}),e.properties?.numberOfItems&&(0,n.jsx)("span",{className:"ml-2 text-xs opacity-70",children:e.properties.numberOfItems})]})})},o)})})]},o))})]})}),(0,n.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[e.navigation&&e.navigation.length>0&&(0,n.jsx)("section",{className:"opds-navigation flex-shrink-0 pb-6",children:(0,n.jsx)("div",{className:"grid grid-cols-2 gap-4 px-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 max-[450px]:grid-cols-1",children:e.navigation.map((e,o)=>(0,n.jsx)(nY,{item:e,baseURL:t,onClick:h,resolveURL:l},o))})}),e.publications&&e.publications.length>0&&(0,n.jsx)("section",{className:"opds-publications min-h-0 flex-1",children:(0,n.jsx)(nN,{style:{height:"100%"},totalCount:e.publications.length,listClassName:nX,itemContent:f})}),e.groups?.map((e,o)=>(0,n.jsxs)("section",{className:"mb-12 flex-shrink-0",children:[e.metadata&&(0,n.jsxs)("div",{className:"mb-4 flex items-center justify-between px-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold",children:e.metadata.title}),e.links&&e.links.length>0&&(0,n.jsx)("button",{onClick:()=>{let n=e.links[0];h(l(n?.href||"",t))},className:"btn btn-sm btn-ghost",children:a("View All")})]}),e.navigation&&(0,n.jsx)("div",{className:`opds-navigation ${nX}`,children:e.navigation.map((e,o)=>(0,n.jsx)(nY,{item:e,baseURL:t,onClick:h,resolveURL:l},o))}),e.publications&&(0,n.jsx)("div",{className:`opds-publications ${nX}`,children:e.publications.map((e,r)=>(0,n.jsx)(nK,{publication:e,baseURL:t,onClick:()=>i(o,r),resolveURL:l,onGenerateCachedImageUrl:s},r))})]},o)),c.some(e=>e&&e.length>0)&&(0,n.jsxs)("nav",{className:"flex flex-shrink-0 justify-center gap-2 py-4",children:[(0,n.jsxs)("button",{onClick:()=>m(c[0]),disabled:!c[0],className:"btn btn-sm",title:a("First"),children:[(0,n.jsx)(nO.IoChevronBack,{className:"h-4 w-4"}),(0,n.jsx)(nO.IoChevronBack,{className:"-ml-3 h-4 w-4"})]}),(0,n.jsxs)("button",{onClick:()=>m(c[1]),disabled:!c[1],className:"btn btn-sm",title:a("Previous"),children:[(0,n.jsx)(nO.IoChevronBack,{className:"h-4 w-4"}),a("Previous")]}),(0,n.jsxs)("button",{onClick:()=>m(c[2]),disabled:!c[2],className:"btn btn-sm",title:a("Next"),children:[a("Next"),(0,n.jsx)(nO.IoChevronForward,{className:"h-4 w-4"})]}),(0,n.jsxs)("button",{onClick:()=>m(c[3]),disabled:!c[3],className:"btn btn-sm",title:a("Last"),children:[(0,n.jsx)(nO.IoChevronForward,{className:"h-4 w-4"}),(0,n.jsx)(nO.IoChevronForward,{className:"-ml-3 h-4 w-4"})]})]})]})]})]})}var nJ=e.i(955066),nQ=e.i(647735),n0=e.i(209051),n1=e.i(887442);function n4({publication:e,baseURL:t,resolveURL:o,onDownload:s,onGenerateCachedImageUrl:a}){let u=(0,p.useTranslation)(),c=(0,i.useRouter)(),[d,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[g,x]=(0,r.useState)(null),v=(0,r.useMemo)(()=>(0,S.groupByArray)(e.links,e=>e.rel),[e.links]),b=(0,r.useMemo)(()=>{let t=e.images?.filter(e=>nG.some(t=>e.rel?.includes(t)));return t?.[0]||e.images?.[0]},[e.images]),w=b?o(b.href,t):null,I=(0,r.useMemo)(()=>e.metadata?.author?.map(e=>"string"==typeof e?e:e.name),[e.metadata?.author]),y=(0,r.useMemo)(()=>{let e=[];for(let[t,n]of Array.from(v.entries()))t?.startsWith(nV)&&e.push({rel:t,links:n});return e},[v]),j=async(e,t)=>{if(h)return void(0,nQ.navigateToReader)(c,[h.hash]);m(!0),x(null);try{let n=await s(e,t,e=>{if(e.total>0){let t=Math.floor(e.progress/e.total*100);x(t)}});n&&f(n),T.eventDispatcher.dispatch("toast",{type:"success",message:u("Download completed")})}catch(t){console.error("Download failed:",t),T.eventDispatcher.dispatch("toast",{type:"error",message:u("Download failed")+`:
${e}`})}finally{m(!1),x(null)}},R=e=>e===nV+"/open-access"?u("Open Access"):e===nV+"/borrow"?u("Borrow"):e===nV+"/buy"?u("Buy"):e===nV+"/subscribe"?u("Subscribe"):e===nV+"/sample"?u("Sample"):u("Download"),k=e.metadata?.[nq],H=e.metadata?.description;return(0,n.jsxs)("div",{className:"flex w-full flex-col px-6 py-6",children:[(0,n.jsxs)("div",{className:"mb-6 flex w-full flex-row items-start gap-6 max-[320px]:flex-col",children:[(0,n.jsx)("div",{className:"h-44 flex-shrink-0 sm:h-56 md:h-64",children:(0,n.jsx)("div",{className:"bg-base-200 relative aspect-[28/41] h-full overflow-hidden rounded-none shadow-lg",children:(0,n.jsx)(nW,{src:w,alt:e.metadata?.title||"Book cover",fill:!0,className:"object-cover",sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",onGenerateCachedImageUrl:a})})}),(0,n.jsxs)("div",{className:"flex h-44 min-w-0 flex-col justify-between max-[320px]:h-32 sm:h-56 md:h-64",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[e.metadata?.subtitle&&(0,n.jsx)("p",{className:"text-base-content/60 mb-1 text-sm",children:e.metadata.subtitle}),(0,n.jsx)("h1",{className:"mb-2 text-base font-bold",children:e.metadata?.title||"Untitled"}),I&&I.length>0&&(0,n.jsx)("p",{className:"text-base-content/70 text-sm",children:I.join(", ")})]}),y.length>0&&(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[y.map(({rel:e,links:t})=>(0,n.jsx)("div",{className:"flex gap-1",children:1===t.length||h?(0,n.jsx)("button",{onClick:()=>j(t[0].href,t[0].type),disabled:d,className:(0,l.default)("btn btn-primary min-w-20 rounded-3xl",h&&"btn-success"),children:h?u("Open & Read"):R(e)}):(0,n.jsx)(n0.default,{label:u("Download"),className:"dropdown-bottom flex justify-center",buttonClassName:(0,l.default)("btn btn-ghost btn-primary min-w-20 rounded-3xl p-0 hover:bg-transparent",h&&"btn-success"),disabled:d,toggleButton:(0,n.jsx)("div",{children:h?u("Open"):R(e)}),children:(0,n.jsx)("div",{className:(0,l.default)("delete-menu dropdown-content dropdown-center no-triangle","border-base-300 !bg-base-200 z-20 mt-2 max-w-[80vw] shadow-2xl"),children:t.map((e,t)=>(0,n.jsx)(n1.default,{noIcon:!0,transient:!0,label:e.title||(0,C.getFileExtFromMimeType)(e.type||"").toUpperCase()||t.toString(),onClick:()=>j(e.href,e.type)},t))})})},e)),(0,n.jsx)("div",{className:"flex h-12 w-12 items-center justify-center",children:d&&g&&g>0&&(0,n.jsxs)("div",{className:"radial-progress flex items-center justify-center",style:{"--value":g,"--size":"2.5rem",fontSize:"0.6rem",lineHeight:"0.8rem"},"aria-valuenow":g||0,role:"progressbar",children:[g,"%"]})})]})]})]}),(0,n.jsxs)("div",{className:"max-w-xl items-start space-y-6",children:[(k||H)&&(0,n.jsx)("div",{className:"prose prose-sm max-w-none",children:k?(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:("html"===k.type||k.type,k.value)}}):(0,n.jsx)("p",{children:H})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("style",{children:`
              .table :where(th, td) {
                padding: 10px 0px;
              }
            `}),(0,n.jsx)("table",{className:"table text-sm",children:(0,n.jsxs)("tbody",{children:[e.metadata?.publisher&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"w-32",children:u("Publisher")}),(0,n.jsx)("td",{children:"string"==typeof e.metadata.publisher?e.metadata.publisher:Array.isArray(e.metadata.publisher)?e.metadata.publisher.map(e=>"string"==typeof e?e:e.name).join(", "):e.metadata.publisher.name})]}),e.metadata?.published&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:u("Published")}),(0,n.jsx)("td",{children:(0,nJ.formatDate)(e.metadata.published,!0)})]}),e.metadata?.language&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:u("Language")}),(0,n.jsx)("td",{children:Array.isArray(e.metadata.language)?e.metadata.language.map(e=>(0,nJ.formatLanguage)(e)).join(", "):(0,nJ.formatLanguage)(e.metadata.language)})]}),e.metadata?.identifier&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:u("Identifier")}),(0,n.jsx)("td",{children:(0,n.jsx)("code",{className:"text-xs",children:e.metadata.identifier})})]})]})})]}),e.metadata?.subject&&e.metadata.subject.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"mb-3 text-sm font-semibold",children:u("Tags")}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:e.metadata.subject.map((e,t)=>{let l="string"==typeof e?e:e.name||e.code||u("Tag");return(0,n.jsxs)("div",{className:"badge badge-outline max-w-full gap-1",children:[(0,n.jsx)(nO.IoPricetag,{className:"h-3 min-h-3 w-3 min-w-3"}),(0,n.jsx)("div",{className:"truncate",title:l,children:l})]},t)})})]})]})]})}function n2({search:e,baseURL:t,onNavigate:l,resolveURL:o}){let i=(0,p.useTranslation)(),[s,a]=(0,r.useState)(()=>{let t={};return e.params?.forEach(e=>{"count"===e.name?t[e.name]="20":"startPage"===e.name?t[e.name]="1":t[e.name]=e.value||""}),t}),u=e=>({searchTerms:i("Title, Author, Tag, etc..."),query:i("Query"),title:i("Title"),author:i("Author"),publisher:i("Publisher"),language:i("Language"),subject:i("Subject"),count:i("Count"),startPage:i("Start Page")})[e]||e;return(0,n.jsxs)("div",{className:"container mx-auto max-w-md px-4 py-12",children:[(0,n.jsxs)("div",{className:"mb-8 text-center",children:[(0,n.jsx)("h1",{className:"mb-2 text-xl font-bold",children:e.metadata?.title||i("Search")}),e.metadata?.description&&(0,n.jsx)("p",{className:"text-base-content/70",children:e.metadata.description})]}),(0,n.jsxs)("form",{onSubmit:n=>{n.preventDefault();let r=new Map;for(let t of e.params||[]){let e=s[t.name]||"",n=t.ns??null;r.has(n)?r.get(n).set(t.name,e):r.set(n,new Map([[t.name,e]]))}l(o(e.search(r),t),!0)},className:"space-y-4",children:[(e.params||[]).map(t=>(0,n.jsxs)("div",{className:"form-control",children:[(0,n.jsx)("label",{className:"label",children:(0,n.jsxs)("span",{className:"label-text font-medium",children:[u(t.name),t.required&&(0,n.jsx)("span",{className:"text-error ml-1",children:"*"})]})}),(0,n.jsx)("input",{type:"searchTerms"===t.name||"query"===t.name?"search":"text",value:s[t.name]||"",onChange:e=>{var n,l;return n=t.name,l=e.target.value,void a(e=>({...e,[n]:l}))},required:t.required,placeholder:`${i("Enter {{terms}}",{terms:u(t.name).toLowerCase()})}`,className:"input input-bordered w-full",autoFocus:"searchTerms"===t.name||"query"===t.name||e.params[0]?.name===t.name})]},`${t.ns||"default"}-${t.name}`)),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsxs)("button",{type:"submit",className:"btn btn-primary w-full",children:[(0,n.jsx)(nO.IoSearch,{className:"h-5 w-5"}),i("Search")]})})]})]})}var n3=e.i(205560),n5=e.i(360289),n7=e.i(698353),n6=e.i(302814),n8=e.i(675788);function n9({searchTerm:e,onBack:t,onForward:o,onGoStart:s,onSearch:a,canGoBack:c,canGoForward:d,hasSearch:m=!1}){let h=(0,p.useTranslation)(),f=(0,i.useRouter)(),{appService:g}=(0,u.useEnv)(),{settings:v}=(0,x.useSettingsStore)(),b=v.globalViewSettings,w=(0,r.useRef)(null),[I,T]=(0,r.useState)(""),{isTrafficLightVisible:C}=(0,n7.useTrafficLight)();(0,r.useEffect)(()=>{T(e||"")},[e]),(0,r.useEffect)(()=>{m&&w.current&&w.current.focus()},[m]);let S=(0,r.useCallback)(()=>{(0,nQ.navigateToLibrary)(f,"opds=true",{},!0)},[f]),y=(0,r.useCallback)((0,n6.debounce)(e=>{e&&a(e)},1e3),[a]);return(0,n.jsxs)("header",{className:(0,l.default)("navbar min-h-0 px-2","flex h-[48px] w-full items-center",g?.isMobile?"":"bg-base-100"),children:[(0,n.jsxs)("div",{className:(0,l.default)("justify-start gap-1 sm:gap-3",C&&"!pl-16"),children:[(0,n.jsxs)("div",{className:"flex gap-1",children:[t&&(0,n.jsx)("button",{className:"btn btn-ghost btn-sm px-1 disabled:bg-transparent",onClick:t,disabled:!c,title:h("Back"),children:(0,n.jsx)(nO.IoChevronBack,{className:"h-6 w-6"})}),o&&(0,n.jsx)("button",{className:"btn btn-ghost btn-sm px-1 disabled:bg-transparent",onClick:o,disabled:!d,title:h("Forward"),children:(0,n.jsx)(nO.IoChevronForward,{className:"h-6 w-6"})})]}),(0,n.jsx)("button",{className:"btn btn-ghost btn-sm px-1",onClick:s,title:h("Home"),children:(0,n.jsx)(nO.IoHome,{className:"h-5 w-5"})})]}),(0,n.jsx)("div",{className:"flex-grow px-3 sm:px-5",children:(0,n.jsxs)("div",{className:"relative flex w-full items-center",children:[(0,n.jsx)("span",{className:"text-base-content/50 absolute left-3",children:(0,n.jsx)(n3.FaSearch,{className:"h-4 w-4"})}),(0,n.jsx)("input",{type:"text",ref:w,value:I,placeholder:h("Search in OPDS Catalog..."),disabled:!m,onChange:e=>{let t=e.target.value;T(t),y(t)},spellCheck:"false",className:(0,l.default)("input rounded-badge h-9 w-full pl-10 pr-4 sm:h-7",b?.isEink?"border-1 border-base-content focus:border-base-content":"bg-base-300/45 border-none","font-sans text-sm font-light","placeholder:text-base-content/50 truncate","focus:outline-none focus:ring-0")}),(0,n.jsx)("div",{className:"text-base-content/50 absolute right-2 flex items-center space-x-2 sm:space-x-4",children:I&&(0,n.jsx)("button",{type:"button",onClick:()=>{T(""),s()},className:"text-base-content/40 hover:text-base-content/60 pe-1","aria-label":h("Clear Search"),children:(0,n.jsx)(n5.IoMdCloseCircle,{className:"h-4 w-4"})})})]})}),(0,n.jsx)("div",{className:"justify-end gap-2 px-1",children:(0,n.jsx)(n8.default,{className:"window-buttons flex h-full items-center",onClose:()=>{S()}})})]})}function le(){let e=(0,p.useTranslation)(),t=(0,i.useRouter)(),{appService:R}=(0,u.useEnv)(),{user:k}=(0,c.useAuth)(),{libraryLoaded:H}=(0,I.useLibrary)(),{safeAreaInsets:z,isRoundedWindow:N}=(0,f.useThemeStore)(),{settings:E}=(0,x.useSettingsStore)(),[L,B]=(0,r.useState)("loading"),[M,P]=(0,r.useState)({baseURL:"",currentURL:""}),[F,O]=(0,r.useState)(null),[U,A]=(0,r.useState)(null),[D,W]=(0,r.useState)([]),[V,G]=(0,r.useState)(-1),$=(0,i.useSearchParams)(),_=$?.get("url")||"",q=$?.get("id")||"",K=(0,r.useRef)(void 0),Y=(0,r.useRef)(void 0),X=(0,r.useRef)(void 0),Z=(0,r.useRef)(!1),J=(0,r.useRef)(-1),Q=(0,r.useRef)(!1),ee=(0,r.useRef)("");(0,w.useTheme)({systemUIVisible:!1}),(0,b.useTransferQueue)(H),(0,r.useEffect)(()=>{X.current=M.startURL},[M.startURL]),(0,r.useEffect)(()=>{J.current=V},[V]);let et=(0,r.useCallback)((e,t,n,l=null)=>{let o={url:e,state:t,viewMode:n,selectedPublication:l};W(e=>[...e.slice(0,J.current+1),o]),G(e=>e+1)},[]),en=(0,r.useCallback)((e,t,n)=>{if(n){let l={};e.params?.forEach(e=>{"count"===e.name?l[e.name]="20":"startPage"===e.name?l[e.name]="1":"searchTerms"===e.name?l[e.name]=n:l[e.name]=e.value||""});let o=new Map;for(let t of e.params||[]){let e=l[t.name]||"",n=t.ns??null;o.has(n)?o.get(n).set(t.name,e):o.set(n,new Map([[t.name,e]]))}let r=e.search(o);eo((0,S.resolveURL)(r,t),!0)}},[]),el=(0,r.useCallback)(async(n,l={})=>{let{skipHistory:o=!1,isSearch:r=!1}=l;if(!Z.current){Z.current=!0,B("loading"),A(null);try{let l=(0,d.isWebAppPlatform)(),i=K.current||"",a=Y.current||"",u=await (0,y.fetchWithAuth)(n,i,a,l);if(!u.ok)if(r&&404===u.status){let t=e("No search results found");T.eventDispatcher.dispatch("toast",{message:t,timeout:2e3,type:"warning"}),B("search");return}else{let n=e("Failed to load OPDS feed: {{status}} {{statusText}}",{status:u.status,statusText:u.statusText});throw T.eventDispatcher.dispatch("toast",{message:n,timeout:5e3,type:"error"}),setTimeout(()=>{t.back()},5e3),Error(n)}let c=X.current||n,m=u.url,h=await u.text();if(h.startsWith("<")){let e=new DOMParser().parseFromString(h,S.MIME.XML),{documentElement:{localName:l}}=e;if("feed"===l){let t={feed:(0,s.getFeed)(e),baseURL:m,currentURL:n,startURL:c||m};P(t),B("feed"),O(null),o||et(n,t,"feed",null)}else if("entry"===l){let t={publication:(0,s.getPublication)(e.documentElement),baseURL:m,currentURL:n,startURL:c||m};P(t),B("publication"),O(null),o||et(n,t,"publication",null)}else if("OpenSearchDescription"===l){let t=(0,s.getOpenSearch)(e),l={search:t,baseURL:m,currentURL:n,startURL:c||m};P(l),ee.current?en(t,m,ee.current):(B("search"),O(null)),o||et(n,l,"search",null)}else{let e=u.headers.get("Content-Type")??S.MIME.HTML,n=(0,S.parseMediaType)(e)?.mediaType??S.MIME.HTML,l=new DOMParser().parseFromString(h,n);if(!l.head)throw t.back(),Error(`Failed to load OPDS feed: ${u.status} ${u.statusText}`);let o=Array.from(l.head.querySelectorAll("link")).find(e=>(0,s.isOPDSCatalog)(e.getAttribute("type")??""));if(!o)throw t.back(),Error("Document has no link to OPDS feeds");let r=o.getAttribute("href");if(r){let e=(0,S.resolveURL)(r,m);el(e)}}}else{let e={feed:JSON.parse(h),baseURL:m,currentURL:n,startURL:c||m};P(e),B("feed"),O(null),o||et(n,e,"feed",null)}}catch(e){console.error(e),A(e),B("error")}finally{Z.current=!1}}},[e,t,en,et]);(0,r.useEffect)(()=>{if(_&&!Q.current){let{username:e,password:t}=E.opdsCatalogs?.find(e=>e.id===q)||{};e||t?(K.current=e,Y.current=t):(K.current=null,Y.current=null),H&&el(_)}else Q.current?Q.current=!1:(B("error"),A(Error("No OPDS URL provided")))},[_,q,E,H,el]);let eo=(0,r.useCallback)((e,t=!1)=>{let n=new URL(window.location.href);n.searchParams.set("url",e),window.history.pushState({},"",n.toString()),el(e,{isSearch:t})},[el]),er=(0,r.useMemo)(()=>!!M.feed?.links?.find(S.isSearchLink),[M.feed]),ei=(0,r.useCallback)(()=>{X.current&&eo(X.current),ee.current=""},[X,eo]),es=(0,r.useCallback)(t=>{if(!M.feed)return;ee.current=t;let n=M.feed.links?.find(S.isSearchLink);if(n&&n.href){let t=(0,S.resolveURL)(n.href,M.baseURL);if(n.type===S.MIME.OPENSEARCH)eo(t,!0);else if(n.type===S.MIME.ATOM){let n={metadata:{title:e("Search"),description:M.feed.metadata?.title?e("Search in {{title}}",{title:M.feed.metadata.title}):void 0},params:[{name:"searchTerms",required:!0}],search:e=>{let n=e.get(null),l=n?.get("searchTerms")||"";return decodeURIComponent(t).replace("{searchTerms}",encodeURIComponent(l))}},l={feed:M.feed,search:n,baseURL:M.baseURL,currentURL:M.currentURL,startURL:M.startURL};P(l),O(null),B("search"),et(M.currentURL,l,"search",null)}}},[e,M,eo,et]),ea=(0,r.useCallback)(async(e,t,n)=>{if(R&&H)try{let l=(0,S.resolveURL)(e,M.baseURL),o=(0,S.parseMediaType)(t);if(o?.mediaType===S.MIME.HTML)return void((0,d.isWebAppPlatform)()?window.open(l,"_blank"):await (0,a.openUrl)(l));{let e=K.current||"",t=Y.current||"",r=(0,y.needsProxy)(l),i=r?(0,y.getProxiedURL)(l,"",!0):l,s={"User-Agent":j.READEST_OPDS_USER_AGENT,Accept:"*/*"};if(e||t){let n=await (0,y.probeAuth)(l,e,t,r);n&&(s.Authorization=n,i=r?(0,y.getProxiedURL)(l,n,!0):l)}let a=decodeURIComponent(new URL(l).pathname),u=(0,C.getFileExtFromMimeType)(o?.mediaType)||(0,S.getFileExtFromPath)(a),c=a.replaceAll("/","_"),d=u?`${c}.${u}`:c,h=await R?.resolveFilePath(d,"Cache");console.log("Downloading to:",l,h);let f=await (0,m.downloadFile)({appService:R,dst:h,cfp:"",url:i,headers:s,singleThreaded:!0,skipSslVerification:!0,onProgress:n}),p=await (0,y.probeFilename)(f);if(p){let e=await R?.resolveFilePath(p,"Cache");await R?.copyFile(h,e,"None"),await R?.deleteFile(h,"None"),console.log("Renamed downloaded file to:",e),h=e}let{library:x,setLibrary:b}=g.useLibraryStore.getState(),w=await R.importBook(h,x);return k&&w&&!w.uploadedAt&&E.autoUpload&&setTimeout(()=>{v.transferManager.queueUpload(w)},3e3),b(x),R.saveLibraryBooks(x),w}}catch(e){throw console.error("Download error:",e),e}},[k,M.baseURL,R,H]),eu=(0,r.useCallback)(async e=>{if(!R)return e;let t=K.current||"",n=Y.current||"";if(!t&&!n)return e;let l=`img_${(0,o.md5)(e)}.png`,r=await R.resolveFilePath("","Cache"),i=`${r}/${l}`;if(await R.exists(i,"None"))return await R.getImageURL(i);{let l=(0,y.needsProxy)(e),o=l?(0,y.getProxiedURL)(e,"",!0):e,r={};if(t||n){let i=await (0,y.probeAuth)(e,t,n,l);i&&(r.Authorization=i,o=l?(0,y.getProxiedURL)(e,i,!0):e)}return await (0,m.downloadFile)({appService:R,dst:i,cfp:"",url:o,singleThreaded:!0,skipSslVerification:!0,headers:r}),await R.getImageURL(i)}},[R]),ec=(0,r.useCallback)(()=>{if(V>0){let e=V-1,t=D[e];if(!t)return;Q.current=!0,G(e),P(t.state),B(t.viewMode),O(t.selectedPublication);let n=new URL(window.location.href);n.searchParams.set("url",t.url),window.history.replaceState({},"",n.toString())}},[D,V]),ed=(0,r.useCallback)(()=>{if(V<D.length-1){let e=V+1,t=D[e];if(!t)return;Q.current=!0,G(e),P(t.state),B(t.viewMode),O(t.selectedPublication);let n=new URL(window.location.href);n.searchParams.set("url",t.url),window.history.replaceState({},"",n.toString())}},[D,V]),em=(0,r.useCallback)((e,t)=>{O({groupIndex:e,itemIndex:t}),B("publication"),W(n=>{let l=n[J.current];if(!l)return n;let o={url:l.url,state:l.state,viewMode:"publication",selectedPublication:{groupIndex:e,itemIndex:t}};return[...n.slice(0,J.current+1),o]}),G(e=>e+1)},[]),eh=V>0,ef=V<D.length-1,ep=F&&M.feed?M.feed.groups?.[F.groupIndex]?.publications?.[F.itemIndex]||M.feed.publications?.[F.itemIndex]:M.publication;return(0,n.jsxs)("div",{className:(0,l.default)("bg-base-100 flex h-screen select-none flex-col",R?.hasRoundedWindow&&N&&"window-border rounded-window"),children:[(0,n.jsx)("div",{className:"relative top-0 z-40 w-full",style:{paddingTop:`${z?.top||0}px`},children:(0,n.jsx)(n9,{searchTerm:ee.current,onBack:ec,onForward:ed,onGoStart:ei,onSearch:es,canGoBack:eh,canGoForward:ef,hasSearch:er})}),(0,n.jsxs)("main",{className:"flex-1 overflow-auto",children:["loading"===L&&(0,n.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"loading loading-spinner loading-lg mb-4"}),(0,n.jsx)("h1",{className:"text-base font-semibold",children:e("Loading...")})]})}),"error"===L&&(0,n.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,n.jsxs)("div",{className:"max-w-md text-center",children:[(0,n.jsx)("h1",{className:"text-error mb-4 text-xl font-bold",children:e("Cannot Load Page")}),(0,n.jsx)("p",{className:"text-base-content/70 mb-4",children:U?.message||e("An error occurred")}),(0,n.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:e("Reload Page")})]})}),"feed"===L&&M.feed&&(0,n.jsx)(nZ,{feed:M.feed,baseURL:M.baseURL,onNavigate:eo,onPublicationSelect:em,resolveURL:S.resolveURL,onGenerateCachedImageUrl:eu,isOPDSCatalog:s.isOPDSCatalog}),"publication"===L&&ep&&(0,n.jsx)(n4,{publication:ep,baseURL:M.baseURL,onDownload:ea,resolveURL:S.resolveURL,onGenerateCachedImageUrl:eu}),"search"===L&&M.search&&(0,n.jsx)(n2,{search:M.search,baseURL:M.baseURL,onNavigate:eo,resolveURL:S.resolveURL})]}),(0,n.jsx)(h.Toast,{})]})}e.s(["default",()=>le],577593)}]);