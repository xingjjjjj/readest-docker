(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,148225,e=>{"use strict";let t=async({entries:e,loadBlob:t,getSize:a,getComment:l},i)=>{let o=new Map,r=new Map,n=async e=>{if(o.has(e))return o.get(e);let a=URL.createObjectURL(await t(e)),l=URL.createObjectURL(new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"></head><body style="margin: 0"><img src="${a}"></body></html>`],{type:"text/html"}));return r.set(e,[a,l]),o.set(e,l),l},s=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg",".jxl",".avif"],c=e.map(e=>e.filename).filter(e=>s.some(t=>e.endsWith(t))).sort();if(!c.length)throw Error("No supported image files in archive");let d={};try{let e=JSON.parse(await l()||"")["ComicBookInfo/1.0"];if(e){let t=e.publicationYear,a=e.publicationMonth,l=a&&a>=1&&a<=12?String(a).padStart(2,"0"):null;d.metadata={title:e.title||i.name,publisher:e.publisher,language:e.language||e.lang,author:e.credits?e.credits.map(e=>`${e.person} (${e.role})`).join(", "):"",published:t&&a?`${t}-${l}`:void 0}}else d.metadata={title:i.name}}catch{d.metadata={title:i.name}}return d.getCover=()=>t(c[0]),d.sections=c.map(e=>({id:e,load:()=>n(e),unload:()=>{r.get(e)?.forEach?.(e=>URL.revokeObjectURL(e)),r.delete(e),o.delete(e)},size:a(e)})),d.toc=c.map(e=>({label:e,href:e})),d.rendition={layout:"pre-paginated"},d.resolveHref=e=>({index:d.sections.findIndex(t=>t.id===e)}),d.splitTOCHref=e=>[e,null],d.getTOCFragment=e=>e.documentElement,d.destroy=()=>{for(let e of r.values())for(let t of e)URL.revokeObjectURL(t)},d};e.s(["makeComicBook",0,t])}]);