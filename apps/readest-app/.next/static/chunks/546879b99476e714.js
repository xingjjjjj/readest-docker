(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,568572,e=>{"use strict";var t=e.i(94601),i=e.i(136960),r=e.i(479217);let s=(0,i.createContext)(void 0);e.s(["EnvProvider",0,({children:e})=>{let[n]=(0,i.useState)(r.default),[a,o]=(0,i.useState)(null);return i.default.useEffect(()=>{n.getAppService().then(e=>o(e)),window.addEventListener("error",e=>"ResizeObserver loop limit exceeded"===e.message&&(e.stopImmediatePropagation(),e.preventDefault(),!0))},[n]),(0,t.jsx)(s.Provider,{value:{envConfig:n,appService:a},children:e})},"useEnv",0,()=>{let e=(0,i.useContext)(s);if(!e)throw Error("useEnv must be used within EnvProvider");return e}])},718458,(e,t,i)=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},638900,(e,t,i)=>{t.exports={input:["src/**/*.{js,jsx,ts,tsx}","!src/**/*.test.{js,jsx,ts,tsx}"],output:".",options:{debug:!1,sort:!1,func:{list:["_"],extensions:[".js",".jsx",".ts",".tsx"]},lngs:["de","ja","es","fa","fr","it","el","ko","uk","nl","sv","pl","pt","ru","tr","hi","id","vi","ms","ar","th","bo","bn","ta","si","zh-CN","zh-TW"],ns:["translation"],defaultNs:"translation",defaultValue:"__STRING_NOT_TRANSLATED__",resource:{loadPath:"./public/locales/{{lng}}/{{ns}}.json",savePath:"./public/locales/{{lng}}/{{ns}}.json",jsonIndent:2,lineEnding:"\n"},keySeparator:!1,nsSeparator:!1,interpolation:{prefix:"{{",suffix:"}}"},metadata:{},allowDynamicKeys:!0,removeUnusedKeys:!0}}},991425,291944,323254,e=>{"use strict";let t,i=e=>"string"==typeof e,r=()=>{let e,t,i=new Promise((i,r)=>{e=i,t=r});return i.resolve=e,i.reject=t,i},s=e=>null==e?"":""+e,n=/###/g,a=e=>e&&e.indexOf("###")>-1?e.replace(n,"."):e,o=e=>!e||i(e),l=(e,t,r)=>{let s=i(t)?t.split("."):t,n=0;for(;n<s.length-1;){if(o(e))return{};let t=a(s[n]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++n}return o(e)?{}:{obj:e,k:a(s[n])}},u=(e,t,i)=>{let{obj:r,k:s}=l(e,t,Object);if(void 0!==r||1===t.length){r[s]=i;return}let n=t[t.length-1],a=t.slice(0,t.length-1),o=l(e,a,Object);for(;void 0===o.obj&&a.length;)n=`${a[a.length-1]}.${n}`,o=l(e,a=a.slice(0,a.length-1),Object),o?.obj&&void 0!==o.obj[`${o.k}.${n}`]&&(o.obj=void 0);o.obj[`${o.k}.${n}`]=i},d=(e,t)=>{let{obj:i,k:r}=l(e,t);if(i&&Object.prototype.hasOwnProperty.call(i,r))return i[r]},c=(e,t,r)=>{for(let s in t)"__proto__"!==s&&"constructor"!==s&&(s in e?i(e[s])||e[s]instanceof String||i(t[s])||t[s]instanceof String?r&&(e[s]=t[s]):c(e[s],t[s],r):e[s]=t[s]);return e};var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let p=e=>i(e)?e.replace(/[&<>"'\/]/g,e=>h[e]):e,g=[" ",",","?","!",";"],f=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}(20),_=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}let r=t.split(i),s=e;for(let e=0;e<r.length;){let t;if(!s||"object"!=typeof s)return;let n="";for(let a=e;a<r.length;++a)if(a!==e&&(n+=i),n+=r[a],void 0!==(t=s[n])){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<r.length-1)continue;e+=a-e+1;break}s=t}return s},m=e=>e?.replace("_","-"),v={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(i(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new y(this.logger,{...{prefix:`${this.prefix}:${e}:`},...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new y(this.logger,e)}}var b=new y;class k{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let i=this.observers[e].get(t)||0;this.observers[e].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t)return void delete this.observers[e];this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[r,s]=t;for(let t=0;t<s;t++)r.apply(r,[e,...i])})}}class w extends k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],r&&(Array.isArray(r)?s.push(...r):i(r)&&a?s.push(...r.split(a)):s.push(r)));let l=d(this.data,s);return(!l&&!t&&!r&&e.indexOf(".")>-1&&(e=s[0],t=s[1],r=s.slice(2).join(".")),!l&&o&&i(r))?_(this.data?.[e]?.[t],r,a):l}addResource(e,t,i,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},n=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,a=[e,t];i&&(a=a.concat(n?i.split(n):i)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),u(this.data,a,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let s in r)(i(r[s])||Array.isArray(r[s]))&&this.addResource(e,t,s,r[s],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,i,r,s){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=i,i=t,t=a[1]),this.addNamespaces(t);let o=d(this.data,a)||{};n.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?c(o,i,s):o={...o,...i},u(this.data,a,o),n.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var x={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,r,s){return e.forEach(e=>{t=this.processors[e]?.process(t,i,r,s)??t}),t}};let S={};class M extends k{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,i)=>{e.forEach(e=>{t[e]&&(i[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=b.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let i=this.resolve(e,t);return i?.res!==void 0}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");let s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,n=t.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,i)=>{t=t||"",i=i||"";let r=g.filter(e=>0>t.indexOf(e)&&0>i.indexOf(e));if(0===r.length)return!0;let s=f.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`),n=!s.test(e);if(!n){let t=e.indexOf(i);t>0&&!s.test(e.substring(0,t))&&(n=!0)}return n})(e,r,s);if(a&&!o){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:i(n)?[n]:n};let a=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(a[0])>-1)&&(n=a.shift()),e=a.join(s)}return{key:e,namespaces:i(n)?[n]:n}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let s=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u?.toLowerCase()==="cimode"){if(d){let e=t.nsSeparator||this.options.nsSeparator;return s?{res:`${l}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${e}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}let c=this.resolve(e,t),h=c?.res,p=c?.usedKey||a,g=c?.exactUsedKey||a,f=Object.prototype.toString.apply(h),_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!i(h)&&"boolean"!=typeof h&&"number"!=typeof h;if(m&&h&&v&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(f)&&!(i(_)&&Array.isArray(h))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(c.res=e,c.usedParams=this.getUsedParamsDetails(t),c):e}if(n){let e=Array.isArray(h),i=e?[]:{},r=e?g:p;for(let e in h)if(Object.prototype.hasOwnProperty.call(h,e)){let s=`${r}${n}${e}`;i[e]=this.translate(s,{...t,joinArrays:!1,ns:o}),i[e]===s&&(i[e]=h[e])}h=i}}else if(m&&i(_)&&Array.isArray(h))(h=h.join(_))&&(h=this.extendTranslation(h,e,t,r));else{let s=!1,o=!1,d=void 0!==t.count&&!i(t.count),p=M.hasDefaultValue(t),g=d?this.pluralResolver.getSuffix(u,t.count,t):"",f=t.ordinal&&d?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",_=d&&!t.ordinal&&0===t.count,m=_&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${g}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(h)&&p&&(s=!0,h=m),this.isValidLookup(h)||(o=!0,h=a);let v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:h,y=p&&m!==h&&this.options.updateMissing;if(o||s||y){if(this.logger.log(y?"updateKey":"missingKey",u,l,a,y?m:h),n){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let t=0;t<i.length;t++)e.push(i[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let r=(e,i,r)=>{let s=p&&r!==h?r:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,i,s,y,t):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,i,s,y,t),this.emit("missingKey",e,l,i,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&d?e.forEach(e=>{let i=this.pluralResolver.getSuffixes(e,t);_&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>i.indexOf(`${this.options.pluralSeparator}zero`)&&i.push(`${this.options.pluralSeparator}zero`),i.forEach(i=>{r([e],a+i,t[`defaultValue${i}`]||m)})}):r(e,a,m))}h=this.extendTranslation(h,e,t,c,r),o&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${a}`),(o||s)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,s?h:void 0))}return s?(c.res=h,c.usedParams=this.getUsedParamsDetails(t),c):h}extendTranslation(e,t,r,s,n){var a=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){let o;r.interpolation&&this.interpolator.init({...r,...{interpolation:{...this.options.interpolation,...r.interpolation}}});let l=i(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(l){let t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let u=r.replace&&!i(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,r.lng||this.language||s.usedLng,r),l){let t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return n?.[0]!==i[0]||r.context?a.translate(...i,t):(a.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null)},r)),r.interpolation&&this.interpolator.reset()}let o=r.postProcess||this.options.postProcess,l=i(o)?[o]:o;return null!=e&&l?.length&&!1!==r.applyPostProcessor&&(e=x.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t,r,s,n,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let l=this.extractFromKey(e,o),u=l.key;r=u;let d=l.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let c=void 0!==o.count&&!i(o.count),h=c&&!o.ordinal&&0===o.count,p=void 0!==o.context&&(i(o.context)||"number"==typeof o.context)&&""!==o.context,g=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);d.forEach(e=>{this.isValidLookup(t)||(a=e,!S[`${g[0]}-${e}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(S[`${g[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(i=>{let r;if(this.isValidLookup(t))return;n=i;let a=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(a,u,i,e,o);else{let e;c&&(e=this.pluralResolver.getSuffix(i,o.count,o));let t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(a.push(u+e),o.ordinal&&0===e.indexOf(r)&&a.push(u+e.replace(r,this.options.pluralSeparator)),h&&a.push(u+t)),p){let i=`${u}${this.options.contextSeparator}${o.context}`;a.push(i),c&&(a.push(i+e),o.ordinal&&0===e.indexOf(r)&&a.push(i+e.replace(r,this.options.pluralSeparator)),h&&a.push(i+t))}}for(;r=a.pop();)this.isValidLookup(t)||(s=r,t=this.getResource(i,e,r,o))}))})}),{res:t,usedKey:r,exactUsedKey:s,usedLng:n,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&!i(e.replace),r=t?e.replace:e;if(t&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!t)for(let e of(r={...r},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete r[e];return r}static hasDefaultValue(e){let t="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}class ${constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}getScriptPartFromCode(e){if(!(e=m(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=m(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(i(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)?t:this.options.lowerCaseLng?e.toLowerCase():e}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let i=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>{if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&(e.indexOf("-")>0&&0>i.indexOf("-")&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),i(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],n=e=>{e&&(this.isSupportedCode(e)?s.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return i(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(e))):i(e)&&n(this.formatLanguageCode(e)),r.forEach(e=>{0>s.indexOf(e)&&n(this.formatLanguageCode(e))}),s}}let L={zero:0,one:1,two:2,few:3,many:4,other:5},E={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class T{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=b.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m("dev"===e?"en":e),s=i.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:r,type:s});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];try{t=new Intl.PluralRules(r,{type:s})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),E;if(!e.match(/-|_/))return E;let r=this.languageUtils.getLanguagePartFromCode(e);t=this.getRule(r,i)}return this.pluralRulesCache[n]=t,t}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return(i||(i=this.getRule("dev",t)),i)?i.resolvedOptions().pluralCategories.sort((e,t)=>L[e]-L[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}let Y=function(e,t,r){let s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],o=void 0!==(s=d(e,r))?s:d(t,r);return!o&&a&&i(r)&&void 0===(o=_(e,r,n))&&(o=_(t,r,n)),o};class O{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=b.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:n,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:c,nestingPrefixEscaped:h,nestingSuffix:g,nestingSuffixEscaped:f,nestingOptionsSeparator:_,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:p,this.escapeValue=void 0===i||i,this.useRawValueToEscape=void 0!==r&&r,this.prefix=s?s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):n||"{{",this.suffix=a?a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=c?c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):h||"$t(".replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),this.nestingSuffix=g?g.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):f||")".replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),this.nestingOptionsSeparator=_||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e?.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,n){let a,o,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=e=>{if(0>e.indexOf(this.formatSeparator)){let i=Y(t,u,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,r,{...n,...t,interpolationkey:e}):i}let i=e.split(this.formatSeparator),s=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format(Y(t,u,s,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,{...n,...t,interpolationkey:s})};this.resetRegExp();let c=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>e.replace(/\$/g,"$$$$")},{regex:this.regexp,safeValue:e=>this.escapeValue?this.escape(e).replace(/\$/g,"$$$$"):e.replace(/\$/g,"$$$$")}].forEach(t=>{for(l=0;a=t.regex.exec(e);){let r=a[1].trim();if(void 0===(o=d(r)))if("function"==typeof c){let t=c(e,a,n);o=i(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),o="";else i(o)||this.useRawValueToEscape||(o=s(o));let u=t.safeValue(o);if(e=e.replace(a[0],u),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++l>=this.maxReplaces)break}}),e}nest(e,t){let r,n,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(e,t)=>{let i=this.nestingOptionsSeparator;if(0>e.indexOf(i))return e;let r=e.split(RegExp(`${i}[ ]*{`)),s=`{${r[1]}`;e=r[0];let n=(s=this.interpolate(s,a)).match(/'/g),o=s.match(/"/g);((n?.length??0)%2!=0||o)&&o.length%2==0||(s=s.replace(/'/g,'"'));try{a=JSON.parse(s),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${i}${s}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let u=[];(a=(a={...o}).replace&&!i(a.replace)?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){let e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),u=e,d=!0}if((n=t(l.call(this,r[1].trim(),a),a))&&r[0]===e&&!i(n))return n;i(n)||(n=s(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),d&&(n=u.reduce((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:r[1].trim()}),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}let D=e=>{let t={};return(i,r,s)=>{let n=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(n={...n,[s.interpolationkey]:void 0});let a=r+JSON.stringify(n),o=t[a];return o||(o=e(m(r),s),t[a]=o),o(i)}};class I{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=b.create("formatter"),this.options=e,this.formats={number:D((e,t)=>{let i=new Intl.NumberFormat(e,{...t});return e=>i.format(e)}),currency:D((e,t)=>{let i=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>i.format(e)}),datetime:D((e,t)=>{let i=new Intl.DateTimeFormat(e,{...t});return e=>i.format(e)}),relativetime:D((e,t)=>{let i=new Intl.RelativeTimeFormat(e,{...t});return e=>i.format(e,t.range||"day")}),list:D((e,t)=>{let i=new Intl.ListFormat(e,{...t});return e=>i.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=D(t)}format(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&0>s[0].indexOf(")")&&s.find(e=>e.indexOf(")")>-1)){let e=s.findIndex(e=>e.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,e)].join(this.formatSeparator)}return s.reduce((e,t)=>{let{formatName:s,formatOptions:n}=(e=>{let t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){let r=e.split("(");t=r[0].toLowerCase().trim();let s=r[1].substring(0,r[1].length-1);"currency"===t&&0>s.indexOf(":")?i.currency||(i.currency=s.trim()):"relativetime"===t&&0>s.indexOf(":")?i.range||(i.range=s.trim()):s.split(";").forEach(e=>{if(e){let[t,...r]=e.split(":"),s=r.join(":").trim().replace(/^'+|'+$/g,""),n=t.trim();i[n]||(i[n]=s),"false"===s&&(i[n]=!1),"true"===s&&(i[n]=!0),isNaN(s)||(i[n]=parseInt(s,10))}})}return{formatName:t,formatOptions:i}})(t);if(this.formats[s]){let t=e;try{let a=r?.formatParams?.[r.interpolationkey]||{},o=a.locale||a.lng||r.locale||r.lng||i;t=this.formats[s](e,o,{...n,...r,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${s}`),e},e)}}class C extends k{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=b.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,t,i,r){let s={},n={},a={},o={};return e.forEach(e=>{let r=!0;t.forEach(t=>{let a=`${e}|${t}`;!i.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===n[a]&&(n[a]=!0):(this.state[a]=1,r=!1,void 0===n[a]&&(n[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===o[t]&&(o[t]=!0)))}),r||(a[e]=!0)}),(Object.keys(s).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(n),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,i){let r=e.split("|"),s=r[0],n=r[1];t&&this.emit("failedLoading",s,n,t),!t&&i&&this.store.addResourceBundle(s,n,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);let a={};this.queue.forEach(i=>{((e,t,i,r)=>{let{obj:s,k:n}=l(e,t,Object);s[n]=s[n]||[],s[n].push(i)})(i.loaded,[s],n),void 0!==i.pending[e]&&(delete i.pending[e],i.pendingCount--),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach(e=>{a[e]||(a[e]={});let t=i.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,n=arguments.length>5?arguments[5]:void 0;if(!e.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:n});this.readingCalls++;let a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&o&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,i,r+1,2*s,n)},s):n(a,o)},o=this.backend[i].bind(this.backend);if(2===o.length){try{let i=o(e,t);i&&"function"==typeof i.then?i.then(e=>a(null,e)).catch(a):a(null,i)}catch(e){a(e)}return}return o(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();i(e)&&(e=this.languageUtils.toResolveHierarchy(e)),i(t)&&(t=[t]);let n=this.queueLoad(e,t,r,s);if(!n.toLoad.length)return n.pending.length||s(),null;n.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(i,n)=>{i&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,i),!i&&n&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,n),this.loaded(e,i,n)})}saveMissing(e,t,i,r,s){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t))return void this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");if(null!=i&&""!==i){if(this.backend?.create){let o={...n,isUpdate:s},l=this.backend.create.bind(this.backend);if(l.length<6)try{let s;(s=5===l.length?l(e,t,i,r,o):l(e,t,i,r))&&"function"==typeof s.then?s.then(e=>a(null,e)).catch(a):a(null,s)}catch(e){a(e)}else l(e,t,i,r,a,o)}e&&e[0]&&this.store.addResource(e[0],t,i,r)}}}let F=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),i(e[1])&&(t.defaultValue=e[1]),i(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let i=e[3]||e[2];Object.keys(i).forEach(e=>{t[e]=i[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),R=e=>(i(e.ns)&&(e.ns=[e.ns]),i(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),i(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),A=()=>{};class P extends k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=R(e),this.services={},this.logger=b,this.modules={external:[]},(e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})})(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(s=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(i(t.ns)?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let n=F();this.options={...n,...this.options,...R(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);let a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?b.init(a(this.modules.logger),this.options):b.init(null,this.options),t=this.modules.formatter?this.modules.formatter:I;let i=new $(this.options);this.store=new w(this.options.resources,this.options);let r=this.services;r.logger=b,r.resourceStore=this.store,r.languageUtils=i,r.pluralResolver=new T(i,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(r.formatter=a(t),r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new O(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new C(a(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];e.emit(t,...r)}),this.modules.languageDetector&&(r.languageDetector=a(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=a(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new M(this.services,this.options),this.translator.on("*",function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];e.emit(t,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,s||(s=A),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let o=r(),l=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),s(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,r=t,s=i(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return r();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};s?t(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,i){let s=r();return"function"==typeof e&&(i=e,e=void 0),"function"==typeof t&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=A),this.services.backendConnector.reload(e,t,e=>{s.resolve(),i(e)}),s}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&x.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var s=this;this.isLanguageChangingTo=e;let n=r();this.emit("languageChanging",e);let a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,i)=>{i?(a(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,n.resolve(function(){return s.t(...arguments)}),t&&t(e,function(){return s.t(...arguments)})},l=t=>{e||t||!this.services.languageDetector||(t=[]);let r=i(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||a(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector?.cacheUserLanguage?.(r)),this.loadResources(r,e=>{o(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),n}getFixedT(e,t,r){var s=this;let n=function(e,t){let i,a;if("object"!=typeof t){for(var o=arguments.length,l=Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];i=s.options.overloadTranslationOptionHandler([e,t].concat(l))}else i={...t};i.lng=i.lng||n.lng,i.lngs=i.lngs||n.lngs,i.ns=i.ns||n.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||r||n.keyPrefix);let d=s.options.keySeparator||".";return a=i.keyPrefix&&Array.isArray(e)?e.map(e=>`${i.keyPrefix}${d}${e}`):i.keyPrefix?`${i.keyPrefix}${d}${e}`:e,s.t(a,i)};return i(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=r,n}t(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.translator?.translate(...t)}exists(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.translator?.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;let n=(e,t)=>{let i=this.services.backendConnector.state[`${e}|${t}`];return -1===i||0===i||2===i};if(t.precheck){let e=t.precheck(this,n);if(void 0!==e)return e}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||n(i,e)&&(!r||n(s,e)))}loadNamespaces(e,t){let s=r();return this.options.ns?(i(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{s.resolve(),t&&t(e)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){let s=r();i(e)&&(e=[e]);let n=this.options.preload||[],a=e.filter(e=>0>n.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return a.length?(this.options.preload=n.concat(a),this.loadResources(e=>{s.resolve(),t&&t(e)}),s):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services?.languageUtils||new $(F())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new P(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,i=e.forkResourceStore;i&&delete e.forkResourceStore;let r={...this.options,...e,isClone:!0},s=new P(r);return(void 0!==e.debug||void 0!==e.prefix)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(e=>{s[e]=this[e]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i&&(s.store=new w(Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},Object.keys(e[t]).reduce((i,r)=>(i[r]={...e[t][r]},i),{})),{}),r),s.services.resourceStore=s.store),s.translator=new M(s.services,r),s.translator.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];s.emit(e,...i)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let H=P.createInstance();H.createInstance=P.createInstance,H.createInstance,H.dir,H.init,H.loadResources,H.reloadResources,H.use,H.changeLanguage,H.getFixedT,H.t,H.exists,H.setDefaultNamespace,H.hasLoadedNamespace,H.loadNamespaces,H.loadLanguages;let{slice:N,forEach:j}=[],z=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,q=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},r=encodeURIComponent(t),s=`${e}=${r}`;if(i.maxAge>0){let e=i.maxAge-0;if(Number.isNaN(e))throw Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(e)}`}if(i.domain){if(!z.test(i.domain))throw TypeError("option domain is invalid");s+=`; Domain=${i.domain}`}if(i.path){if(!z.test(i.path))throw TypeError("option path is invalid");s+=`; Path=${i.path}`}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw TypeError("option expires is invalid");s+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return s},U={create(e,t,i,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};i&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+60*i*1e3)),r&&(s.domain=r),document.cookie=q(e,encodeURIComponent(t),s)},read(e){let t=`${e}=`,i=document.cookie.split(";");for(let e=0;e<i.length;e++){let r=i[e];for(;" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},remove(e){this.create(e,"",-1)}};var B={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return U.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:i,cookieMinutes:r,cookieDomain:s,cookieOptions:n}=t;i&&"undefined"!=typeof document&&U.create(i,e,r,s,n)}},V={name:"querystring",lookup(e){let t,{lookupQuerystring:i}=e;{let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));let r=e.substring(1).split("&");for(let e=0;e<r.length;e++){let s=r[e].indexOf("=");s>0&&r[e].substring(0,s)===i&&(t=r[e].substring(s+1))}}return t}};let W=null,G=()=>{if(null!==W)return W;try{W="undefined"!==window&&null!==window.localStorage;let e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){W=!1}return W};var J={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&G())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:i}=t;i&&G()&&window.localStorage.setItem(i,e)}};let K=null,X=()=>{if(null!==K)return K;try{K="undefined"!==window&&null!==window.sessionStorage;let e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){K=!1}return K};var Z={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&X())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:i}=t;i&&X()&&window.sessionStorage.setItem(i,e)}},Q={name:"navigator",lookup(e){let t=[];if("undefined"!=typeof navigator){let{languages:e,userLanguage:i,language:r}=navigator;if(e)for(let i=0;i<e.length;i++)t.push(e[i]);i&&t.push(i),r&&t.push(r)}return t.length>0?t:void 0}},ee={name:"htmlTag",lookup(e){let t,{htmlTag:i}=e,r=i||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},et={name:"path",lookup(e){let{lookupFromPathIndex:t}=e,i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(Array.isArray(i))return i["number"==typeof t?t:0]?.replace("/","")}},ei={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e,i=window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i["number"==typeof t?t+1:1]}};let er=!1;try{document.cookie,er=!0}catch(e){}let es=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];er||es.splice(1,1);class en{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return j.call(N.call(arguments,1),t=>{if(t)for(let i in t)void 0===e[i]&&(e[i]=t[i])}),e}(t,this.options||{},{order:es,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(B),this.addDetector(V),this.addDetector(J),this.addDetector(Z),this.addDetector(Q),this.addDetector(ee),this.addDetector(et),this.addDetector(ei)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return(e.forEach(e=>{if(this.detectors[e]){let i=this.detectors[e].lookup(this.options);i&&"string"==typeof i&&(i=[i]),i&&(t=t.concat(i))}}),t=t.map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes)?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;!t||this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)})}}en.type="languageDetector";var ea=e.i(136960);e.i(718458),Object.create(null);let eo={},el=(...e)=>{eh(e[0])&&eo[e[0]]||(eh(e[0])&&(eo[e[0]]=new Date),((...e)=>{console?.warn&&(eh(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))})(...e))},eu=(e,t)=>()=>{if(e.isInitialized)t();else{let i=()=>{setTimeout(()=>{e.off("initialized",i)},0),t()};e.on("initialized",i)}},ed=(e,t,i)=>{e.loadNamespaces(t,eu(e,i))},ec=(e,t,i,r)=>{if(eh(i)&&(i=[i]),e.options.preload&&e.options.preload.indexOf(t)>-1)return ed(e,i,r);i.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,eu(e,r))},eh=e=>"string"==typeof e,ep=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,eg={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},ef=e=>eg[e],e_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(ep,ef)},em={type:"3rdParty",init(e){((e={})=>{e_={...e_,...e}})(e.options.react),t=e}},ev=(0,ea.createContext)();class ey{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}e.s(["useTranslation",0,(e,i={})=>{var r,s,n,a;let o,{i18n:l}=i,{i18n:u,defaultNS:d}=(0,ea.useContext)(ev)||{},c=l||u||t;if(c&&!c.reportNamespaces&&(c.reportNamespaces=new ey),!c){el("You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>{let i;return eh(t)?t:"object"==typeof(i=t)&&null!==i&&eh(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}c.options.react?.wait&&el("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let h={...e_,...c.options.react,...i},{useSuspense:p,keyPrefix:g}=h,f=e||d||c.options?.defaultNS;f=eh(f)?[f]:f||["translation"],c.reportNamespaces.addUsedNamespaces?.(f);let _=(c.isInitialized||c.initializedStoreOnce)&&f.every(e=>((e,t,i={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:i.lng,precheck:(t,r)=>{if(i.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(el("i18n.languages were undefined or empty",t.languages),!0))(e,c,h)),m=(r=i.lng||null,s="fallback"===h.nsMode?f:f[0],(0,ea.useCallback)(c.getFixedT(r,s,g),[c,r,s,g])),v=()=>m,y=()=>{let e,t;return e=i.lng||null,t="fallback"===h.nsMode?f:f[0],c.getFixedT(e,t,g)},[b,k]=(0,ea.useState)(v),w=f.join();i.lng&&(w=`${i.lng}${w}`);let x=(n=w,o=(0,ea.useRef)(),(0,ea.useEffect)(()=>{o.current=a?o.current:n},[n,a]),o.current),S=(0,ea.useRef)(!0);(0,ea.useEffect)(()=>{let{bindI18n:e,bindI18nStore:t}=h;S.current=!0,_||p||(i.lng?ec(c,i.lng,f,()=>{S.current&&k(y)}):ed(c,f,()=>{S.current&&k(y)})),_&&x&&x!==w&&S.current&&k(y);let r=()=>{S.current&&k(y)};return e&&c?.on(e,r),t&&c?.store.on(t,r),()=>{S.current=!1,c&&e?.split(" ").forEach(e=>c.off(e,r)),t&&c&&t.split(" ").forEach(e=>c.store.off(e,r))}},[c,w]),(0,ea.useEffect)(()=>{S.current&&_&&k(v)},[c,g,_]);let M=[b,c,_];if(M.t=b,M.i18n=c,M.ready=_,_||!_&&!p)return M;throw new Promise(e=>{i.lng?ec(c,i.lng,f,()=>e()):ed(c,f,()=>e())})}],291944),e.s([],323254);var eb=e.i(638900);(async()=>{{let t=(await e.A(590377)).default;H.use(t)}H.use(en).use(em).init({supportedLngs:["en",...eb.options.lngs],fallbackLng:{"zh-HK":["zh-TW","zh-CN","en"],kk:["ru","en"],ky:["ru","en"],tk:["ru","en"],uz:["ru","en"],ug:["ru","en"],tt:["ru","en"],default:["zh-CN","en"]},ns:eb.options.ns,defaultNS:eb.options.defaultNs,...{backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]},keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},react:{useSuspense:!1}}),H.on("languageChanged",e=>{console.log("Language changed to",e)})})(),e.s(["default",0,H],991425)},433689,e=>{"use strict";var t=e.i(136960),i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=t.default.createContext&&t.default.createContext(i);e.s(["DefaultContext",()=>i,"IconContext",()=>r])},762193,e=>{"use strict";var t=e.i(94601),i=e.i(136960);let r=(0,i.createContext)(void 0);e.s(["AuthProvider",0,({children:e})=>{let[s,n]=(0,i.useState)(()=>localStorage.getItem("token")),[a,o]=(0,i.useState)(()=>{{let e=localStorage.getItem("user");return e?JSON.parse(e):null}});(0,i.useEffect)(()=>{(async()=>{if(s&&!a)try{let e=await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${s}`}});if(e.ok){let t=await e.json();o(t.user),localStorage.setItem("user",JSON.stringify(t.user))}else localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),o(null)}catch(e){console.error("Token verification failed:",e),localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),o(null)}})()},[s,a]);let l=async()=>{console.log("Logging out");try{await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${s}`}})}catch(e){console.error("Logout request failed:",e)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),n(null),o(null)}};return(0,t.jsx)(r.Provider,{value:{token:s,user:a,login:(e,t)=>{console.log("Logging in as",t.username),n(e),o(t),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(t))},logout:l,isLoggedIn:!!s&&!!a},children:e})},"useAuth",0,()=>{let e=(0,i.useContext)(r);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}])},309169,669123,747300,571975,93293,265267,769818,911678,e=>{"use strict";let t,i;var r,s,n,a=e.i(119322),o=e.i(94601),l="undefined"!=typeof window?window:void 0,u="undefined"!=typeof globalThis?globalThis:l,d=Array.prototype,c=d.forEach,h=d.indexOf,p=null==u?void 0:u.navigator,g=null==u?void 0:u.document,f=null==u?void 0:u.location,_=null==u?void 0:u.fetch,m=null!=u&&u.XMLHttpRequest&&"withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:void 0,v=null==u?void 0:u.AbortController,y=null==p?void 0:p.userAgent,b=null!=l?l:{},k={DEBUG:!1,LIB_VERSION:"1.246.0"},w="$copy_autocapture",x=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],S=((tx={}).GZipJS="gzip-js",tx.Base64="base64",tx),M=["fatal","error","warning","log","info","debug"];function $(e,t){return -1!==e.indexOf(t)}var L=function(e){return e.trim()},E=function(e){return e.replace(/^\$/,"")},T=Array.isArray,Y=Object.prototype,O=Y.hasOwnProperty,D=Y.toString,I=T||function(e){return"[object Array]"===D.call(e)},C=e=>"function"==typeof e,F=e=>e===Object(e)&&!I(e),R=e=>{if(F(e)){for(var t in e)if(O.call(e,t))return!1;return!0}return!1},A=e=>void 0===e,P=e=>"[object String]"==D.call(e),H=e=>P(e)&&0===e.trim().length,N=e=>null===e,j=e=>A(e)||N(e),z=e=>"[object Number]"==D.call(e),q=e=>"[object Boolean]"===D.call(e),U=e=>$(x,e),B=e=>{var t={t:function(t){if(l&&(k.DEBUG||b.POSTHOG_DEBUG)&&!A(l.console)&&l.console){for(var i=("__rrweb_original__"in l.console[t])?l.console[t].__rrweb_original__:l.console[t],r=arguments.length,s=Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];i(e,...s)}},info:function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t.t("log",...i)},warn:function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t.t("warn",...i)},error:function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];t.t("error",...i)},critical:function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];console.error(e,...i)},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling "+e)},createLogger:t=>B(e+" "+t)};return t},V=B("[PostHog.js]"),W=V.createLogger,G=W("[ExternalScriptsLoader]"),J=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return G.warn(t+" was requested but loading of external scripts is disabled."),i("Loading of external scripts is disabled");var r=null==g?void 0:g.querySelectorAll("script");if(r){for(var s=0;s<r.length;s++)if(r[s].src===t)return i()}var n=()=>{if(!g)return i("document not found");var r=g.createElement("script");if(r.type="text/javascript",r.crossOrigin="anonymous",r.src=t,r.onload=e=>i(void 0,e),r.onerror=e=>i(e),e.config.prepare_external_dependency_script&&(r=e.config.prepare_external_dependency_script(r)),!r)return i("prepare_external_dependency_script returned null");var s,n=g.querySelectorAll("body > script");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):g.body.appendChild(r)};null!=g&&g.body?n():null==g||g.addEventListener("DOMContentLoaded",n)};function K(){return(K=Object.assign.bind()).apply(null,arguments)}function X(e,t){if(null==e)return{};var i={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;i[r]=e[r]}return i}b.__PosthogExtensions__=b.__PosthogExtensions__||{},b.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{var r="/static/"+t+".js?v="+e.version;"remote-config"===t&&(r="/array/"+e.config.token+"/config.js"),"toolbar"===t&&(r=r+"&t="+3e5*Math.floor(Date.now()/3e5));var s=e.requestRouter.endpointFor("assets",r);J(e,s,i)},b.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{var r=e.requestRouter.endpointFor("api",t);J(e,r,i)};var Z={};function Q(e,t,i){if(I(e)){if(c&&e.forEach===c)e.forEach(t,i);else if("length"in e&&e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(r in e&&t.call(i,e[r],r)===Z)return}}}function ee(e,t,i){if(!j(e)){if(I(e))return Q(e,t,i);if(e instanceof FormData){for(var r of e.entries())if(t.call(i,r[1],r[0])===Z)return}else for(var s in e)if(O.call(e,s)&&t.call(i,e[s],s)===Z)return}}var et=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return Q(i,function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])}),e},ei=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return Q(i,function(t){Q(t,function(t){e.push(t)})}),e};function er(e){for(var t=Object.keys(e),i=t.length,r=Array(i);i--;)r[i]=[t[i],e[t[i]]];return r}var es=function(e){try{return e()}catch(e){return}},en=function(e){return function(){try{for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(this,i)}catch(e){V.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),V.critical(e)}}},ea=function(e){var t={};return ee(e,function(e,i){(P(e)&&e.length>0||z(e))&&(t[i]=e)}),t},eo=["herokuapp.com","vercel.app","netlify.app"];function el(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}function eu(e,t,i,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==e||e.addEventListener(t,i,{capture:s,passive:n})}var ed="$people_distinct_id",ec="__alias",eh="__timers",ep="$autocapture_disabled_server_side",eg="$heatmaps_enabled_server_side",ef="$exception_capture_enabled_server_side",e_="$error_tracking_suppression_rules",em="$web_vitals_enabled_server_side",ev="$dead_clicks_enabled_server_side",ey="$web_vitals_allowed_metrics",eb="$session_recording_enabled_server_side",ek="$console_log_recording_enabled_server_side",ew="$session_recording_network_payload_capture",ex="$session_recording_masking",eS="$session_recording_canvas_recording",eM="$replay_sample_rate",e$="$replay_minimum_duration",eL="$replay_script_config",eE="$sesid",eT="$session_is_sampled",eY="$session_recording_url_trigger_activated_session",eO="$session_recording_event_trigger_activated_session",eD="$enabled_feature_flags",eI="$early_access_features",eC="$feature_flag_details",eF="$stored_person_properties",eR="$stored_group_properties",eA="$surveys",eP="$surveys_activated",eH="$flag_call_reported",eN="$user_state",ej="$client_session_props",ez="$capture_rate_limit",eq="$initial_campaign_params",eU="$initial_referrer_info",eB="$initial_person_info",eV="$epp",eW="__POSTHOG_TOOLBAR__",eG="$posthog_cookieless",eJ=[ed,ec,"__cmpns",eh,eb,eg,eE,eD,e_,eN,eI,eC,eR,eF,eA,eH,ej,ez,eq,eU,eV,eB];function eK(e){return e instanceof Element&&(e.id===eW||!(null==e.closest||!e.closest(".toolbar-global-fade-container")))}function eX(e){return!!e&&1===e.nodeType}function eZ(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function eQ(e){return!!e&&3===e.nodeType}function e0(e){return!!e&&11===e.nodeType}function e1(e){return e?L(e).split(/\s+/):[]}function e2(e){var t=null==l?void 0:l.location.href;return!!(t&&e&&e.some(e=>t.match(e)))}function e5(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return e1(t)}function e3(e){return j(e)?null:L(e).split(/(\s+)/).filter(e=>to(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function e6(e){var t="";return e7(e)&&!te(e)&&e.childNodes&&e.childNodes.length&&ee(e.childNodes,function(e){var i;eQ(e)&&e.textContent&&(t+=null!=(i=e3(e.textContent))?i:"")}),L(t)}function e8(e){var t;return A(e.target)?e.srcElement||null:null!=(t=e.target)&&t.shadowRoot?e.composedPath()[0]||null:e.target||null}var e4=["a","button","form","input","select","textarea","label"];function e9(e){var t=e.parentNode;return!(!t||!eX(t))&&t}function e7(e){for(var t=e;t.parentNode&&!eZ(t,"body");t=t.parentNode){var i=e5(t);if($(i,"ph-sensitive")||$(i,"ph-no-capture"))return!1}if($(e5(e),"ph-include"))return!0;var r=e.type||"";if(P(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var s=e.name||e.id||"";return!(P(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function te(e){return!!(eZ(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||eZ(e,"select")||eZ(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var tt="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",ti=RegExp("^(?:"+tt+")$"),tr=new RegExp(tt),ts="\\d{3}-?\\d{2}-?\\d{4}",tn=RegExp("^("+ts+")$"),ta=RegExp("("+ts+")");function to(e,t){return void 0===t&&(t=!0),!(j(e)||P(e)&&(e=L(e),(t?ti:tr).test((e||"").replace(/[- ]/g,""))||(t?tn:ta).test(e)))&&!0}function tl(e){var t=e6(e);return to(t=(t+" "+function e(t){var i="";return t&&t.childNodes&&t.childNodes.length&&ee(t.childNodes,function(t){var r;if(t&&"span"===(null==(r=t.tagName)?void 0:r.toLowerCase()))try{var s=e6(t);i=(i+" "+s).trim(),t.childNodes&&t.childNodes.length&&(i=(i+" "+e(t)).trim())}catch(e){V.error("[AutoCapture]",e)}}),i}(e)).trim())?t:""}function tu(e){return e.replace(/"|\\"/g,'\\"')}class td{constructor(){this.clicks=[]}isRageClick(e,t,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}var tc=["localhost","127.0.0.1"],th=e=>{var t=null==g?void 0:g.createElement("a");return A(t)?null:(t.href=e,t)},tp=function(e,t){void 0===t&&(t="&");var i,r,s=[];return ee(e,function(e,t){A(e)||A(t)||"undefined"===t||(i=encodeURIComponent(e instanceof File?e.name:e.toString()),r=encodeURIComponent(t),s[s.length]=r+"="+i)}),s.join(t)},tg=function(e,t){for(var i,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<r.length;s++){var n=r[s].split("=");if(n[0]===t){i=n;break}}if(!I(i)||i.length<2)return"";var a=i[1];try{a=decodeURIComponent(a)}catch(e){V.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},tf=function(e,t,i){if(!e||!t||!t.length)return e;for(var r=e.split("#"),s=r[0]||"",n=r[1],a=s.split("?"),o=a[1],l=a[0],u=(o||"").split("&"),d=[],c=0;c<u.length;c++){var h=u[c].split("=");I(h)&&(t.includes(h[0])?d.push(h[0]+"="+i):d.push(u[c]))}var p=l;return null!=o&&(p+="?"+d.join("&")),null!=n&&(p+="#"+n),p},t_=function(e,t){var i=e.match(RegExp(t+"=([^&]*)"));return i?i[1]:null},tm=W("[AutoCapture]");function tv(e,t){return t.length>e?t.slice(0,e)+"...":t}class ty{constructor(e){this.i=!1,this.o=null,this.rageclicks=new td,this.h=!1,this.instance=e,this.m=null}get S(){var e,t,i=F(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null==(e=i.url_allowlist)?void 0:e.map(e=>new RegExp(e)),i.url_ignorelist=null==(t=i.url_ignorelist)?void 0:t.map(e=>new RegExp(e)),i}$(){if(this.isBrowserSupported()){if(l&&g){var e=e=>{e=e||(null==l?void 0:l.event);try{this.k(e)}catch(e){tm.error("Failed to capture event",e)}};if(eu(g,"submit",e,{capture:!0}),eu(g,"change",e,{capture:!0}),eu(g,"click",e,{capture:!0}),this.S.capture_copied_text){var t=e=>{e=e||(null==l?void 0:l.event),this.k(e,w)};eu(g,"copy",t,{capture:!0}),eu(g,"cut",t,{capture:!0})}}}else tm.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.h=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ep]:!!e.autocapture_opt_out}),this.o=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.m=e}getElementSelectors(e){var t,i=[];return null==(t=this.m)||t.forEach(t=>{var r=null==g?void 0:g.querySelectorAll(t);null==r||r.forEach(r=>{e===r&&i.push(t)})}),i}get isEnabled(){var e,t,i=null==(e=this.instance.persistence)?void 0:e.props[ep];if(N(this.o)&&!q(i)&&!this.instance.config.advanced_disable_decide)return!1;var r=null!=(t=this.o)?t:!!i;return!!this.instance.config.autocapture&&!r}k(e,t){if(void 0===t&&(t="$autocapture"),this.isEnabled){var i,r=e8(e);eQ(r)&&(r=r.parentNode||null),"$autocapture"===t&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!=(i=this.rageclicks)&&i.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.k(e,"$rageclick");var s=t===w;if(r&&function(e,t,i,r,s){if(void 0===i&&(i=void 0),!l||!e||eZ(e,"html")||!eX(e)||null!=(n=i)&&n.url_allowlist&&!e2(i.url_allowlist)||null!=(a=i)&&a.url_ignorelist&&e2(i.url_ignorelist))return!1;if(null!=(o=i)&&o.dom_event_allowlist){var n,a,o,u=i.dom_event_allowlist;if(u&&!u.some(e=>t.type===e))return!1}for(var d=!1,c=[e],h=!0,p=e;p.parentNode&&!eZ(p,"body");)if(e0(p.parentNode))c.push(p.parentNode.host),p=p.parentNode.host;else{if(!(h=e9(p)))break;if(r||e4.indexOf(h.tagName.toLowerCase())>-1)d=!0;else{var g=l.getComputedStyle(h);g&&"pointer"===g.getPropertyValue("cursor")&&(d=!0)}c.push(h),p=h}if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(A(i))return!0;var r,s=function(e){if(i.some(t=>e.tagName.toLowerCase()===t))return{v:!0}};for(var n of e)if(r=s(n))return r.v;return!1}(c,i)||!function(e,t){var i=null==t?void 0:t.css_selector_allowlist;if(A(i))return!0;var r,s=function(e){if(i.some(t=>e.matches(t)))return{v:!0}};for(var n of e)if(r=s(n))return r.v;return!1}(c,i))return!1;var f=l.getComputedStyle(e);if(f&&"pointer"===f.getPropertyValue("cursor")&&"click"===t.type)return!0;var _=e.tagName.toLowerCase();switch(_){case"html":return!1;case"form":return(s||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(t.type)>=0;default:return d?(s||["click"]).indexOf(t.type)>=0:(s||["click"]).indexOf(t.type)>=0&&(e4.indexOf(_)>-1||"true"===e.getAttribute("contenteditable"))}}(r,e,this.S,s,s?["copy","cut"]:void 0)){var{props:n,explicitNoCapture:a}=function(e,t){for(var i,r,{e:s,maskAllElementAttributes:n,maskAllText:a,elementAttributeIgnoreList:o,elementsChainAsString:u}=t,d=[e],c=e;c.parentNode&&!eZ(c,"body");)e0(c.parentNode)?(d.push(c.parentNode.host),c=c.parentNode.host):(d.push(c.parentNode),c=c.parentNode);var h,p=[],g={},f=!1,_=!1;if(ee(d,e=>{var t=e7(e);"a"===e.tagName.toLowerCase()&&(f=e.getAttribute("href"),f=t&&f&&to(f)&&f),$(e5(e),"ph-no-capture")&&(_=!0),p.push(function(e,t,i,r){var s=e.tagName.toLowerCase(),n={tag_name:s};e4.indexOf(s)>-1&&!i&&("a"===s.toLowerCase()||"button"===s.toLowerCase()?n.$el_text=tv(1024,tl(e)):n.$el_text=tv(1024,e6(e)));var a=e5(e);a.length>0&&(n.classes=a.filter(function(e){return""!==e})),ee(e.attributes,function(i){var s;if((!te(e)||-1!==["name","id","class","aria-label"].indexOf(i.name))&&(null==r||!r.includes(i.name))&&!t&&to(i.value)&&(!P(s=i.name)||"_ngcontent"!==s.substring(0,10)&&"_nghost"!==s.substring(0,7))){var a=i.value;"class"===i.name&&(a=e1(a).join(" ")),n["attr__"+i.name]=tv(1024,a)}});for(var o=1,l=1,u=e;u=function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!eX(t))return t}(u);)o++,u.tagName===e.tagName&&l++;return n.nth_child=o,n.nth_of_type=l,n}(e,n,a,o)),et(g,function(e){if(!e7(e))return{};var t={};return ee(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var i=e.name.replace("data-ph-capture-attribute-",""),r=e.value;i&&r&&to(r)&&(t[i]=r)}}),t}(e))}),_)return{props:{},explicitNoCapture:_};if(a||("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase()?p[0].$el_text=tl(e):p[0].$el_text=e6(e)),f){p[0].attr__href=f;var m,v,y=null==(m=th(f))?void 0:m.host,b=null==l||null==(v=l.location)?void 0:v.host;y&&b&&y!==b&&(h=f)}return{props:et({$event_type:s.type,$ce_version:1},u?{}:{$elements:p},{$elements_chain:p.map(e=>{var t,i,r,s={text:null==(i=e.$el_text)?void 0:i.slice(0,400),tag_name:e.tag_name,href:null==(r=e.attr__href)?void 0:r.slice(0,2048),attr_class:(t=e.attr__class)?I(t)?t:e1(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return er(e).filter(e=>{var[t]=e;return 0===t.indexOf("attr__")}).forEach(e=>{var[t,i]=e;return s.attributes[t]=i}),s}).map(e=>{var t,i,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class)for(var s of(e.attr_class.sort(),e.attr_class))r+="."+s.replace(/"/g,"");var n=K({},e.text?{text:e.text}:{},{"nth-child":null!=(t=e.nth_child)?t:0,"nth-of-type":null!=(i=e.nth_of_type)?i:0},e.href?{href:e.href}:{},e.attr_id?{attr_id:e.attr_id}:{},e.attributes),a={};return er(n).sort((e,t)=>{var[i]=e,[r]=t;return i.localeCompare(r)}).forEach(e=>{var[t,i]=e;return a[tu(t.toString())]=tu(i.toString())}),r+=":",r+=er(a).map(e=>{var[t,i]=e;return t+'="'+i+'"'}).join("")}).join(";")},null!=(i=p[0])&&i.$el_text?{$el_text:null==(r=p[0])?void 0:r.$el_text}:{},h&&"click"===s.type?{$external_click_url:h}:{},g)}}(r,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(a)return!1;var o=this.getElementSelectors(r);if(o&&o.length>0&&(n.$element_selectors=o),t===w){var u,d=e3(null==l||null==(u=l.getSelection())?void 0:u.toString()),c=e.type||"clipboard";if(!d)return!1;n.$selected_content=d,n.$copy_type=c}return this.instance.capture(t,n),!0}}}isBrowserSupported(){return C(null==g?void 0:g.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return z(e)&&isFinite(e)&&Math.floor(e)===e});var tb="0123456789abcdef";class tk{constructor(e){if(this.bytes=e,16!==e.length)throw TypeError("not 128-bit length")}static fromFieldsV7(e,t,i,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||t<0||i<0||r<0||e>0xffffffffffff||t>4095||i>0x3fffffff||r>0xffffffff)throw RangeError("invalid field value");var s=new Uint8Array(16);return s[0]=e/0x10000000000,s[1]=e/0x100000000,s[2]=e/0x1000000,s[3]=e/65536,s[4]=e/256,s[5]=e,s[6]=112|t>>>8,s[7]=t,s[8]=128|i>>>24,s[9]=i>>>16,s[10]=i>>>8,s[11]=i,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new tk(s)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+tb.charAt(this.bytes[t]>>>4)+tb.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}clone(){return new tk(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class tw{constructor(){this.I=0,this.P=0,this.R=new t$}generate(){var e=this.generateOrAbort();if(A(e)){this.I=0;var t=this.generateOrAbort();if(A(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.I)this.I=e,this.T();else{if(!(e+1e4>this.I))return;this.P++,this.P>0x3ffffffffff&&(this.I++,this.T())}return tk.fromFieldsV7(this.I,Math.trunc(this.P/0x40000000),0x3fffffff&this.P,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}}var tx,tS,tM=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};l&&!A(l.crypto)&&crypto.getRandomValues&&(tM=e=>crypto.getRandomValues(e));class t${constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(tM(this.M),this.C=0),this.M[this.C++]}}var tL=()=>tE().toString(),tE=()=>(tS||(tS=new tw)).generate(),tT="",tY=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,tO={O:()=>!!g,F:function(e){V.error("cookieStore error: "+e)},A:function(e){if(g){try{for(var t=e+"=",i=g.cookie.split(";").filter(e=>e.length),r=0;r<i.length;r++){for(var s=i[r];" "==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return decodeURIComponent(s.substring(t.length,s.length))}}catch(e){}return null}},D:function(e){var t;try{t=JSON.parse(tO.A(e))||{}}catch(e){}return t},L:function(e,t,i,r,s){if(g)try{var n="",a="",o=function(e,t){if(t){var i=function(e,t){if(void 0===t&&(t=g),tT)return tT;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var i=e.split("."),r=Math.min(i.length,8),s="dmn_chk_"+tL();!tT&&r--;){var n=i.slice(r).join("."),a=s+"=1;domain=."+n+";path=/";t.cookie=a+";max-age=3",t.cookie.includes(s)&&(t.cookie=a+";max-age=0",tT=n)}return tT}(e);if(!i){var r,s=(r=e.match(tY))?r[0]:"";s!==i&&V.info("Warning: cookie subdomain discovery mismatch",s,i),i=s}return i?"; domain=."+i:""}return""}(g.location.hostname,r);if(i){var l=new Date;l.setTime(l.getTime()+24*i*36e5),n="; expires="+l.toUTCString()}s&&(a="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+n+"; SameSite=Lax; path=/"+o+a;return u.length>3686.4&&V.warn("cookieStore warning: large cookie, len="+u.length),g.cookie=u,u}catch(e){return}},N:function(e,t){try{tO.L(e,"",-1,t)}catch(e){return}}},tD=null,tI={O:function(){if(!N(tD))return tD;var e=!0;if(A(l))e=!1;else try{var t="__mplssupport__";tI.L(t,"xyz"),'"xyz"'!==tI.A(t)&&(e=!1),tI.N(t)}catch(t){e=!1}return e||V.error("localStorage unsupported; falling back to cookie store"),tD=e,e},F:function(e){V.error("localStorage error: "+e)},A:function(e){try{return null==l?void 0:l.localStorage.getItem(e)}catch(e){tI.F(e)}return null},D:function(e){try{return JSON.parse(tI.A(e))||{}}catch(e){}return null},L:function(e,t){try{null==l||l.localStorage.setItem(e,JSON.stringify(t))}catch(e){tI.F(e)}},N:function(e){try{null==l||l.localStorage.removeItem(e)}catch(e){tI.F(e)}}},tC=["distinct_id",eE,eT,eV,eB],tF=K({},tI,{D:function(e){try{var t={};try{t=tO.D(e)||{}}catch(e){}var i=et(t,JSON.parse(tI.A(e)||"{}"));return tI.L(e,i),i}catch(e){}return null},L:function(e,t,i,r,s,n){try{tI.L(e,t,void 0,void 0,n);var a={};tC.forEach(e=>{t[e]&&(a[e]=t[e])}),Object.keys(a).length&&tO.L(e,a,i,r,s,n)}catch(e){tI.F(e)}},N:function(e,t){try{null==l||l.localStorage.removeItem(e),tO.N(e,t)}catch(e){tI.F(e)}}}),tR={},tA={O:function(){return!0},F:function(e){V.error("memoryStorage error: "+e)},A:function(e){return tR[e]||null},D:function(e){return tR[e]||null},L:function(e,t){tR[e]=t},N:function(e){delete tR[e]}},tP=null,tH={O:function(){if(!N(tP))return tP;if(tP=!0,A(l))tP=!1;else try{var e="__support__";tH.L(e,"xyz"),'"xyz"'!==tH.A(e)&&(tP=!1),tH.N(e)}catch(e){tP=!1}return tP},F:function(e){V.error("sessionStorage error: ",e)},A:function(e){try{return null==l?void 0:l.sessionStorage.getItem(e)}catch(e){tH.F(e)}return null},D:function(e){try{return JSON.parse(tH.A(e))||null}catch(e){}return null},L:function(e,t){try{null==l||l.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){tH.F(e)}},N:function(e){try{null==l||l.sessionStorage.removeItem(e)}catch(e){tH.F(e)}}},tN=((t1={})[t1.PENDING=-1]="PENDING",t1[t1.DENIED=0]="DENIED",t1[t1.GRANTED=1]="GRANTED",t1);class tj{constructor(e){this._instance=e}get S(){return this._instance.config}get consent(){return this.j()?tN.DENIED:this.U}isOptedOut(){return this.consent===tN.DENIED||this.consent===tN.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.q.L(this.B,+!!e,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.N(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:e,opt_out_capturing_cookie_prefix:t}=this._instance.config;return(t||"__ph_opt_in_out_")+e}get U(){var e=this.q.A(this.B);return"1"===e?tN.GRANTED:"0"===e?tN.DENIED:tN.PENDING}get q(){if(!this.H){var e=this.S.opt_out_capturing_persistence_type;this.H="localStorage"===e?tI:tO;var t="localStorage"===e?tO:tI;t.A(this.B)&&(this.H.A(this.B)||this.optInOut("1"===t.A(this.B)),t.N(this.B,this.S.cross_subdomain_cookie))}return this.H}j(){return!!this.S.respect_dnt&&!!el([null==p?void 0:p.doNotTrack,null==p?void 0:p.msDoNotTrack,b.doNotTrack],e=>$([!0,1,"1","yes"],e))}}var tz=W("[Dead Clicks]"),tq=()=>!0,tU=e=>{var t,i=!(null==(t=e.instance.persistence)||!t.get_property(ev)),r=e.instance.config.capture_dead_clicks;return q(r)?r:i};class tB{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ev]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(e){var t,i;null!=(t=b.__PosthogExtensions__)&&t.initDeadClicksAutocapture&&e(),null==(i=b.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this.instance,"dead-clicks-autocapture",t=>{t?tz.error("failed to load script",t):e()})}J(){var e;if(g){if(!this.W&&null!=(e=b.__PosthogExtensions__)&&e.initDeadClicksAutocapture){var t=F(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.W=b.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.W.start(g),tz.info("starting...")}}else tz.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,tz.info("stopping..."))}}var tV=W("[ExceptionAutocapture]");class tW{constructor(e){var t;this.V=()=>{var e;if(l&&this.isEnabled&&null!=(e=b.__PosthogExtensions__)&&e.errorWrappingFunctions){var t=b.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,i=b.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,r=b.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.K&&this.S.capture_unhandled_errors&&(this.K=t(this.captureException.bind(this))),!this.Y&&this.S.capture_unhandled_rejections&&(this.Y=i(this.captureException.bind(this))),!this.X&&this.S.capture_console_errors&&(this.X=r(this.captureException.bind(this)))}catch(e){tV.error("failed to start",e),this.Z()}}},this._instance=e,this.tt=!(null==(t=this._instance.persistence)||!t.props[ef]),this.S=this.it(),this.startIfEnabled()}it(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return F(e)?t=K({},t,e):(A(e)?this.tt:e)&&(t=K({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(tV.info("enabled"),this.G(this.V))}G(e){var t,i;null!=(t=b.__PosthogExtensions__)&&t.errorWrappingFunctions&&e(),null==(i=b.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"exception-autocapture",t=>{if(t)return tV.error("failed to load script",t);e()})}Z(){var e,t,i;null==(e=this.K)||e.call(this),this.K=void 0,null==(t=this.Y)||t.call(this),this.Y=void 0,null==(i=this.X)||i.call(this),this.X=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.tt=!!t,this.S=this.it(),this._instance.persistence&&this._instance.persistence.register({[ef]:this.tt}),this.startIfEnabled()}captureException(e){e.$exception_personURL=this._instance.requestRouter.endpointFor("ui")+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id(),this._instance.exceptions.sendExceptionEvent(e)}}function tG(e){return!A(Event)&&tJ(e,Event)}function tJ(e,t){try{return e instanceof t}catch(e){return!1}}function tK(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return tJ(e,Error)}}function tX(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function tZ(e){return tX(e,"DOMError")}var tQ=/\(error: (.*)\)/;function t0(e,t,i,r){var s={platform:"web:javascript",filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return A(i)||(s.lineno=i),A(r)||(s.colno=r),s}var t1,t2,t5,t3,t6=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,t8=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,t4=/\((\S*)(?::(\d+))(?::(\d+))\)/,t9=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,t7=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ie=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e,t){void 0===t&&(t=0);for(var i=[],s=e.split("\n"),n=t;n<s.length;n++){var a=s[n];if(!(a.length>1024)){var o=tQ.test(a)?a.replace(tQ,"$1"):a;if(!o.match(/\S*Error: /)){for(var l of r){var u=l(o);if(u){i.push(u);break}}if(i.length>=50)break}}}if(!i.length)return[];var d=Array.from(i);return d.reverse(),d.slice(0,50).map(e=>{var t;return K({},e,{filename:e.filename||((t=d)[t.length-1]||{}).filename,function:e.function||"?"})})}}([30,e=>{var t=t6.exec(e);if(t){var[,i,r,s]=t;return t0(i,"?",+r,+s)}var n=t8.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){var a=t4.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}var[o,l]=it(n[1]||"?",n[2]);return t0(l,o,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{var t=t9.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var i=t7.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}var r=t[3],s=t[1]||"?";return[s,r]=it(s,r),t0(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),it=(e,t)=>{var i=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return i||r?[-1!==e.indexOf("@")?e.split("@")[0]:"?",i?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},ii=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function ir(e,t){void 0===t&&(t=0);var i=e.stacktrace||e.stack||"",r=e&&is.test(e.message)?1:0;try{var s,n,a=(s=ie(i,r),n=function(e){var t=globalThis._posthogChunkIds;if(!t)return{};var i=Object.keys(t);return t3&&i.length===t5||(t5=i.length,t3=i.reduce((i,r)=>{t2||(t2={});var s=t2[r];if(s)i[s[0]]=s[1];else for(var n=e(r),a=n.length-1;a>=0;a--){var o=n[a],l=null==o?void 0:o.filename,u=t[r];if(l&&u){i[l]=u,t2[r]=[l,u];break}}return i},{})),t3}(ie),s.forEach(e=>{e.filename&&(e.chunk_id=n[e.filename])}),s);return a.slice(0,a.length-t)}catch(e){}return[]}var is=/Minified React error #\d+;/i;function ia(e,t){return{$exception_list:function e(t,i){var r,s,n,a,o,l,u,d,c=(r=t,s=i,l=ir(r),u=null==(a=null==s?void 0:s.handled)||a,d=null!=(o=null==s?void 0:s.synthetic)&&o,{type:null!=s&&s.overrideExceptionType?s.overrideExceptionType:r.name,value:(n=r.message).error&&"string"==typeof n.error.message?String(n.error.message):String(n),stacktrace:{frames:l,type:"raw"},mechanism:{handled:u,synthetic:d}});return t.cause&&tK(t.cause)&&t.cause!==t?[c,...e(t.cause,{handled:null==i?void 0:i.handled,synthetic:null==i?void 0:i.synthetic})]:[c]}(e,t),$exception_level:"error"}}function io(e,t){var i,r,s,n=null==(i=null==t?void 0:t.handled)||i,a=null==(r=null==t?void 0:t.synthetic)||r,o={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:null!=(s=null==t?void 0:t.defaultExceptionType)?s:"Error",value:e||(null==t?void 0:t.defaultExceptionMessage),mechanism:{handled:n,synthetic:a}};if(null!=t&&t.syntheticException){var l=ir(t.syntheticException,1);l.length&&(o.stacktrace={frames:l,type:"raw"})}return{$exception_list:[o],$exception_level:"error"}}function il(e,t,i){try{if(!(t in e))return()=>{};var r=e[t],s=i(r);return C(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=s,()=>{e[t]=r}}catch(e){return()=>{}}}class iu{constructor(e){var t;this._instance=e,this.et=(null==l||null==(t=l.location)?void 0:t.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(V.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.rt&&this.rt(),this.rt=void 0,V.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(l&&l.history){var i=this;null!=(e=l.history.pushState)&&e.__posthog_wrapped__||il(l.history,"pushState",e=>function(t,r,s){e.call(this,t,r,s),i.st("pushState")}),null!=(t=l.history.replaceState)&&t.__posthog_wrapped__||il(l.history,"replaceState",e=>function(t,r,s){e.call(this,t,r,s),i.st("replaceState")}),this.nt()}}st(e){try{var t,i=null==l||null==(t=l.location)?void 0:t.pathname;if(!i)return;i!==this.et&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.et=i}catch(t){V.error("Error capturing "+e+" pageview",t)}}nt(){if(!this.rt){var e=()=>{this.st("popstate")};eu(l,"popstate",e),this.rt=()=>{l&&l.removeEventListener("popstate",e)}}}}function id(e){var t,i;return(null==(t=JSON.stringify(e,(i=[],function(e,t){if(F(t)){for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(t)?"[Circular]":(i.push(t),t)}return t})))?void 0:t.length)||0}var ic=((t=ic||{})[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t),ih=((i=ih||{})[i.Mutation=0]="Mutation",i[i.MouseMove=1]="MouseMove",i[i.MouseInteraction=2]="MouseInteraction",i[i.Scroll=3]="Scroll",i[i.ViewportResize=4]="ViewportResize",i[i.Input=5]="Input",i[i.TouchMove=6]="TouchMove",i[i.MediaInteraction=7]="MediaInteraction",i[i.StyleSheetRule=8]="StyleSheetRule",i[i.CanvasMutation=9]="CanvasMutation",i[i.Font=10]="Font",i[i.Log=11]="Log",i[i.Drag=12]="Drag",i[i.StyleDeclaration=13]="StyleDeclaration",i[i.Selection=14]="Selection",i[i.AdoptedStyleSheet=15]="AdoptedStyleSheet",i[i.CustomElement=16]="CustomElement",i),ip="[SessionRecording]",ig="redacted",i_={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},im=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],iv=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],iy=["/s/","/e/","/i/"];function ib(e,t,i,r){if(j(e))return e;var s=(null==t?void 0:t["content-length"])||new Blob([e]).size;return P(s)&&(s=parseInt(s)),s>i?ip+" "+r+" body too large to record ("+s+" bytes)":e}function ik(e,t){if(j(e))return e;var i=e;return to(i,!1)||(i=ip+" "+t+" body "+ig),ee(iv,e=>{var r,s;null!=(r=i)&&r.length&&-1!==(null==(s=i)?void 0:s.indexOf(e))&&(i=ip+" "+t+" body "+ig+" as might contain: "+e)}),i}function iw(e,t,i,r,s){return t>i&&(V.warn("min cannot be greater than max."),t=i),z(e)?e>i?(r&&V.warn(r+" cannot be  greater than max: "+i+". Using max value instead."),i):e<t?(r&&V.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&V.warn(r+" must be a number. using max or fallback. max: "+i+", fallback: "+s),iw(s||i,t,i,r))}class ix{constructor(e,t){var i,r;void 0===t&&(t={}),this.ot=100,this.lt=10,this.ut={},this.ht={},this.dt=()=>{Object.keys(this.ut).forEach(e=>{this.ut[e]=this.ut[e]+this.lt,this.ut[e]>=this.ot&&delete this.ut[e]})},this.vt=e=>{var t=this._rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var i=t.closest("svg");if(i)return[this._rrweb.mirror.getId(i),i]}return[e,t]},this.ct=e=>{var t,i,r,s,n,a,o,l;return(null!=(t=null==(i=e.removes)?void 0:i.length)?t:0)+(null!=(r=null==(s=e.attributes)?void 0:s.length)?r:0)+(null!=(n=null==(a=e.texts)?void 0:a.length)?n:0)+(null!=(o=null==(l=e.adds)?void 0:l.length)?o:0)},this.throttleMutations=e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,i=this.ct(t);t.attributes&&(t.attributes=t.attributes.filter(e=>{var t,i,r,[s,n]=this.vt(e.id);return 0!==this.ut[s]&&(this.ut[s]=null!=(t=this.ut[s])?t:this.ot,this.ut[s]=Math.max(this.ut[s]-1,0),0===this.ut[s]&&(this.ht[s]||(this.ht[s]=!0,null==(i=(r=this.ft).onBlockedNode)||i.call(r,s,n))),e)}));var r=this.ct(t);return 0!==r||i===r?e:void 0},this._rrweb=e,this.ft=t,this.lt=iw(null!=(i=this.ft.refillRate)?i:this.lt,0,100,"mutation throttling refill rate"),this.ot=iw(null!=(r=this.ft.bucketSize)?r:this.ot,0,100,"mutation throttling bucket size"),setInterval(()=>{this.dt()},1e3)}}var iS=Uint8Array,iM=Uint16Array,i$=Uint32Array,iL=new iS([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iE=new iS([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iT=new iS([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),iY=function(e,t){for(var i=new iM(31),r=0;r<31;++r)i[r]=t+=1<<e[r-1];var s=new i$(i[30]);for(r=1;r<30;++r)for(var n=i[r];n<i[r+1];++n)s[n]=n-i[r]<<5|r;return[i,s]},iO=iY(iL,2),iD=iO[0],iI=iO[1];iD[28]=258,iI[258]=28;for(var iC=iY(iE,0)[1],iF=new iM(32768),iR=0;iR<32768;++iR){var iA=(43690&iR)>>>1|(21845&iR)<<1;iA=(61680&(iA=(52428&iA)>>>2|(13107&iA)<<2))>>>4|(3855&iA)<<4,iF[iR]=((65280&iA)>>>8|(255&iA)<<8)>>>1}var iP=function(e,t,i){for(var r=e.length,s=0,n=new iM(t);s<r;++s)++n[e[s]-1];var a,o=new iM(t);for(s=0;s<t;++s)o[s]=o[s-1]+n[s-1]<<1;if(i){a=new iM(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],c=o[e[s]-1]++<<d,h=c|(1<<d)-1;c<=h;++c)a[iF[c]>>>l]=u}else for(a=new iM(r),s=0;s<r;++s)a[s]=iF[o[e[s]-1]++]>>>15-e[s];return a},iH=new iS(288);for(iR=0;iR<144;++iR)iH[iR]=8;for(iR=144;iR<256;++iR)iH[iR]=9;for(iR=256;iR<280;++iR)iH[iR]=7;for(iR=280;iR<288;++iR)iH[iR]=8;var iN=new iS(32);for(iR=0;iR<32;++iR)iN[iR]=5;var ij=iP(iH,9,0),iz=iP(iN,5,0),iq=function(e){return(e/8|0)+(7&e&&1)},iU=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var r=new(e instanceof iM?iM:e instanceof i$?i$:iS)(i-t);return r.set(e.subarray(t,i)),r},iB=function(e,t,i){i<<=7&t;var r=t/8|0;e[r]|=i,e[r+1]|=i>>>8},iV=function(e,t,i){i<<=7&t;var r=t/8|0;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},iW=function(e,t){for(var i=[],r=0;r<e.length;++r)e[r]&&i.push({s:r,f:e[r]});var s=i.length,n=i.slice();if(!s)return[new iS(0),0];if(1==s){var a=new iS(i[0].s+1);return a[i[0].s]=1,[a,1]}i.sort(function(e,t){return e.f-t.f}),i.push({s:-1,f:25001});var o=i[0],l=i[1],u=0,d=1,c=2;for(i[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=s-1;)o=i[i[u].f<i[c].f?u++:c++],l=i[u!=d&&i[u].f<i[c].f?u++:c++],i[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=n[0].s;for(r=1;r<s;++r)n[r].s>h&&(h=n[r].s);var p=new iM(h+1),g=iG(i[d-1],p,0);if(g>t){r=0;var f=0,_=g-t,m=1<<_;for(n.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<s;++r){var v=n[r].s;if(!(p[v]>t))break;f+=m-(1<<g-p[v]),p[v]=t}for(f>>>=_;f>0;){var y=n[r].s;p[y]<t?f-=1<<t-p[y]++-1:++r}for(;r>=0&&f;--r){var b=n[r].s;p[b]==t&&(--p[b],++f)}g=t}return[new iS(p),g]},iG=function(e,t,i){return -1==e.s?Math.max(iG(e.l,t,i+1),iG(e.r,t,i+1)):t[e.s]=i},iJ=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new iM(++t),r=0,s=e[0],n=1,a=function(e){i[r++]=e},o=1;o<=t;++o)if(e[o]==s&&o!=t)++n;else{if(!s&&n>2){for(;n>138;n-=138)a(32754);n>2&&(a(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(a(s),--n;n>6;n-=6)a(8304);n>2&&(a(n-3<<5|8208),n=0)}for(;n--;)a(s);n=1,s=e[o]}return[i.subarray(0,r),t]},iK=function(e,t){for(var i=0,r=0;r<t.length;++r)i+=e[r]*t[r];return i},iX=function(e,t,i){var r=i.length,s=iq(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var n=0;n<r;++n)e[s+n+4]=i[n];return 8*(s+4+r)},iZ=function(e,t,i,r,s,n,a,o,l,u,d){iB(t,d++,i),++s[256];for(var c=iW(s,15),h=c[0],p=c[1],g=iW(n,15),f=g[0],_=g[1],m=iJ(h),v=m[0],y=m[1],b=iJ(f),k=b[0],w=b[1],x=new iM(19),S=0;S<v.length;++S)x[31&v[S]]++;for(S=0;S<k.length;++S)x[31&k[S]]++;for(var M=iW(x,7),$=M[0],L=M[1],E=19;E>4&&!$[iT[E-1]];--E);var T,Y,O,D,I=u+5<<3,C=iK(s,iH)+iK(n,iN)+a,F=iK(s,h)+iK(n,f)+a+14+3*E+iK(x,$)+(2*x[16]+3*x[17]+7*x[18]);if(I<=C&&I<=F)return iX(t,d,e.subarray(l,l+u));if(iB(t,d,1+(F<C)),d+=2,F<C){T=iP(h,p,0),Y=h,O=iP(f,_,0),D=f;var R=iP($,L,0);for(iB(t,d,y-257),iB(t,d+5,w-1),iB(t,d+10,E-4),d+=14,S=0;S<E;++S)iB(t,d+3*S,$[iT[S]]);d+=3*E;for(var A=[v,k],P=0;P<2;++P){var H=A[P];for(S=0;S<H.length;++S){var N=31&H[S];iB(t,d,R[N]),d+=$[N],N>15&&(iB(t,d,H[S]>>>5&127),d+=H[S]>>>12)}}}else T=ij,Y=iH,O=iz,D=iN;for(S=0;S<o;++S)if(r[S]>255){iV(t,d,T[(N=r[S]>>>18&31)+257]),d+=Y[N+257],N>7&&(iB(t,d,r[S]>>>23&31),d+=iL[N]);var j=31&r[S];iV(t,d,O[j]),d+=D[j],j>3&&(iV(t,d,r[S]>>>5&8191),d+=iE[j])}else iV(t,d,T[r[S]]),d+=Y[r[S]];return iV(t,d,T[256]),d+Y[256]},iQ=new i$([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i0=function(){for(var e=new i$(256),t=0;t<256;++t){for(var i=t,r=9;--r;)i=(1&i&&0xedb88320)^i>>>1;e[t]=i}return e}(),i1=function(){var e=0xffffffff;return{p:function(t){for(var i=e,r=0;r<t.length;++r)i=i0[255&i^t[r]]^i>>>8;e=i},d:function(){return 0xffffffff^e}}},i2=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},i5=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:2*(9==t.level),e[9]=3,0!=t.mtime&&i2(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var r=0;r<=i.length;++r)e[r+10]=i.charCodeAt(r)}};function i3(e,t){void 0===t&&(t={});var i,r,s,n=i1(),a=e.length;n.p(e);var o=(r=t,s=10+((i=t).filename&&i.filename.length+1||0),function(e,t,i,r,s,n){var a=e.length,o=new iS(r+a+5*(1+Math.floor(a/7e3))+8),l=o.subarray(r,o.length-8),u=0;if(!t||a<8)for(var d=0;d<=a;d+=65535){var c=d+65535;c<a?u=iX(l,u,e.subarray(d,c)):(l[d]=n,u=iX(l,u,e.subarray(d,a)))}else{for(var h=iQ[t-1],p=h>>>13,g=8191&h,f=(1<<i)-1,_=new iM(32768),m=new iM(f+1),v=Math.ceil(i/3),y=2*v,b=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<y)&f},k=new i$(25e3),w=new iM(288),x=new iM(32),S=0,M=0,$=(d=0,0),L=0,E=0;d<a;++d){var T=b(d),Y=32767&d,O=m[T];if(_[Y]=O,m[T]=Y,L<=d){var D=a-d;if((S>7e3||$>24576)&&D>423){u=iZ(e,l,0,k,w,x,M,$,E,d-E,u),$=S=M=0,E=d;for(var I=0;I<286;++I)w[I]=0;for(I=0;I<30;++I)x[I]=0}var C=2,F=0,R=g,A=Y-O&32767;if(D>2&&T==b(d-A))for(var P=Math.min(p,D)-1,H=Math.min(32767,d),N=Math.min(258,D);A<=H&&--R&&Y!=O;){if(e[d+C]==e[d+C-A]){for(var j=0;j<N&&e[d+j]==e[d+j-A];++j);if(j>C){if(C=j,F=A,j>P)break;var z=Math.min(A,j-2),q=0;for(I=0;I<z;++I){var U=d-A+I+32768&32767,B=U-_[U]+32768&32767;B>q&&(q=B,O=U)}}}A+=(Y=O)-(O=_[Y])+32768&32767}if(F){k[$++]=0x10000000|iI[C]<<18|iC[F];var V=31&iI[C],W=31&iC[F];M+=iL[V]+iE[W],++w[257+V],++x[W],L=d+C,++S}else k[$++]=e[d],++w[e[d]]}}u=iZ(e,l,n,k,w,x,M,$,E,d-E,u)}return iU(o,0,r+iq(u)+8)}(e,null==r.level?6:r.level,null==r.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+r.mem,s,8,!0)),l=o.length;return i5(o,t),i2(o,l-8,n.d()),i2(o,l-4,a),o}function i6(e,t){var i=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new iS(e.length+(e.length>>>1)),s=0,n=function(e){r[s++]=e},a=0;a<i;++a){if(s+5>r.length){var o=new iS(s+8+(i-a<<1));o.set(r),r=o}var l=e.charCodeAt(a);l<128||t?n(l):(l<2048?n(192|l>>>6):(l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++a))>>>18),n(128|l>>>12&63)):n(224|l>>>12),n(128|l>>>6&63)),n(128|63&l))}return iU(r,0,s)}var i8="disabled",i4="sampled",i9="active",i7="buffering",re="paused",rt="trigger",ri=rt+"_activated",rr=rt+"_pending",rs=rt+"_"+i8;function rn(e,t){return t.some(t=>"regex"===t.matching&&new RegExp(t.url).test(e))}class ra{constructor(e){this.gt=e}triggerStatus(e){var t=this.gt.map(t=>t.triggerStatus(e));return t.includes(ri)?ri:t.includes(rr)?rr:rs}stop(){this.gt.forEach(e=>e.stop())}}class ro{constructor(e){this.gt=e}triggerStatus(e){var t=new Set;for(var i of this.gt)t.add(i.triggerStatus(e));switch(t.delete(rs),t.size){case 0:return rs;case 1:return Array.from(t)[0];default:return rr}}stop(){this.gt.forEach(e=>e.stop())}}class rl{triggerStatus(){return rr}stop(){}}class ru{constructor(e){this._t=[],this.bt=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var t,i;this._t=(null==(t=e.sessionRecording)?void 0:t.urlTriggers)||[],this.bt=(null==(i=e.sessionRecording)?void 0:i.urlBlocklist)||[]}wt(e){var t;return 0===this._t.length?rs:(null==(t=this._instance)?void 0:t.get_property(eY))===e?ri:rr}triggerStatus(e){var t=this.wt(e),i=t===ri?ri:t===rr?rr:rs;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:i}),i}checkUrlTriggerConditions(e,t,i){if(void 0!==l&&l.location.href){var r=l.location.href,s=this.urlBlocked,n=rn(r,this.bt);s&&n||(n&&!s?e():!n&&s&&t(),rn(r,this._t)&&i("url"))}}stop(){}}class rd{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.yt=()=>{},this._instance=e}triggerStatus(){var e=rr;return j(this.linkedFlag)&&(e=rs),this.linkedFlagSeen&&(e=ri),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,t){var i;if(this.linkedFlag=(null==(i=e.sessionRecording)?void 0:i.linkedFlag)||null,!j(this.linkedFlag)&&!this.linkedFlagSeen){var r=P(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,s=P(this.linkedFlag)?null:this.linkedFlag.variant;this.yt=this._instance.onFeatureFlags((e,i)=>{var n=!1;if(F(i)&&r in i){var a=i[r];n=q(a)?!0===a:s?a===s:!!a}this.linkedFlagSeen=n,n&&t(r,s)})}}stop(){this.yt()}}class rc{constructor(e){this.St=[],this._instance=e}onRemoteConfig(e){var t;this.St=(null==(t=e.sessionRecording)?void 0:t.eventTriggers)||[]}$t(e){var t;return 0===this.St.length?rs:(null==(t=this._instance)?void 0:t.get_property(eO))===e?ri:rr}triggerStatus(e){var t=this.$t(e),i=t===ri?ri:t===rr?rr:rs;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:i}),i}stop(){}}function rh(e){return e.isRecordingEnabled?i7:i8}function rp(e){if(!e.receivedDecide)return i7;if(!e.isRecordingEnabled)return i8;if(e.urlTriggerMatching.urlBlocked)return re;var t=!0===e.isSampled,i=new ra([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?i4:i===ri?i9:i===rr?i7:!1===e.isSampled?i8:i9}function rg(e){if(!e.receivedDecide)return i7;if(!e.isRecordingEnabled)return i8;if(e.urlTriggerMatching.urlBlocked)return re;var t=new ro([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),i=t!==rs,r=q(e.isSampled);return i&&t===rr?i7:i&&t===rs||r&&!e.isSampled?i8:!0===e.isSampled?i4:i9}var rf="[SessionRecording]",r_=W(rf);function rm(){var e;return null==b||null==(e=b.__PosthogExtensions__)||null==(e=e.rrweb)?void 0:e.record}var rv=[ih.MouseMove,ih.MouseInteraction,ih.Scroll,ih.ViewportResize,ih.Input,ih.TouchMove,ih.MediaInteraction,ih.Drag],ry=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function rb(e){return function(e,t){for(var i="",r=0;r<e.length;){var s=e[r++];(s<128||t)&&(i+=String.fromCharCode(s))}return i}(i3(i6(JSON.stringify(e))),!0)}function rk(e){return e.type===ic.Custom&&"sessionIdle"===e.data.tag}class rw{get sessionId(){return this.kt}get xt(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Et}get It(){if(!this._instance.sessionManager)throw Error(rf+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Pt(){var e,t;return this.Rt.triggerStatus(this.sessionId)===rr?6e4:null!=(e=null==(t=this._instance.config.session_recording)?void 0:t.full_snapshot_interval_millis)?e:3e5}get Tt(){var e=this._instance.get_property(eT);return q(e)?e:null}get Mt(){var e,t,i=null==(e=this.M)?void 0:e.data[(null==(t=this.M)?void 0:t.data.length)-1],{sessionStartTimestamp:r}=this.It.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-r:null}get Ct(){var e=!!this._instance.get_property(eb),t=!this._instance.config.disable_session_recording;return l&&e&&t}get Ot(){var e=!!this._instance.get_property(ek),t=this._instance.config.enable_recording_console_log;return null!=t?t:e}get Ft(){var e,t,i,r,s,n,a=this._instance.config.session_recording.captureCanvas,o=this._instance.get_property(eS),l=null!=(e=null!=(t=null==a?void 0:a.recordCanvas)?t:null==o?void 0:o.enabled)&&e,u=null!=(i=null!=(r=null==a?void 0:a.canvasFps)?r:null==o?void 0:o.fps)?i:4,d=null!=(s=null!=(n=null==a?void 0:a.canvasQuality)?n:null==o?void 0:o.quality)?s:.4;if("string"==typeof d){var c=parseFloat(d);d=isNaN(c)?.4:c}return{enabled:l,fps:iw(u,0,12,"canvas recording fps",4),quality:iw(d,0,1,"canvas recording quality",.4)}}get At(){var e,t,i=this._instance.get_property(ew),r={recordHeaders:null==(e=this._instance.config.session_recording)?void 0:e.recordHeaders,recordBody:null==(t=this._instance.config.session_recording)?void 0:t.recordBody},s=(null==r?void 0:r.recordHeaders)||(null==i?void 0:i.recordHeaders),n=(null==r?void 0:r.recordBody)||(null==i?void 0:i.recordBody),a=F(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,o=!!(q(a)?a:null==i?void 0:i.capturePerformance);return s||n||o?{recordHeaders:s,recordBody:n,recordPerformance:o}:void 0}get Dt(){var e,t,i,r,s,n,a=this._instance.get_property(ex),o={maskAllInputs:null==(e=this._instance.config.session_recording)?void 0:e.maskAllInputs,maskTextSelector:null==(t=this._instance.config.session_recording)?void 0:t.maskTextSelector,blockSelector:null==(i=this._instance.config.session_recording)?void 0:i.blockSelector},l=null!=(r=null==o?void 0:o.maskAllInputs)?r:null==a?void 0:a.maskAllInputs,u=null!=(s=null==o?void 0:o.maskTextSelector)?s:null==a?void 0:a.maskTextSelector,d=null!=(n=null==o?void 0:o.blockSelector)?n:null==a?void 0:a.blockSelector;return A(l)&&A(u)&&A(d)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:d}}get Lt(){var e=this._instance.get_property(eM);return z(e)?e:null}get Nt(){var e=this._instance.get_property(e$);return z(e)?e:null}get status(){return this.jt?this.zt({receivedDecide:this.jt,isRecordingEnabled:this.Ct,isSampled:this.Tt,urlTriggerMatching:this.Ut,eventTriggerMatching:this.qt,linkedFlagMatching:this.Bt,sessionId:this.sessionId}):i7}constructor(e){if(this.zt=rh,this.jt=!1,this.Ht=[],this.Wt="unknown",this.Gt=Date.now(),this.Rt=new rl,this.Jt=void 0,this.Vt=void 0,this.Kt=void 0,this.Yt=void 0,this.Xt=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.Qt=()=>{this.Zt()},this.ti=()=>{this.ii("browser offline",{})},this.ei=()=>{this.ii("browser online",{})},this.ri=()=>{if(null!=g&&g.visibilityState){var e="window "+g.visibilityState;this.ii(e,{})}},this._instance=e,this.Et=!1,this.si="/s/",this.ni=void 0,this.jt=!1,!this._instance.sessionManager)throw r_.error("started without valid sessionManager"),Error(rf+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw Error(rf+" cannot be used with __preview_experimental_cookieless_mode.");this.Bt=new rd(this._instance),this.Ut=new ru(this._instance),this.qt=new rc(this._instance);var{sessionId:t,windowId:i}=this.It.checkAndGetSessionAndWindowId();this.kt=t,this.oi=i,this.M=this.ai(),this.xt>=this.It.sessionTimeoutMs&&r_.warn("session_idle_threshold_ms ("+this.xt+") is greater than the session timeout ("+this.It.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.Ct?(this.li(e),eu(l,"beforeunload",this.Qt),eu(l,"offline",this.ti),eu(l,"online",this.ei),eu(l,"visibilitychange",this.ri),this.ui(),this.hi(),j(this.Jt)&&(this.Jt=this._instance.on("eventCaptured",e=>{try{if("$pageview"===e.event){var t=null!=e&&e.properties.$current_url?this.di(null==e?void 0:e.properties.$current_url):"";if(!t)return;this.ii("$pageview",{href:t})}}catch(e){r_.error("Could not add $pageview to rrweb session",e)}})),this.Vt||(this.Vt=this.It.onSessionId((e,t,i)=>{var r,s;i&&(this.ii("$session_id_change",{sessionId:e,windowId:t,changeReason:i}),null==(r=this._instance)||null==(r=r.persistence)||r.unregister(eO),null==(s=this._instance)||null==(s=s.persistence)||s.unregister(eY))}))):this.stopRecording()}stopRecording(){var e,t,i,r;this.Et&&this.ni&&(this.ni(),this.ni=void 0,this.Et=!1,null==l||l.removeEventListener("beforeunload",this.Qt),null==l||l.removeEventListener("offline",this.ti),null==l||l.removeEventListener("online",this.ei),null==l||l.removeEventListener("visibilitychange",this.ri),this.ai(),clearInterval(this.vi),null==(e=this.Jt)||e.call(this),this.Jt=void 0,null==(t=this.Xt)||t.call(this),this.Xt=void 0,null==(i=this.Vt)||i.call(this),this.Vt=void 0,null==(r=this.Yt)||r.call(this),this.Yt=void 0,this.qt.stop(),this.Ut.stop(),this.Bt.stop(),r_.info("stopped"))}ci(){var e;null==(e=this._instance.persistence)||e.unregister(eT)}fi(e){var t,i=this.kt!==e,r=this.Lt;if(z(r)){var s=this.Tt,n=i||!q(s),a=n?function(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i)|0;return Math.abs(t)}(e)%100<iw(100*r,0,100):s;n&&(a?this.pi(i4):r_.warn("Sample rate ("+r+") has determined that this sessionId ("+e+") will not be sent to the server."),this.ii("samplingDecisionMade",{sampleRate:r,isSampled:a})),null==(t=this._instance.persistence)||t.register({[eT]:a})}else this.ci()}onRemoteConfig(e){var t,i,r,s;this.ii("$remote_config_received",e),this.gi(e),null!=(t=e.sessionRecording)&&t.endpoint&&(this.si=null==(s=e.sessionRecording)?void 0:s.endpoint),this.ui(),"any"===(null==(i=e.sessionRecording)?void 0:i.triggerMatchType)?(this.zt=rp,this.Rt=new ra([this.qt,this.Ut])):(this.zt=rg,this.Rt=new ro([this.qt,this.Ut])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(r=e.sessionRecording)?void 0:r.triggerMatchType}),this.Ut.onRemoteConfig(e),this.qt.onRemoteConfig(e),this.Bt.onRemoteConfig(e,(e,t)=>{this.pi("linked_flag_matched",{flag:e,variant:t})}),this.jt=!0,this.startIfEnabledOrStop()}ui(){z(this.Lt)&&j(this.Yt)&&(this.Yt=this.It.onSessionId(e=>{this.fi(e)}))}gi(e){if(this._instance.persistence){var t,i=this._instance.persistence,r=()=>{var t,r,s,n,a,o,l,u,d,c=null==(t=e.sessionRecording)?void 0:t.sampleRate,h=j(c)?null:parseFloat(c);j(h)&&this.ci();var p=null==(r=e.sessionRecording)?void 0:r.minimumDurationMilliseconds;i.register({[eb]:!!e.sessionRecording,[ek]:null==(s=e.sessionRecording)?void 0:s.consoleLogRecordingEnabled,[ew]:K({capturePerformance:e.capturePerformance},null==(n=e.sessionRecording)?void 0:n.networkPayloadCapture),[ex]:null==(a=e.sessionRecording)?void 0:a.masking,[eS]:{enabled:null==(o=e.sessionRecording)?void 0:o.recordCanvas,fps:null==(l=e.sessionRecording)?void 0:l.canvasFps,quality:null==(u=e.sessionRecording)?void 0:u.canvasQuality},[eM]:h,[e$]:A(p)?null:p,[eL]:null==(d=e.sessionRecording)?void 0:d.scriptConfig})};r(),null==(t=this.Kt)||t.call(this),this.Kt=this.It.onSessionId(r)}}log(e,t){var i;void 0===t&&(t="log"),null==(i=this._instance.sessionRecording)||i.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}li(e){if(!A(Object.assign)&&!A(Array.from)&&!(this.Et||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var t;(this.Et=!0,this.It.checkAndGetSessionAndWindowId(),rm())?this.mi():null==(t=b.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this._instance,this.bi,e=>{if(e)return r_.error("could not load recorder",e);this.mi()}),r_.info("starting"),this.status===i9&&this.pi(e||"recording_initialized")}}get bi(){var e;return(null==(e=this._instance)||null==(e=e.persistence)||null==(e=e.get_property(eL))?void 0:e.script)||"recorder"}wi(e){var t;return 3===e.type&&-1!==rv.indexOf(null==(t=e.data)?void 0:t.source)}yi(e){var t=this.wi(e);t||this.Wt||e.timestamp-this.Gt>this.xt&&(this.Wt=!0,clearInterval(this.vi),this.ii("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.Gt,threshold:this.xt,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.Zt());var i=!1;if(t&&(this.Gt=e.timestamp,this.Wt)){var r="unknown"===this.Wt;this.Wt=!1,r||(this.ii("sessionNoLongerIdle",{reason:"user activity",type:e.type}),i=!0)}if(!this.Wt){var{windowId:s,sessionId:n}=this.It.checkAndGetSessionAndWindowId(!t,e.timestamp),a=this.kt!==n,o=this.oi!==s;this.oi=s,this.kt=n,a||o?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):i&&this.Si()}}$i(e){try{return e.rrwebMethod(),!0}catch(t){return this.Ht.length<10?this.Ht.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):r_.warn("could not emit queued rrweb event.",t,e),!1}}ii(e,t){return this.$i(ry(()=>rm().addCustomEvent(e,t)))}ki(){return this.$i(ry(()=>rm().takeFullSnapshot()))}mi(){var e,t,i,r,s={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[n,a]of Object.entries(this._instance.config.session_recording||{}))n in s&&("maskInputOptions"===n?s.maskInputOptions=K({password:!0},a):s[n]=a);this.Ft&&this.Ft.enabled&&(s.recordCanvas=!0,s.sampling={canvas:this.Ft.fps},s.dataURLOptions={type:"image/webp",quality:this.Ft.quality}),this.Dt&&(s.maskAllInputs=null==(t=this.Dt.maskAllInputs)||t,s.maskTextSelector=null!=(i=this.Dt.maskTextSelector)?i:void 0,s.blockSelector=null!=(r=this.Dt.blockSelector)?r:void 0);var o=rm();if(o){this.xi=null!=(e=this.xi)?e:new ix(o,{refillRate:this._instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this._instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{var i="Too many mutations on node '"+e+"'. Rate limiting. This could be due to SVG animations or something similar";r_.info(i,{node:t}),this.log(rf+" "+i,"warn")}});var l=this.Ei();this.ni=o(K({emit:e=>{this.onRRwebEmit(e)},plugins:l},s)),this.Gt=Date.now(),this.Wt=q(this.Wt)?this.Wt:"unknown",this.ii("$session_options",{sessionRecordingOptions:s,activePlugins:l.map(e=>null==e?void 0:e.name)}),this.ii("$posthog_config",{config:this._instance.config})}else r_.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Si(){if(this.vi&&clearInterval(this.vi),!0!==this.Wt){var e=this.Pt;e&&(this.vi=setInterval(()=>{this.ki()},e))}}Ei(){var e,t,i,r,s,n,a,o,l,u,d,c,h,p=[],g=null==(c=b.__PosthogExtensions__)||null==(c=c.rrwebPlugins)?void 0:c.getRecordConsolePlugin;g&&this.Ot&&p.push(g());var f=null==(h=b.__PosthogExtensions__)||null==(h=h.rrwebPlugins)?void 0:h.getRecordNetworkPlugin;return this.At&&C(f)&&(!tc.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?p.push(f((e=this._instance.config,t=this.At,s={payloadSizeLimitBytes:i_.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...i_.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...i_.payloadHostDenyList]},n=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,o=!1!==e.capture_performance&&t.recordPerformance,r=Math.min(1e6,null!=(i=s.payloadSizeLimitBytes)?i:1e6),l=e=>(null!=e&&e.requestBody&&(e.requestBody=ib(e.requestBody,e.requestHeaders,r,"Request")),null!=e&&e.responseBody&&(e.responseBody=ib(e.responseBody,e.responseHeaders,r,"Response")),e),u=t=>{var i;return l(((e,t)=>{var i,r=th(e.name),s=0===t.indexOf("http")?null==(i=th(t))?void 0:i.pathname:t;"/"===s&&(s="");var n=null==r?void 0:r.pathname.replace(s||"","");if(!(r&&n&&iy.some(e=>0===n.indexOf(e))))return e})((j(i=t.requestHeaders)||ee(Object.keys(null!=i?i:{}),e=>{im.includes(e.toLowerCase())&&(i[e]=ig)}),t),e.api_host))},(d=C(e.session_recording.maskNetworkRequestFn))&&C(e.session_recording.maskCapturedNetworkRequestFn)&&V.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var i=e.session_recording.maskNetworkRequestFn({url:t.name});return K({},t,{name:null==i?void 0:i.url})}),s.maskRequestFn=C(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var i,r=u(t);return r&&null!=(i=null==e.session_recording.maskCapturedNetworkRequestFn?void 0:e.session_recording.maskCapturedNetworkRequestFn(r))?i:void 0}:e=>(function(e){if(!A(e))return e.requestBody=ik(e.requestBody,"Request"),e.responseBody=ik(e.responseBody,"Response"),e})(u(e)),K({},i_,s,{recordHeaders:n,recordBody:a,recordPerformance:o,recordInitialRequests:o})))):r_.info("NetworkCapture not started because we are on localhost.")),p}onRRwebEmit(e){var t;if(this.Ii(),e&&F(e)){if(e.type===ic.Meta){var i=this.di(e.data.href);if(this.Pi=i,!i)return;e.data.href=i}else this.Ri();if(this.Ut.checkUrlTriggerConditions(()=>this.Ti(),()=>this.Mi(),e=>this.Ci(e)),!this.Ut.urlBlocked||e.type===ic.Custom&&"recording paused"===e.data.tag){e.type===ic.FullSnapshot&&this.Si(),e.type===ic.FullSnapshot&&this.jt&&this.Rt.triggerStatus(this.sessionId)===rr&&this.ai();var r=this.xi?this.xi.throttleMutations(e):e;if(r){var s=function(e){if(e&&F(e)&&6===e.type&&F(e.data)&&"rrweb/console@1"===e.data.plugin){e.data.payload.payload.length>10&&(e.data.payload.payload=e.data.payload.payload.slice(0,10),e.data.payload.payload.push("...[truncated]"));for(var t=[],i=0;i<e.data.payload.payload.length;i++)e.data.payload.payload[i]&&e.data.payload.payload[i].length>2e3?t.push(e.data.payload.payload[i].slice(0,2e3)+"...[truncated]"):t.push(e.data.payload.payload[i]);return e.data.payload.payload=t,e}return e}(r);if(this.yi(s),!0!==this.Wt||rk(s)){if(rk(s)){var n=s.data.payload;n&&(s.timestamp=n.lastActivityTimestamp+n.threshold)}var a=null==(t=this._instance.config.session_recording.compress_events)||t?function(e){if(1024>id(e))return e;try{if(e.type===ic.FullSnapshot)return K({},e,{data:rb(e.data),cv:"2024-10"});if(e.type===ic.IncrementalSnapshot&&e.data.source===ih.Mutation)return K({},e,{cv:"2024-10",data:K({},e.data,{texts:rb(e.data.texts),attributes:rb(e.data.attributes),removes:rb(e.data.removes),adds:rb(e.data.adds)})});if(e.type===ic.IncrementalSnapshot&&e.data.source===ih.StyleSheetRule)return K({},e,{cv:"2024-10",data:K({},e.data,{adds:e.data.adds?rb(e.data.adds):void 0,removes:e.data.removes?rb(e.data.removes):void 0})})}catch(e){r_.error("could not compress event - will use uncompressed event",e)}return e}(s):s,o={$snapshot_bytes:id(a),$snapshot_data:a,$session_id:this.kt,$window_id:this.oi};this.status!==i8?this.Oi(o):this.ai()}}}}}Ri(){if(!this._instance.config.capture_pageview&&l){var e=this.di(l.location.href);this.Pi!==e&&(this.ii("$url_changed",{href:e}),this.Pi=e)}}Ii(){if(this.Ht.length){var e=[...this.Ht];this.Ht=[],e.forEach(e=>{Date.now()-e.enqueuedAt<=2e3&&this.$i(e)})}}di(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var i,r={url:e};return null==(i=r=t.maskNetworkRequestFn(r))?void 0:i.url}return e}ai(){return this.M={size:0,data:[],sessionId:this.kt,windowId:this.oi},this.M}Zt(){this.Fi&&(clearTimeout(this.Fi),this.Fi=void 0);var e=this.Nt,t=this.Mt,i=z(t)&&t>=0,r=z(e)&&i&&t<e;return this.status===i7||this.status===re||this.status===i8||r?(this.Fi=setTimeout(()=>{this.Zt()},2e3),this.M):(this.M.data.length>0&&(function e(t,i){if(void 0===i&&(i=6606028.8),t.size>=i&&t.data.length>1){var r=Math.floor(t.data.length/2),s=t.data.slice(0,r),n=t.data.slice(r);return[e({size:id(s),data:s,sessionId:t.sessionId,windowId:t.windowId}),e({size:id(n),data:n,sessionId:t.sessionId,windowId:t.windowId})].flatMap(e=>e)}return[t]})(this.M).forEach(e=>{this.Ai({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:"web",$lib_version:k.LIB_VERSION})}),this.ai())}Oi(e){var t,i=2+((null==(t=this.M)?void 0:t.data.length)||0);!this.Wt&&(this.M.size+e.$snapshot_bytes+i>943718.4||this.M.sessionId!==this.kt)&&(this.M=this.Zt()),this.M.size+=e.$snapshot_bytes,this.M.data.push(e.$snapshot_data),this.Fi||this.Wt||(this.Fi=setTimeout(()=>{this.Zt()},2e3))}Ai(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.si),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ci(e){var t;this.Rt.triggerStatus(this.sessionId)===rr&&(null==(t=this._instance)||null==(t=t.persistence)||t.register({["url"===e?eY:eO]:this.kt}),this.Zt(),this.pi(e+"_trigger_matched"))}Ti(){this.Ut.urlBlocked||(this.Ut.urlBlocked=!0,clearInterval(this.vi),r_.info("recording paused due to URL blocker"),this.ii("recording paused",{reason:"url blocker"}))}Mi(){this.Ut.urlBlocked&&(this.Ut.urlBlocked=!1,this.ki(),this.Si(),this.ii("recording resumed",{reason:"left blocked url"}),r_.info("recording resumed"))}hi(){0!==this.qt.St.length&&j(this.Xt)&&(this.Xt=this._instance.on("eventCaptured",e=>{try{this.qt.St.includes(e.event)&&this.Ci("event")}catch(e){r_.error("Could not activate event trigger",e)}}))}overrideLinkedFlag(){this.Bt.linkedFlagSeen=!0,this.ki(),this.pi("linked_flag_overridden")}overrideSampling(){var e;null==(e=this._instance.persistence)||e.register({[eT]:!0}),this.ki(),this.pi("sampling_overridden")}overrideTrigger(e){this.Ci(e)}pi(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),r_.info(e.replace("_"," "),t),$(["recording_initialized","session_id_changed"],e)||this.ii(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.It.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Mt,$sdk_debug_session_start:e}}}var rx=W("[SegmentIntegration]"),rS="posthog-js";function rM(e,t){var{organization:i,projectId:r,prefix:s,severityAllowList:n=["error"]}=void 0===t?{}:t;return t=>{if(!("*"===n||n.includes(t.level))||!e.__loaded)return t;t.tags||(t.tags={});var a,o,l,u,d,c=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());t.tags["PostHog Person URL"]=c,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var h=(null==(a=t.exception)?void 0:a.values)||[],p=h.map(e=>K({},e,{stacktrace:e.stacktrace?K({},e.stacktrace,{type:"raw",frames:(e.stacktrace.frames||[]).map(e=>K({},e,{platform:"web:javascript"}))}):void 0})),g={$exception_message:(null==(o=h[0])?void 0:o.value)||t.message,$exception_type:null==(l=h[0])?void 0:l.type,$exception_personURL:c,$exception_level:t.level,$exception_list:p,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null==(u=h[0])?void 0:u.value)||t.message,$sentry_exception_type:null==(d=h[0])?void 0:d.type,$sentry_tags:t.tags};return i&&r&&(g.$sentry_url=(s||"https://sentry.io/organizations/")+i+"/issues/?project="+r+"&query="+t.event_id),e.exceptions.sendExceptionEvent(g),t}}class r${constructor(e,t,i,r,s){this.name=rS,this.setupOnce=function(n){n(rM(e,{organization:t,projectId:i,prefix:r,severityAllowList:s}))}}}var rL=null!=l&&l.location?t_(l.location.hash,"__posthog")||t_(location.hash,"state"):null,rE="_postHogToolbarParams",rT=W("[Toolbar]"),rY=((nC=rY||{})[nC.UNINITIALIZED=0]="UNINITIALIZED",nC[nC.LOADING=1]="LOADING",nC[nC.LOADED=2]="LOADED",nC);class rO{constructor(e){this.instance=e}Di(e){b.ph_toolbar_state=e}Li(){var e;return null!=(e=b.ph_toolbar_state)?e:rY.UNINITIALIZED}maybeLoadToolbar(e,t,i){if(void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===i&&(i=void 0),!l||!g)return!1;e=null!=e?e:l.location,i=null!=i?i:l.history;try{if(!t){try{l.localStorage.setItem("test","test"),l.localStorage.removeItem("test")}catch(e){return!1}t=null==l?void 0:l.localStorage}var r,s=rL||t_(e.hash,"__posthog")||t_(e.hash,"state"),n=s?es(()=>JSON.parse(atob(decodeURIComponent(s))))||es(()=>JSON.parse(decodeURIComponent(s))):null;return n&&"ph_authorize"===n.action?((r=n).source="url",r&&Object.keys(r).length>0&&(n.desiredHash?e.hash=n.desiredHash:i?i.replaceState(i.state,"",e.pathname+e.search):e.hash="")):((r=JSON.parse(t.getItem(rE)||"{}")).source="localstorage",delete r.userIntent),!(!r.token||this.instance.config.token!==r.token)&&(this.loadToolbar(r),!0)}catch(e){return!1}}Ni(e){var t=b.ph_load_toolbar||b.ph_load_editor;!j(t)&&C(t)?t(e,this.instance):rT.warn("No toolbar load function found")}loadToolbar(e){var t,i=!(null==g||!g.getElementById(eW));if(!l||i)return!1;var r="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=K({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});return(l.localStorage.setItem(rE,JSON.stringify(K({},s,{source:void 0}))),this.Li()===rY.LOADED)?this.Ni(s):this.Li()===rY.UNINITIALIZED&&(this.Di(rY.LOADING),null==(t=b.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this.instance,"toolbar",e=>{e?(rT.error("[Toolbar] Failed to load",e),this.Di(rY.UNINITIALIZED)):(this.Di(rY.LOADED),this.Ni(s))}),eu(l,"turbolinks:load",()=>{this.Di(rY.UNINITIALIZED),this.loadToolbar(s)})),!0}ji(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,i){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===i&&(i=void 0),this.maybeLoadToolbar(e,t,i)}}var rD=W("[TracingHeaders]");class rI{constructor(e){this.zi=void 0,this.Ui=void 0,this.V=()=>{var e,t;A(this.zi)&&(null==(e=b.__PosthogExtensions__)||null==(e=e.tracingHeadersPatchFns)||e._patchXHR(this._instance.sessionManager)),A(this.Ui)&&(null==(t=b.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchFetch(this._instance.sessionManager))},this._instance=e}G(e){var t,i;null!=(t=b.__PosthogExtensions__)&&t.tracingHeadersPatchFns&&e(),null==(i=b.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"tracing-headers",t=>{if(t)return rD.error("failed to load script",t);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.G(this.V):(null==(e=this.zi)||e.call(this),null==(t=this.Ui)||t.call(this),this.zi=void 0,this.Ui=void 0)}}var rC=W("[Web Vitals]");class rF{constructor(e){var t;this.qi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Bi=()=>{clearTimeout(this.Hi),0!==this.M.metrics.length&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((e,t)=>K({},e,{["$web_vitals_"+t.name+"_event"]:K({},t),["$web_vitals_"+t.name+"_value"]:t.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Wi=e=>{var t,i=null==(t=this._instance.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0);if(A(i))rC.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.Gi();A(r)||(j(null==e?void 0:e.name)||j(null==e?void 0:e.value)?rC.error("Invalid metric received",e):this.Ji&&e.value>=this.Ji?rC.error("Ignoring metric with value >= "+this.Ji,e):(this.M.url!==r&&(this.Bi(),this.Hi=setTimeout(this.Bi,this.flushToCaptureTimeoutMs)),A(this.M.url)&&(this.M.url=r),this.M.firstMetricTimestamp=A(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.M.metrics.push(K({},e,{$current_url:r,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Bi()))}},this.V=()=>{var e,t,i,r,s=b.__PosthogExtensions__;A(s)||A(s.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:r}=s.postHogWebVitalsCallbacks),e&&t&&i&&r?(this.allowedMetrics.indexOf("LCP")>-1&&e(this.Wi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this.Wi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&i(this.Wi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&r(this.Wi.bind(this)),this.i=!0):rC.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.qi=!(null==(t=this._instance.persistence)||!t.props[em]),this.startIfEnabled()}get allowedMetrics(){var e,t,i=F(this._instance.config.capture_performance)?null==(e=this._instance.config.capture_performance)?void 0:e.web_vitals_allowed_metrics:void 0;return A(i)?(null==(t=this._instance.persistence)?void 0:t.props[ey])||["CLS","FCP","INP","LCP"]:i}get flushToCaptureTimeoutMs(){return(F(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ji(){var e=F(this._instance.config.capture_performance)&&z(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<e&&e<=6e4?9e5:e}get isEnabled(){var e=null==f?void 0:f.protocol;if("http:"!==e&&"https:"!==e)return rC.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=F(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:q(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return q(t)?t:this.qi}startIfEnabled(){this.isEnabled&&!this.i&&(rC.info("enabled, starting..."),this.G(this.V))}onRemoteConfig(e){var t=F(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=F(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[em]:t}),this._instance.persistence.register({[ey]:i})),this.qi=t,this.startIfEnabled()}G(e){var t,i;null!=(t=b.__PosthogExtensions__)&&t.postHogWebVitalsCallbacks&&e(),null==(i=b.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"web-vitals",t=>{t?rC.error("failed to load script",t):e()})}Gi(){var e=l?l.location.href:void 0;return e||rC.error("Could not determine current URL"),e}}var rR=W("[Heatmaps]");function rA(e){return F(e)&&"clientX"in e&&"clientY"in e&&z(e.clientX)&&z(e.clientY)}class rP{constructor(e){var t;this.rageclicks=new td,this.qi=!1,this.i=!1,this.Vi=null,this.instance=e,this.qi=!(null==(t=this.instance.persistence)||!t.props[eg])}get flushIntervalMilliseconds(){var e=5e3;return F(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return A(this.instance.config.capture_heatmaps)?A(this.instance.config.enable_heatmaps)?this.qi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.i||(rR.info("starting..."),this.Ki(),this.Vi=setInterval(this.Yi.bind(this),this.flushIntervalMilliseconds));else{var e,t;clearInterval(null!=(e=this.Vi)?e:void 0),null==(t=this.Xi)||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[eg]:t}),this.qi=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.M;return this.M=void 0,e}Qi(e){this.Zi(e.originalEvent,"deadclick")}Ki(){l&&g&&(eu(l,"beforeunload",this.Yi.bind(this)),eu(g,"click",e=>this.Zi(e||(null==l?void 0:l.event)),{capture:!0}),eu(g,"mousemove",e=>this.te(e||(null==l?void 0:l.event)),{capture:!0}),this.Xi=new tB(this.instance,tq,this.Qi.bind(this)),this.Xi.startIfEnabled(),this.i=!0)}ie(e,t){var i=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),n=function(e,t,i){for(var r=e;r&&eX(r)&&!eZ(r,"body")&&r!==i;){if($(t,null==l?void 0:l.getComputedStyle(r).position))return!0;r=e9(r)}return!1}(e8(e),["fixed","sticky"],s);return{x:e.clientX+(n?0:r),y:e.clientY+(n?0:i),target_fixed:n,type:t}}Zi(e,t){var i;if(void 0===t&&(t="click"),!eK(e.target)&&rA(e)){var r=this.ie(e,t);null!=(i=this.rageclicks)&&i.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.ee(K({},r,{type:"rageclick"})),this.ee(r)}}te(e){!eK(e.target)&&rA(e)&&(clearTimeout(this.re),this.re=setTimeout(()=>{this.ee(this.ie(e,"mousemove"))},500))}ee(e){if(l){var t=l.location.href;this.M=this.M||{},this.M[t]||(this.M[t]=[]),this.M[t].push(e)}}Yi(){this.M&&!R(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class rH{constructor(e){this._instance=e}doPageView(e,t){var i,r=this.se(e,t);return this.ne={pathname:null!=(i=null==l?void 0:l.location.pathname)?i:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),r}doPageLeave(e){var t;return this.se(e,null==(t=this.ne)?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null==(e=this.ne)?void 0:e.pageViewId}}se(e,t){var i=this.ne;if(!i)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:i.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:a,maxScrollY:o,maxContentHeight:l,lastContentY:u,maxContentY:d}=s;if(!(A(n)||A(a)||A(o)||A(l)||A(u)||A(d))){n=Math.ceil(n),a=Math.ceil(a),o=Math.ceil(o),l=Math.ceil(l),u=Math.ceil(u),d=Math.ceil(d);var c=n<=1?1:iw(a/n,0,1),h=n<=1?1:iw(o/n,0,1),p=l<=1?1:iw(u/l,0,1),g=l<=1?1:iw(d/l,0,1);r=et(r,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:c,$prev_pageview_max_scroll:o,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:p,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:g})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}var rN=function(e){var t,i,r,s,n="";for(t=i=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,s=0;s<r;s++){var a=e.charCodeAt(s),o=null;a<128?i++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),N(o)||(i>t&&(n+=e.substring(t,i)),n+=o,t=i=s+1)}return i>t&&(n+=e.substring(t,e.length)),n},rj=!!m||!!_,rz="text/plain",rq=(e,t)=>{var[i,r]=e.split("?"),s=K({},t);null==r||r.split("&").forEach(e=>{var[t]=e.split("=");delete s[t]});var n=tp(s);return i+"?"+(n=n?(r?r+"&":"")+n:r)},rU=(e,t)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,t),rB=e=>{var{data:t,compression:i}=e;if(t){if(i===S.GZipJS){var r=new Blob([i3(i6(rU(t)),{mtime:0})],{type:rz});return{contentType:rz,body:r,estimatedSize:r.size}}if(i===S.Base64){let e;var s="data="+encodeURIComponent("string"==typeof(e=function(e){var t,i,r,s,n,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,l=0,u="",d=[];if(!e)return e;e=rN(e);do t=(n=e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<8|e.charCodeAt(o++))>>18&63,i=n>>12&63,r=n>>6&63,s=63&n,d[l++]=a.charAt(t)+a.charAt(i)+a.charAt(r)+a.charAt(s);while(o<e.length)switch(u=d.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}(rU(t)))?e:rU(e));return{contentType:"application/x-www-form-urlencoded",body:s,estimatedSize:new Blob([s]).size}}var n=rU(t);return{contentType:"application/json",body:n,estimatedSize:new Blob([n]).size}}},rV=[];_&&rV.push({transport:"fetch",method:e=>{var t,i,{contentType:r,body:s,estimatedSize:n}=null!=(t=rB(e))?t:{},a=new Headers;ee(e.headers,function(e,t){a.append(t,e)}),r&&a.append("Content-Type",r);var o=e.url,l=null;if(v){var u=new v;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}_(o,K({method:(null==e?void 0:e.method)||"GET",headers:a,keepalive:"POST"===e.method&&52428.8>(n||0),body:s,signal:null==(i=l)?void 0:i.signal},e.fetchOptions)).then(t=>t.text().then(i=>{var r={statusCode:t.status,text:i};if(200===t.status)try{r.json=JSON.parse(i)}catch(e){V.error(e)}null==e.callback||e.callback(r)})).catch(t=>{V.error(t),null==e.callback||e.callback({statusCode:0,text:t})}).finally(()=>l?clearTimeout(l.timeout):null)}}),m&&rV.push({transport:"XHR",method:e=>{var t,i=new m;i.open(e.method||"GET",e.url,!0);var{contentType:r,body:s}=null!=(t=rB(e))?t:{};ee(e.headers,function(e,t){i.setRequestHeader(t,e)}),r&&i.setRequestHeader("Content-Type",r),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(4===i.readyState){var t={statusCode:i.status,text:i.responseText};if(200===i.status)try{t.json=JSON.parse(i.responseText)}catch(e){}null==e.callback||e.callback(t)}},i.send(s)}}),null!=p&&p.sendBeacon&&rV.push({transport:"sendBeacon",method:e=>{var t=rq(e.url,{beacon:"1"});try{var i,{contentType:r,body:s}=null!=(i=rB(e))?i:{},n="string"==typeof s?new Blob([s],{type:r}):s;p.sendBeacon(t,n)}catch(e){}}});var rW=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};function rG(e,t,i){return rU({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:i})}var rJ={exact:(e,t)=>t.some(t=>e.some(e=>t===e)),is_not:(e,t)=>t.every(t=>e.every(e=>t!==e)),regex:(e,t)=>t.some(t=>e.some(e=>rW(t,e))),not_regex:(e,t)=>t.every(t=>e.every(e=>!rW(t,e))),icontains:(e,t)=>t.map(rK).some(t=>e.map(rK).some(e=>t.includes(e))),not_icontains:(e,t)=>t.map(rK).every(t=>e.map(rK).every(e=>!t.includes(e)))},rK=e=>e.toLowerCase(),rX=W("[Error tracking]");class rZ{constructor(e){var t,i;this.oe=[],this._instance=e,this.oe=null!=(t=null==(i=this._instance.persistence)?void 0:i.get_property(e_))?t:[]}onRemoteConfig(e){var t,i,r=null!=(t=null==(i=e.errorTracking)?void 0:i.suppressionRules)?t:[];this.oe=r,this._instance.persistence&&this._instance.persistence.register({[e_]:this.oe})}sendExceptionEvent(e){this.ae(e)?rX.info("Skipping exception capture because a suppression rule matched"):this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}ae(e){var t=e.$exception_list;if(!t||!I(t)||0===t.length)return!1;var i=t.reduce((e,t)=>{var{type:i,value:r}=t;return P(i)&&i.length>0&&e.$exception_types.push(i),P(r)&&r.length>0&&e.$exception_messages.push(r),e},{$exception_types:[],$exception_messages:[]});return this.oe.some(e=>{var t=e.values.map(e=>{var t=rJ[e.operator],r=I(e.value)?e.value:[e.value],s=i[e.key];return r.length>0&&t(r,s)});return"OR"===e.type?t.some(Boolean):t.every(Boolean)})}}var rQ="Mobile",r0="Android",r1="Tablet",r2=r0+" "+r1,r5="iPad",r3="Apple",r6=r3+" Watch",r8="Safari",r4="BlackBerry",r9="Samsung",r7=r9+"Browser",se=r9+" Internet",st="Chrome",si=st+" OS",sr=st+" iOS",ss="Internet Explorer",sn=ss+" "+rQ,sa="Opera",so=sa+" Mini",sl="Edge",su="Microsoft "+sl,sd="Firefox",sc=sd+" iOS",sh="Nintendo",sp="PlayStation",sg="Xbox",sf=r0+" "+rQ,s_=rQ+" "+r8,sm="Windows",sv=sm+" Phone",sy="Nokia",sb="Ouya",sk="Generic",sw=sk+" "+rQ.toLowerCase(),sx=sk+" "+r1.toLowerCase(),sS="Konqueror",sM="(\\d+(\\.\\d+)?)",s$=RegExp("Version/"+sM),sL=RegExp(sg,"i"),sE=RegExp(sp+" \\w+","i"),sT=RegExp(sh+" \\w+","i"),sY=RegExp(r4+"|PlayBook|BB10","i"),sO={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},sD=function(e,t){var i;return t=t||"",$(e," OPR/")&&$(e,"Mini")?so:$(e," OPR/")?sa:sY.test(e)?r4:$(e,"IE"+rQ)||$(e,"WPDesktop")?sn:$(e,r7)?se:$(e,sl)||$(e,"Edg/")?su:$(e,"FBIOS")?"Facebook "+rQ:$(e,"UCWEB")||$(e,"UCBrowser")?"UC Browser":$(e,"CriOS")?sr:$(e,"CrMo")||$(e,st)?st:$(e,r0)&&$(e,r8)?sf:$(e,"FxiOS")?sc:$(e.toLowerCase(),sS.toLowerCase())?sS:(i=t)&&$(i,r3)||$(e,r8)&&!$(e,st)&&!$(e,r0)?$(e,rQ)?s_:r8:$(e,sd)?sd:$(e,"MSIE")||$(e,"Trident/")?ss:$(e,"Gecko")?sd:""},sI={[sn]:[RegExp("rv:"+sM)],[su]:[RegExp(sl+"?\\/"+sM)],[st]:[RegExp("("+st+"|CrMo)\\/"+sM)],[sr]:[RegExp("CriOS\\/"+sM)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+sM)],[r8]:[s$],[s_]:[s$],[sa]:[RegExp("(Opera|OPR)\\/"+sM)],[sd]:[RegExp(sd+"\\/"+sM)],[sc]:[RegExp("FxiOS\\/"+sM)],[sS]:[RegExp("Konqueror[:/]?"+sM,"i")],[r4]:[RegExp(r4+" "+sM),s$],[sf]:[RegExp("android\\s"+sM,"i")],[se]:[RegExp(r7+"\\/"+sM)],[ss]:[RegExp("(rv:|MSIE )"+sM)],Mozilla:[RegExp("rv:"+sM)]},sC=function(e,t){var i=sI[sD(e,t)];if(A(i))return null;for(var r=0;r<i.length;r++){var s=i[r],n=e.match(s);if(n)return parseFloat(n[n.length-2])}return null},sF=[[RegExp(sg+"; "+sg+" (.*?)[);]","i"),e=>[sg,e&&e[1]||""]],[RegExp(sh,"i"),[sh,""]],[RegExp(sp,"i"),[sp,""]],[sY,[r4,""]],[RegExp(sm,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[sv,""];if(new RegExp(rQ).test(t)&&!/IEMobile\b/.test(t))return[sm+" "+rQ,""];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var r=sO[i[1]]||"";return/arm/i.test(t)&&(r="RT"),[sm,r]}return[sm,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=A(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+r0+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+r0+")","i"),e=>e&&e[2]?[r0,[e[2],e[3],e[4]||"0"].join(".")]:[r0,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var i=[e[1],e[2],e[3]||"0"];t[1]=i.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[si,""]],[/Linux|debian/i,["Linux",""]]],sR=function(e){return sT.test(e)?sh:sE.test(e)?sp:sL.test(e)?sg:RegExp(sb,"i").test(e)?sb:RegExp("("+sv+"|WPDesktop)","i").test(e)?sv:/iPad/.test(e)?r5:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?r6:sY.test(e)?r4:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":RegExp(sy,"i").test(e)?sy:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(rQ).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?r0:r2:r0:RegExp("(pda|"+rQ+")","i").test(e)?sw:RegExp(r1,"i").test(e)&&!RegExp(r1+" pc","i").test(e)?sx:""},sA="https?://(.*)",sP=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],sH=ei(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],sP),sN="<masked>";function sj(e,t,i){if(!g)return{};var r=t?ei([],sP,i||[]):[];return sz(tf(g.URL,r,sN),e)}function sz(e,t){var i=sH.concat(t||[]),r={};return ee(i,function(t){var i=tg(e,t);r[t]=i||null}),r}function sq(e){var t=e?0===e.search(sA+"google.([^/?]*)")?"google":0===e.search(sA+"bing.com")?"bing":0===e.search(sA+"yahoo.com")?"yahoo":0===e.search(sA+"duckduckgo.com")?"duckduckgo":null:null,i={};if(!N(t)){i.$search_engine=t;var r=g?tg(g.referrer,"yahoo"!=t?"q":"p"):"";r.length&&(i.ph_keyword=r)}return i}function sU(){return navigator.language||navigator.userLanguage}function sB(){return(null==g?void 0:g.referrer)||"$direct"}function sV(e,t){var i=e?ei([],sP,t||[]):[],r=null==f?void 0:f.href.substring(0,1e3);return{r:sB().substring(0,1e3),u:r?tf(r,i,sN):void 0}}function sW(e){var t,{r:i,u:r}=e,s={$referrer:i,$referring_domain:null==i?void 0:"$direct"==i?"$direct":null==(t=th(i))?void 0:t.host};if(r){s.$current_url=r;var n=th(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname,et(s,sz(r))}return i&&et(s,sq(i)),s}function sG(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}var sJ=W("[FeatureFlags]"),sK="$active_feature_flags",sX="$override_feature_flags",sZ="$feature_flag_payloads",sQ="$override_feature_flag_payloads",s0="$feature_flag_request_id",s1=e=>{var t={};for(var[i,r]of er(e||{}))r&&(t[i]=r);return t},s2=((nF={}).FeatureFlags="feature_flags",nF.Recordings="recordings",nF);class s5{constructor(e){this.le=!1,this.ue=!1,this.he=!1,this.de=!1,this.ve=!1,this.ce=!1,this.fe=!1,this._instance=e,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.ce=!0;else{var e=!this.pe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ge({disableFlags:e})}}get hasLoadedFlags(){return this.ue}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(eC),t=this._instance.get_property(sX),i=this._instance.get_property(sQ);if(!i&&!t)return e||{};var r=et({},e||{});for(var s of[...new Set([...Object.keys(i||{}),...Object.keys(t||{})])]){var n,a,o=r[s],l=null==t?void 0:t[s],u=A(l)?null!=(n=null==o?void 0:o.enabled)&&n:!!l,d=A(l)?o.variant:"string"==typeof l?l:void 0,c=null==i?void 0:i[s],h=K({},o,{enabled:u,variant:u?null!=d?d:null==o?void 0:o.variant:void 0});u!==(null==o?void 0:o.enabled)&&(h.original_enabled=null==o?void 0:o.enabled),d!==(null==o?void 0:o.variant)&&(h.original_variant=null==o?void 0:o.variant),c&&(h.metadata=K({},null==o?void 0:o.metadata,{payload:c,original_payload:null==o||null==(a=o.metadata)?void 0:a.payload})),r[s]=h}return this.le||(sJ.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:i,finalDetails:r}),this.le=!0),r}getFlagVariants(){var e=this._instance.get_property(eD),t=this._instance.get_property(sX);if(!t)return e||{};for(var i=et({},e),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this.le||(sJ.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this.le=!0),i}getFlagPayloads(){var e=this._instance.get_property(sZ),t=this._instance.get_property(sQ);if(!t)return e||{};for(var i=et({},e||{}),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this.le||(sJ.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:i}),this.le=!0),i}reloadFeatureFlags(){this.de||this._instance.config.advanced_disable_feature_flags||this.pe||(this.pe=setTimeout(()=>{this.ge()},5))}_e(){clearTimeout(this.pe),this.pe=void 0}ensureFlagsLoaded(){this.ue||this.he||this.pe||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.de=e}ge(e){var t;if(this._e(),!this._instance.config.advanced_disable_decide)if(this.he)this.ve=!0;else{var i={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:K({},(null==(t=this._instance.persistence)?void 0:t.get_initial_props())||{},this._instance.get_property(eF)||{}),group_properties:this._instance.get_property(eR)};(null!=e&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(i.disable_flags=!0);var r=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config;r&&(i.timezone=sG()),this.he=!0,this._instance.me({method:"POST",url:this._instance.requestRouter.endpointFor("api",r?"/flags/?v=2":"/decide/?v=4"),data:i,compression:this._instance.config.disable_compression?void 0:S.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,r,s,n=!0;200===e.statusCode&&(this.ve||(this.$anon_distinct_id=void 0),n=!1),this.he=!1,this.ce||(this.ce=!0,this._instance.be(null!=(s=e.json)?s:{})),(!i.disable_flags||this.ve)&&((this.fe=!n,e.json&&null!=(r=e.json.quotaLimited)&&r.includes(s2.FeatureFlags))?sJ.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(i.disable_flags||this.receivedFeatureFlags(null!=(t=e.json)?t:{},n),this.ve&&(this.ve=!1,this.ge())))}})}}getFeatureFlag(e,t){if(void 0===t&&(t={}),this.ue||this.getFlags()&&this.getFlags().length>0){var i=this.getFlagVariants()[e],r=""+i,s=this._instance.get_property(s0)||void 0,n=this._instance.get_property(eH)||{};if((t.send_event||!("send_event"in t))&&(!(e in n)||!n[e].includes(r))){I(n[e])?n[e].push(r):n[e]=[r],null==(l=this._instance.persistence)||l.register({[eH]:n});var a=this.getFeatureFlagDetails(e),o={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(u=this._instance.config.bootstrap)||null==(u=u.featureFlags)?void 0:u[e])||null,$feature_flag_bootstrapped_payload:(null==(d=this._instance.config.bootstrap)||null==(d=d.featureFlagPayloads)?void 0:d[e])||null,$used_bootstrap_value:!this.fe};A(null==a||null==(c=a.metadata)?void 0:c.version)||(o.$feature_flag_version=a.metadata.version);var l,u,d,c,h,p,g,f,_,m,v=null!=(h=null==a||null==(p=a.reason)?void 0:p.description)?h:null==a||null==(g=a.reason)?void 0:g.code;v&&(o.$feature_flag_reason=v),null!=a&&null!=(f=a.metadata)&&f.id&&(o.$feature_flag_id=a.metadata.id),A(null==a?void 0:a.original_variant)&&A(null==a?void 0:a.original_enabled)||(o.$feature_flag_original_response=A(a.original_variant)?a.original_enabled:a.original_variant),null!=a&&null!=(_=a.metadata)&&_.original_payload&&(o.$feature_flag_original_payload=null==a||null==(m=a.metadata)?void 0:m.original_payload),this._instance.capture("$feature_flag_called",o)}return i}sJ.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var i=this._instance.config.token;this._instance.me({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:i},compression:this._instance.config.disable_compression?void 0:S.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var r,s=null==(r=i.json)?void 0:r.featureFlagPayloads;t((null==s?void 0:s[e])||void 0)}})}isFeatureEnabled(e,t){if(void 0===t&&(t={}),this.ue||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);sJ.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.ue=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(e,t,i,r,s){void 0===i&&(i={}),void 0===r&&(r={}),void 0===s&&(s={});var n,a=((n=e.flags)?(e.featureFlags=Object.fromEntries(Object.keys(n).map(e=>{var t;return[e,null!=(t=n[e].variant)?t:n[e].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(n).filter(e=>n[e].enabled).filter(e=>{var t;return null==(t=n[e].metadata)?void 0:t.payload}).map(e=>{var t;return[e,null==(t=n[e].metadata)?void 0:t.payload]}))):sJ.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e),o=a.flags,l=a.featureFlags,u=a.featureFlagPayloads;if(l){var d=e.requestId;if(I(l)){sJ.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var c={};if(l)for(var h=0;h<l.length;h++)c[l[h]]=!0;t&&t.register({[sK]:l,[eD]:c})}else{var p=l,g=u,f=o;e.errorsWhileComputingFlags&&(p=K({},i,p),g=K({},r,g),f=K({},s,f)),t&&t.register(K({[sK]:Object.keys(s1(p)),[eD]:p||{},[sZ]:g||{},[eC]:f||{}},d?{[s0]:d}:{}))}}}(e,this._instance.persistence,i,r,s),this.we(t)}}override(e,t){void 0===t&&(t=!1),sJ.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return sJ.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===e)return this._instance.persistence.unregister(sX),this._instance.persistence.unregister(sQ),void this.we();if(e&&"object"==typeof e&&("flags"in e||"payloads"in e)){var t;if(this.le=!!(null!=(t=e.suppressWarning)&&t),"flags"in e){if(!1===e.flags)this._instance.persistence.unregister(sX);else if(e.flags)if(I(e.flags)){for(var i={},r=0;r<e.flags.length;r++)i[e.flags[r]]=!0;this._instance.persistence.register({[sX]:i})}else this._instance.persistence.register({[sX]:e.flags})}return"payloads"in e&&(!1===e.payloads?this._instance.persistence.unregister(sQ):e.payloads&&this._instance.persistence.register({[sQ]:e.payloads})),void this.we()}this.we()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.ue){var{flags:t,flagVariants:i}=this.ye();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var i,r=(this._instance.get_property(eI)||[]).find(t=>t.flagKey===e),s={["$feature_enrollment/"+e]:t},n={$feature_flag:e,$feature_enrollment:t,$set:s};r&&(n.$early_access_feature_name=r.name),this._instance.capture("$feature_enrollment_update",n),this.setPersonPropertiesForFlags(s,!1);var a=K({},this.getFlagVariants(),{[e]:t});null==(i=this._instance.persistence)||i.register({[sK]:Object.keys(s1(a)),[eD]:a}),this.we()}getEarlyAccessFeatures(e,t,i){void 0===t&&(t=!1);var r=this._instance.get_property(eI),s=i?"&"+i.map(e=>"stage="+e).join("&"):"";if(r&&!t)return e(r);this._instance.me({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+s),method:"GET",callback:t=>{var i;if(t.json){var r=t.json.earlyAccessFeatures;return null==(i=this._instance.persistence)||i.register({[eI]:r}),e(r)}}})}ye(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(e=>t[e]),flagVariants:Object.keys(t).filter(e=>t[e]).reduce((e,i)=>(e[i]=t[i],e),{})}}we(e){var{flags:t,flagVariants:i}=this.ye();this.featureFlagEventHandlers.forEach(r=>r(t,i,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0);var i=this._instance.get_property(eF)||{};this._instance.register({[eF]:K({},i,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(eF)}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0);var i=this._instance.get_property(eR)||{};0!==Object.keys(i).length&&Object.keys(i).forEach(t=>{i[t]=K({},i[t],e[t]),delete e[t]}),this._instance.register({[eR]:K({},i,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(eR)||{};this._instance.register({[eR]:K({},t,{[e]:{}})})}else this._instance.unregister(eR)}}var s3=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class s6{constructor(e){this.S=e,this.props={},this.Se=!1,this.$e=(e=>{var t="";return e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"})(e),this.q=this.ke(e),this.load(),e.debug&&V.info("Persistence loaded",e.persistence,K({},this.props)),this.update_config(e,e),this.save()}ke(e){-1===s3.indexOf(e.persistence.toLowerCase())&&(V.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&tI.O()?tI:"localstorage+cookie"===t&&tF.O()?tF:"sessionstorage"===t&&tH.O()?tH:"memory"===t?tA:"cookie"===t?tO:tF.O()?tF:tO}properties(){var e={};return ee(this.props,function(t,i){if(i===eD&&F(t))for(var r,s=Object.keys(t),n=0;n<s.length;n++)e["$feature/"+s[n]]=t[s[n]];else r=!1,(N(eJ)?r:h&&eJ.indexOf===h?-1!=eJ.indexOf(i):(ee(eJ,function(e){if(r||(r=e===i))return Z}),r))||(e[i]=t)}),e}load(){if(!this.xe){var e=this.q.D(this.$e);e&&(this.props=et({},e))}}save(){this.xe||this.q.L(this.$e,this.props,this.Ee,this.Ie,this.Pe,this.S.debug)}remove(){this.q.N(this.$e,!1),this.q.N(this.$e,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(F(e)){A(t)&&(t="None"),this.Ee=A(i)?this.Re:i;var r=!1;if(ee(e,(e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,r=!0)}),r)return this.save(),!0}return!1}register(e,t){if(F(e)){this.Ee=A(t)?this.Re:t;var i=!1;if(ee(e,(t,r)=>{e.hasOwnProperty(r)&&this.props[r]!==t&&(this.props[r]=t,i=!0)}),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Se){var e=sj(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);R(ea(e))||this.register(e),this.Se=!0}}update_search_keyword(){var e;this.register((e=null==g?void 0:g.referrer)?sq(e):{})}update_referrer_info(){var e;this.register_once({$referrer:sB(),$referring_domain:null!=g&&g.referrer&&(null==(e=th(g.referrer))?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[eq]||this.props[eU]||this.register_once({[eB]:sV(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};ee([eU,eq],t=>{var i=this.props[t];i&&ee(i,function(t,i){e["$initial_"+E(i)]=t})});var t,i,r=this.props[eB];return r&&et(e,(t=sW(r),i={},ee(t,function(e,t){i["$initial_"+E(t)]=e}),i)),e}safe_merge(e){return ee(this.props,function(t,i){i in e||(e[i]=t)}),e}update_config(e,t){if(this.Re=this.Ee=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.ke(e),r=this.props;this.clear(),this.q=i,this.props=r,this.save()}}set_disabled(e){this.xe=e,this.xe?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ie&&(this.Ie=e,this.remove(),this.save())}set_secure(e){e!==this.Pe&&(this.Pe=e,this.remove(),this.save())}set_event_timer(e,t){var i=this.props[eh]||{};i[e]=t,this.props[eh]=i,this.save()}remove_event_timer(e){var t=(this.props[eh]||{})[e];return A(t)||(delete this.props[eh][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}class s8{constructor(){this.Te={},this.Te={}}on(e,t){return this.Te[e]||(this.Te[e]=[]),this.Te[e].push(t),()=>{this.Te[e]=this.Te[e].filter(e=>e!==t)}}emit(e,t){for(var i of this.Te[e]||[])i(t);for(var r of this.Te["*"]||[])r(e,t)}}class s4{constructor(e){this.Me=new s8,this.Ce=(e,t)=>this.Oe(e,t)&&this.Fe(e,t)&&this.Ae(e,t),this.Oe=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event),this._instance=e,this.De=new Set,this.Le=new Set}init(){var e,t;A(null==(e=this._instance)?void 0:e.Ne)||null==(t=this._instance)||t.Ne((e,t)=>{this.on(e,t)})}register(e){var t,i;if(!A(null==(t=this._instance)?void 0:t.Ne)&&(e.forEach(e=>{var t,i;null==(t=this.Le)||t.add(e),null==(i=e.steps)||i.forEach(e=>{var t;null==(t=this.De)||t.add((null==e?void 0:e.event)||"")})}),null!=(i=this._instance)&&i.autocapture)){var r,s=new Set;e.forEach(e=>{var t;null==(t=e.steps)||t.forEach(e=>{null!=e&&e.selector&&s.add(null==e?void 0:e.selector)})}),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(e,t){var i;null!=t&&0!=e.length&&(this.De.has(e)||this.De.has(null==t?void 0:t.event))&&this.Le&&(null==(i=this.Le)?void 0:i.size)>0&&this.Le.forEach(e=>{this.je(t,e)&&this.Me.emit("actionCaptured",e.name)})}ze(e){this.onAction("actionCaptured",t=>e(t))}je(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var i of t.steps)if(this.Ce(e,i))return!0;return!1}onAction(e,t){return this.Me.on(e,t)}Fe(e,t){if(null!=t&&t.url){var i,r=null==e||null==(i=e.properties)?void 0:i.$current_url;if(!r||"string"!=typeof r||!s4.Ue(r,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||"contains"))return!1}return!0}static Ue(e,t,i){switch(i){case"regex":return!!l&&rW(e,t);case"exact":return t===e;case"contains":return rW(e,s4.qe(t).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static qe(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ae(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.Be(e).some(e=>!(null!=t&&t.href&&!s4.Ue(e.href||"",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||"exact"))&&(null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!s4.Ue(e.text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact")&&!s4.Ue(e.$el_text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact"))))return!1;if(null!=t&&t.selector){var i,r=null==e||null==(i=e.properties)?void 0:i.$element_selectors;if(!r||!r.includes(null==t?void 0:t.selector))return!1}return!0}Be(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}var s9=W("[Surveys]");class s7{constructor(e){this._instance=e,this.He=new Map,this.We=new Map}register(e){var t;A(null==(t=this._instance)?void 0:t.Ne)||(this.Ge(e),this.Je(e))}Je(e){var t=e.filter(e=>{var t,i;return(null==(t=e.conditions)?void 0:t.actions)&&(null==(i=e.conditions)||null==(i=i.actions)||null==(i=i.values)?void 0:i.length)>0});0!==t.length&&(null==this.Ve&&(this.Ve=new s4(this._instance),this.Ve.init(),this.Ve.ze(e=>{this.onAction(e)})),t.forEach(e=>{var t,i,r,s,n;e.conditions&&null!=(t=e.conditions)&&t.actions&&null!=(i=e.conditions)&&null!=(i=i.actions)&&i.values&&(null==(r=e.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.Ve)||s.register(e.conditions.actions.values),null==(n=e.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach(t=>{if(t&&t.name){var i=this.We.get(t.name);i&&i.push(e.id),this.We.set(t.name,i||[e.id])}}))}))}Ge(e){var t;0!==e.filter(e=>{var t,i;return(null==(t=e.conditions)?void 0:t.events)&&(null==(i=e.conditions)||null==(i=i.events)||null==(i=i.values)?void 0:i.length)>0}).length&&(null==(t=this._instance)||t.Ne((e,t)=>{this.onEvent(e,t)}),e.forEach(e=>{var t;null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||t.forEach(t=>{if(t&&t.name){var i=this.He.get(t.name);i&&i.push(e.id),this.He.set(t.name,i||[e.id])}})}))}onEvent(e,t){var i,r=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[eP])||[];if("survey shown"===e&&t&&r.length>0){s9.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:r});var s,n=null==t||null==(s=t.properties)?void 0:s.$survey_id;if(n){var a=r.indexOf(n);a>=0&&(r.splice(a,1),this.Ke(r))}}else this.He.has(e)&&(s9.info("survey event matched, updating activated surveys",{event:e,surveys:this.He.get(e)}),this.Ke(r.concat(this.He.get(e)||[])))}onAction(e){var t,i=(null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[eP])||[];this.We.has(e)&&this.Ke(i.concat(this.We.get(e)||[]))}Ke(e){var t;null==(t=this._instance)||null==(t=t.persistence)||t.register({[eP]:[...new Set(e)]})}getSurveys(){var e;return(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[eP])||[]}getEventToSurveys(){return this.He}Ye(){return this.Ve}}class ne{constructor(e){this.Xe=null,this.Qe=!1,this.Ze=!1,this.tr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(j(t))return s9.warn("Decide not loaded yet. Not loading surveys.");var i=I(t);this.ir=i?t.length>0:t,s9.info("decide response received, hasSurveys: "+this.ir),this.ir&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var i=localStorage.key(t);(null!=i&&i.startsWith("seenSurvey_")||null!=i&&i.startsWith("inProgressSurvey_"))&&e.push(i)}e.forEach(e=>localStorage.removeItem(e))}loadIfEnabled(){if(!this.Xe)if(this.Ze)s9.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)s9.info("Disabled. Not loading surveys.");else if(this.ir){var e=null==b?void 0:b.__PosthogExtensions__;if(e){this.Ze=!0;try{var t=e.generateSurveys;if(t)return void this.er(t);var i=e.loadExternalDependency;if(!i)return void this.rr("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",t=>{t||!e.generateSurveys?this.rr("Could not load surveys script",t):this.er(e.generateSurveys)})}catch(e){throw this.rr("Error initializing surveys",e),e}finally{this.Ze=!1}}else s9.error("PostHog Extensions not found.")}else s9.info("No surveys to load.")}er(e){this.Xe=e(this._instance),this._surveyEventReceiver=new s7(this._instance),s9.info("Surveys loaded successfully"),this.sr({isLoaded:!0})}rr(e,t){s9.error(e,t),this.sr({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.tr.push(e),this.Xe&&this.sr({isLoaded:!0}),()=>{this.tr=this.tr.filter(t=>t!==e)}}getSurveys(e,t){if(void 0===t&&(t=!1),this._instance.config.disable_surveys)return s9.info("Disabled. Not loading surveys."),e([]);var i=this._instance.get_property(eA);if(i&&!t)return e(i,{isLoaded:!0});if(this.Qe)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Qe=!0,this._instance.me({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:t=>{this.Qe=!1;var i=t.statusCode;if(200!==i||!t.json){var r="Surveys API could not be loaded, status: "+i;return s9.error(r),e([],{isLoaded:!1,error:r})}var s,n,a=t.json.surveys||[],o=a.filter(e=>{var t,i;return!(!e.start_date||e.end_date)&&(!(null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||!t.length)||!(null==(i=e.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length))});return o.length>0&&(null==(n=this._surveyEventReceiver)||n.register(o)),null==(s=this._instance.persistence)||s.register({[eA]:a}),e(a,{isLoaded:!0})}})}catch(e){throw this.Qe=!1,e}}sr(e){for(var t of this.tr)try{e.isLoaded?this.getSurveys(t):t([],e)}catch(e){s9.error("Error in survey callback",e)}}getActiveMatchingSurveys(e,t){if(void 0===t&&(t=!1),!j(this.Xe))return this.Xe.getActiveMatchingSurveys(e,t);s9.warn("init was not called")}nr(e){var t=null;return this.getSurveys(i=>{var r;t=null!=(r=i.find(t=>t.id===e))?r:null}),t}ar(e){if(j(this.Xe))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t="string"==typeof e?this.nr(e):e;return t?this.Xe.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(j(this.Xe))return s9.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.ar(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return j(this.Xe)?(s9.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(i=>{this.getSurveys(t=>{var r,s=null!=(r=t.find(t=>t.id===e))?r:null;if(s){var n=this.ar(s);i({visible:n.eligible,disabledReason:n.reason})}else i({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){if(j(this.Xe))s9.warn("init was not called");else{var i=this.nr(e),r=null==g?void 0:g.querySelector(t);i?r?this.Xe.renderSurvey(i,r):s9.warn("Survey element not found"):s9.warn("Survey not found")}}}var nt=W("[RateLimiter]");class ni{constructor(e){var t,i;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(e=>{nt.info((e||"events")+" is quota limited."),this.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void nt.warn('could not rate limit - continuing. Error: "'+(null==e?void 0:e.message)+'"',{text:t})}},this.instance=e,this.captureEventsPerSecond=(null==(t=e.config.rate_limiting)?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(i=e.config.rate_limiting)?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){void 0===e&&(e=!1);var t,i,r,s=(new Date).getTime(),n=null!=(t=null==(i=this.instance.persistence)?void 0:i.get_property(ez))?t:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var a=n.tokens<1;return a||e||(n.tokens=Math.max(0,n.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,null==(r=this.instance.persistence)||r.set_property(ez,n),{isRateLimited:a,remainingTokens:n.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}var nr=W("[RemoteConfig]");class ns{constructor(e){this._instance=e}get remoteConfig(){var e;return null==(e=b._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.config}lr(e){var t,i;null!=(t=b.__PosthogExtensions__)&&t.loadExternalDependency?null==(i=b.__PosthogExtensions__)||null==i.loadExternalDependency||i.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(nr.error("PostHog Extensions not found. Cannot load remote config."),e())}ur(e){this._instance.me({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return nr.info("Using preloaded remote config",this.remoteConfig),void this.be(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void nr.warn("Remote config is disabled. Falling back to local config.");this.lr(e=>{e?this.be(e):(nr.info("No config found after loading remote JS config. Falling back to JSON."),this.ur(e=>{this.be(e)}))})}catch(e){nr.error("Error loading remote config",e)}}be(e){e?this._instance.config.__preview_remote_config?(this._instance.be(e),!1!==e.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):nr.info("__preview_remote_config is disabled. Logging config instead",e):nr.error("Failed to fetch remote config from PostHog.")}}class nn{constructor(e,t){this.hr=!0,this.dr=[],this.vr=iw((null==t?void 0:t.flush_interval_ms)||3e3,250,5e3,"flush interval",3e3),this.cr=e}enqueue(e){this.dr.push(e),this.pr||this.gr()}unload(){this._r();var e=Object.values(this.dr.length>0?this.mr():{});[...e.filter(e=>0===e.url.indexOf("/e")),...e.filter(e=>0!==e.url.indexOf("/e"))].map(e=>{this.cr(K({},e,{transport:"sendBeacon"}))})}enable(){this.hr=!1,this.gr()}gr(){var e=this;this.hr||(this.pr=setTimeout(()=>{if(this._r(),this.dr.length>0){var t=this.mr();for(var i in t)!function(){var r=t[i],s=(new Date).getTime();r.data&&I(r.data)&&ee(r.data,e=>{e.offset=Math.abs(e.timestamp-s),delete e.timestamp}),e.cr(r)}()}},this.vr))}_r(){clearTimeout(this.pr),this.pr=void 0}mr(){var e={};return ee(this.dr,t=>{var i,r=(t?t.batchKey:null)||t.url;A(e[r])&&(e[r]=K({},t,{data:[]})),null==(i=e[r].data)||i.push(t.data)}),this.dr=[],e}}var na=["retriesPerformedSoFar"];class no{constructor(e){this.br=!1,this.wr=3e3,this.dr=[],this._instance=e,this.dr=[],this.yr=!0,!A(l)&&"onLine"in l.navigator&&(this.yr=l.navigator.onLine,eu(l,"online",()=>{this.yr=!0,this.Yi()}),eu(l,"offline",()=>{this.yr=!1}))}get length(){return this.dr.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,i=X(e,na);z(t)&&t>0&&(i.url=rq(i.url,{retry_count:t})),this._instance.me(K({},i,{callback:e=>{200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.Sr(K({retriesPerformedSoFar:t},i)):null==i.callback||i.callback(e)}}))}Sr(e){var t,i,r,s=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=s+1;var n=(r=(Math.random()-.5)*((i=Math.min(18e5,t=3e3*Math.pow(2,s)))-t/2),Math.ceil(i+r)),a=Date.now()+n;this.dr.push({retryAt:a,requestOptions:e});var o="Enqueued failed request for retry in "+n;navigator.onLine||(o+=" (Browser is offline)"),V.warn(o),this.br||(this.br=!0,this.$r())}$r(){this.kr&&clearTimeout(this.kr),this.kr=setTimeout(()=>{this.yr&&this.dr.length>0&&this.Yi(),this.$r()},this.wr)}Yi(){var e=Date.now(),t=[],i=this.dr.filter(i=>i.retryAt<e||(t.push(i),!1));if(this.dr=t,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.kr&&(clearTimeout(this.kr),this.kr=void 0),this.dr))try{this._instance.me(K({},e,{transport:"sendBeacon"}))}catch(e){V.error(e)}this.dr=[]}}class nl{constructor(e){this.Er=()=>{this.Ir||(this.Ir={});var e,t,i,r,s=this.scrollElement(),n=this.scrollY(),a=s?Math.max(0,s.scrollHeight-s.clientHeight):0,o=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.Ir.lastScrollY=Math.ceil(n),this.Ir.maxScrollY=Math.max(n,null!=(e=this.Ir.maxScrollY)?e:0),this.Ir.maxScrollHeight=Math.max(a,null!=(t=this.Ir.maxScrollHeight)?t:0),this.Ir.lastContentY=o,this.Ir.maxContentY=Math.max(o,null!=(i=this.Ir.maxContentY)?i:0),this.Ir.maxContentHeight=Math.max(l,null!=(r=this.Ir.maxContentHeight)?r:0)},this._instance=e}getContext(){return this.Ir}resetContext(){var e=this.Ir;return setTimeout(this.Er,0),e}startMeasuringScrollPosition(){eu(l,"scroll",this.Er,{capture:!0}),eu(l,"scrollend",this.Er,{capture:!0}),eu(l,"resize",this.Er)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==l?void 0:l.document.documentElement;for(var e of I(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var t=null==l?void 0:l.document.querySelector(e);if(t)return t}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return l&&(l.scrollY||l.pageYOffset||l.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return l&&(l.scrollX||l.pageXOffset||l.document.documentElement.scrollLeft)||0}}var nu=e=>sV(null==e?void 0:e.config.mask_personal_data_properties,null==e?void 0:e.config.custom_personal_data_properties);class nd{constructor(e,t,i,r){this.Pr=e=>{var t=this.Rr();if(!t||t.sessionId!==e){var i={sessionId:e,props:this.Tr(this._instance)};this.Mr.register({[ej]:i})}},this._instance=e,this.Cr=t,this.Mr=i,this.Tr=r||nu,this.Cr.onSessionId(this.Pr)}Rr(){return this.Mr.props[ej]}getSetOnceProps(){var e,t=null==(e=this.Rr())?void 0:e.props;return t?"r"in t?sW(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return ee(ea(this.getSetOnceProps()),(t,i)=>{"$current_url"===i&&(i="url"),e["$session_entry_"+E(i)]=t}),e}}var nc=W("[SessionId]");class nh{constructor(e,t,i){if(this.Or=[],!e.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.__preview_experimental_cookieless_mode)throw Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=e.config,this.Mr=e.persistence,this.oi=void 0,this.kt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Fr=t||tL,this.Ar=i||tL;var r,s=this.S.persistence_name||this.S.token,n=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*iw(n,60,36e3,"session_idle_timeout_seconds",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Dr(),this.Lr="ph_"+s+"_window_id",this.Nr="ph_"+s+"_primary_window_exists",this.jr()){var a=tH.D(this.Lr),o=tH.D(this.Nr);a&&!o?this.oi=a:tH.N(this.Lr),tH.L(this.Nr,!0)}if(null!=(r=this.S.bootstrap)&&r.sessionID)try{var l=(e=>{var t=e.replace(/-/g,"");if(32!==t.length)throw Error("Not a valid UUID");if("7"!==t[12])throw Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)})(this.S.bootstrap.sessionID);this.zr(this.S.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){nc.error("Invalid sessionID in bootstrap",e)}this.Ur()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return A(this.Or)&&(this.Or=[]),this.Or.push(e),this.kt&&e(this.kt,this.oi),()=>{this.Or=this.Or.filter(t=>t!==e)}}jr(){return"memory"!==this.S.persistence&&!this.Mr.xe&&tH.O()}qr(e){e!==this.oi&&(this.oi=e,this.jr()&&tH.L(this.Lr,e))}Br(){return this.oi?this.oi:this.jr()?tH.D(this.Lr):null}zr(e,t,i){e===this.kt&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this.kt=e,this.Mr.register({[eE]:[t,e,i]}))}Hr(){if(this.kt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.kt,this._sessionStartTimestamp];var e=this.Mr.props[eE];return I(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.zr(null,null,null)}Ur(){eu(l,"beforeunload",()=>{this.jr()&&tH.N(this.Nr)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=null),this.S.__preview_experimental_cookieless_mode)throw Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var i=t||(new Date).getTime(),[r,s,n]=this.Hr(),a=this.Br(),o=z(n)&&n>0&&Math.abs(i-n)>864e5,l=!1,u=!s,d=!e&&Math.abs(i-r)>this.sessionTimeoutMs;u||d||o?(s=this.Fr(),a=this.Ar(),nc.info("new session ID generated",{sessionId:s,windowId:a,changeReason:{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:o}}),n=i,l=!0):a||(a=this.Ar(),l=!0);var c=0===r||!e||o?i:r,h=0===n?(new Date).getTime():n;return this.qr(a),this.zr(s,c,h),e||this.Dr(),l&&this.Or.forEach(e=>e(s,a,l?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:o}:void 0)),{sessionId:s,windowId:a,sessionStartTimestamp:h,changeReason:l?{noSessionId:u,activityTimeout:d,sessionPastMaximumLength:o}:void 0,lastActivityTimestamp:r}}Dr(){clearTimeout(this.Wr),this.Wr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var np=["$set_once","$set"],ng=W("[SiteApps]");class nf{constructor(e){this._instance=e,this.Gr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Jr(e,t){if(t){var i=this.globalsForEvent(t);this.Gr.push(i),this.Gr.length>1e3&&(this.Gr=this.Gr.slice(10))}}get siteAppLoaders(){var e;return null==(e=b._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ne(this.Jr.bind(this));this.Vr=()=>{e(),this.Gr=[],this.Vr=void 0}}}globalsForEvent(e){if(!e)throw Error("Event payload is required");var t,i,r,s,n,a,o,l={},u=this._instance.get_property("$groups")||[];for(var[d,c]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))l[d]={id:u[d],type:d,properties:c};var{$set_once:h,$set:p}=e;return{event:K({},X(e,np),{properties:K({},e.properties,p?{$set:K({},null!=(t=null==(i=e.properties)?void 0:i.$set)?t:{},p)}:{},h?{$set_once:K({},null!=(r=null==(s=e.properties)?void 0:s.$set_once)?r:{},h)}:{}),elements_chain:null!=(n=null==(a=e.properties)?void 0:a.$elements_chain)?n:"",distinct_id:null==(o=e.properties)?void 0:o.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],i=()=>{var i;!t.errored&&this.Gr.length&&(ng.info("Processing "+this.Gr.length+" events for site app with id "+e.id),this.Gr.forEach(e=>null==t.processEvent?void 0:t.processEvent(e)),t.processedBuffer=!0),Object.values(this.apps).every(e=>e.processedBuffer||e.errored)&&(null==(i=this.Vr)||i.call(this))},r=!1,s=s=>{t.errored=!s,t.loaded=!0,ng.info("Site app with id "+e.id+" "+(s?"loaded":"errored")),r&&i()};try{var{processEvent:n}=e.init({posthog:this._instance,callback:e=>{s(e)}});n&&(t.processEvent=n),r=!0}catch(t){ng.error("Error while initializing PostHog app with config id "+e.id,t),s(!1)}if(r&&t.loaded)try{i()}catch(i){ng.error("Error while processing buffered events PostHog app with config id "+e.id,i),t.errored=!0}}Kr(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}Yr(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{null==i.processEvent||i.processEvent(t)}catch(t){ng.error("Error while processing event "+e.event+" for site app "+i.id,t)}}}onRemoteConfig(e){var t,i,r,s=this;if(null!=(t=this.siteAppLoaders)&&t.length)return this.isEnabled?(this.Kr(),void this._instance.on("eventCaptured",e=>this.Yr(e))):void ng.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(i=this.Vr)||i.call(this),null!=(r=e.siteApps)&&r.length)if(this.isEnabled){var n=function(e){var t;b["__$$ph_site_app_"+e]=s._instance,null==(t=b.__PosthogExtensions__)||null==t.loadSiteApp||t.loadSiteApp(s._instance,o,t=>{if(t)return ng.error("Error while initializing PostHog app with config id "+e,t)})};for(var{id:a,url:o}of e.siteApps)n(a)}else ng.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var n_=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],nm=function(e,t){if(!e)return!1;var i=e.toLowerCase();return n_.concat(t||[]).some(e=>{var t=e.toLowerCase();return -1!==i.indexOf(t)})},nv=function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&nm(i,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some(e=>nm(null==e?void 0:e.brand,t)))return!0}catch(e){}return!!e.webdriver},ny=((nR={}).US="us",nR.EU="eu",nR.CUSTOM="custom",nR),nb="i.posthog.com";class nk{constructor(e){this.Xr={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}get uiHost(){var e,t=null==(e=this.instance.config.ui_host)?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+nb,".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}get region(){return this.Xr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Xr[this.apiHost]=ny.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Xr[this.apiHost]=ny.EU:this.Xr[this.apiHost]=ny.CUSTOM),this.Xr[this.apiHost]}endpointFor(e,t){if(void 0===t&&(t=""),t&&(t="/"===t[0]?t:"/"+t),"ui"===e)return this.uiHost+t;if(this.region===ny.CUSTOM)return this.apiHost+t;var i=nb+t;switch(e){case"assets":return"https://"+this.region+"-assets."+i;case"api":return"https://"+this.region+"."+i}}}var nw={icontains:(e,t)=>!!l&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!l&&-1===t.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,t)=>!!l&&rW(t.href,e),not_regex:(e,t)=>!!l&&!rW(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class nx{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(e){void 0===e&&(e=!1),t.getWebExperiments(e=>{nx.Qr("retrieved web experiments from the server"),t.Zr=new Map,e.forEach(e=>{if(e.feature_flag_key){t.Zr&&(nx.Qr("setting flag key ",e.feature_flag_key," to web experiment ",e),null==(i=t.Zr)||i.set(e.feature_flag_key,e));var i,r=t._instance.getFeatureFlag(e.feature_flag_key);P(r)&&e.variants[r]&&t.ts(e.name,r,e.variants[r].transforms)}else if(e.variants)for(var s in e.variants){var n=e.variants[s];nx.es(n)&&t.ts(e.name,s,n.transforms)}})},e)},this._instance=e,this._instance.onFeatureFlags(e=>{this.onFeatureFlags(e)})}onFeatureFlags(e){if(this._is_bot())nx.Qr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(j(this.Zr))return this.Zr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();nx.Qr("applying feature flags",e),e.forEach(e=>{var t;if(this.Zr&&null!=(t=this.Zr)&&t.has(e)){var i,r=this._instance.getFeatureFlag(e),s=null==(i=this.Zr)?void 0:i.get(e);r&&null!=s&&s.variants[r]&&this.ts(s.name,r,s.variants[r].transforms)}})}}previewWebExperiment(){var e=nx.getWindowLocation();if(null!=e&&e.search){var t=tg(null==e?void 0:e.search,"__experiment_id"),i=tg(null==e?void 0:e.search,"__experiment_variant");t&&i&&(nx.Qr("previewing web experiments "+t+" && "+i),this.getWebExperiments(e=>{this.rs(parseInt(t),i,e)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,i){if(this._instance.config.disable_web_experiments&&!i)return e([]);var r=this._instance.get_property("$web_experiments");if(r&&!t)return e(r);this._instance.me({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:t=>200===t.statusCode&&t.json?e(t.json.experiments||[]):e([])})}rs(e,t,i){var r=i.filter(t=>t.id===e);r&&r.length>0&&(nx.Qr("Previewing web experiment ["+r[0].name+"] with variant ["+t+"]"),this.ts(r[0].name,t,r[0].variants[t].transforms))}static es(e){return!j(e.conditions)&&nx.ss(e)&&nx.ns(e)}static ss(e){if(j(e.conditions)||j(null==(t=e.conditions)?void 0:t.url))return!0;var t,i,r,s,n=nx.getWindowLocation();return!!n&&(null==(i=e.conditions)||!i.url||nw[null!=(r=null==(s=e.conditions)?void 0:s.urlMatchType)?r:"icontains"](e.conditions.url,n))}static getWindowLocation(){return null==l?void 0:l.location}static ns(e){if(j(e.conditions)||j(null==(i=e.conditions)?void 0:i.utm))return!0;var t=sj();if(t.utm_source){var i,r,s,n,a,o,l,u,d,c=null==(r=e.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=e.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==t.utm_campaign,h=null==(n=e.conditions)||null==(n=n.utm)||!n.utm_source||(null==(a=e.conditions)||null==(a=a.utm)?void 0:a.utm_source)==t.utm_source,p=null==(o=e.conditions)||null==(o=o.utm)||!o.utm_medium||(null==(l=e.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==t.utm_medium,g=null==(u=e.conditions)||null==(u=u.utm)||!u.utm_term||(null==(d=e.conditions)||null==(d=d.utm)?void 0:d.utm_term)==t.utm_term;return c&&p&&g&&h}return!1}static Qr(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];V.info("[WebExperiments] "+e,i)}ts(e,t,i){this._is_bot()?nx.Qr("Refusing to render web experiment since the viewer is a likely bot"):"control"!==t?i.forEach(i=>{if(i.selector){nx.Qr("applying transform of variant "+t+" for experiment "+e+" ",i);var r,s=null==(r=document)?void 0:r.querySelectorAll(i.selector);null==s||s.forEach(e=>{i.html&&(e.innerHTML=i.html),i.css&&e.setAttribute("style",i.css)})}}):nx.Qr("Control variants leave the page unmodified.")}_is_bot(){return p&&this._instance?nv(p,this._instance.config.custom_blocked_useragents):void 0}}var nS={},nM=()=>{},n$="posthog",nL=!rj&&-1===(null==y?void 0:y.indexOf("MSIE"))&&-1===(null==y?void 0:y.indexOf("Mozilla")),nE=()=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:function(e){var t=null==e?void 0:e.hostname;if(!P(t))return!1;var i=t.split(".").slice(-2).join(".");for(var r of eo)if(i===r)return!1;return!0}(null==g?void 0:g.location),persistence:"localStorage+cookie",persistence_name:"",loaded:nM,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:f&&P(null==f?void 0:f.search)&&-1!==f.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==l||null==(e=l.location)?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t="Bad HTTP status: "+e.statusCode+" "+e.text;V.error(t)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},_onCapture:nM}},nT=e=>{var t={};A(e.process_person)||(t.person_profiles=e.process_person),A(e.xhr_headers)||(t.request_headers=e.xhr_headers),A(e.cookie_name)||(t.persistence_name=e.cookie_name),A(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),A(e.store_google)||(t.save_campaign_params=e.store_google),A(e.verbose)||(t.debug=e.verbose);var i=et({},t,e);return I(e.property_blacklist)&&(A(e.property_denylist)?i.property_denylist=e.property_blacklist:I(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:V.error("Invalid value for property_denylist config: "+e.property_denylist)),i};class nY{constructor(){this.__forceAllowLocalhost=!1}get os(){return this.__forceAllowLocalhost}set os(e){V.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class nO{get decideEndpointWasHit(){var e,t;return null!=(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&e}constructor(){this.webPerformance=new nY,this.ls=!1,this.version=k.LIB_VERSION,this.us=new s8,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=nE(),this.SentryIntegration=r$,this.sentryIntegration=e=>{var t;return t=rM(this,e),{name:rS,processEvent:e=>t(e)}},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.hs=!1,this.ds=null,this.vs=null,this.cs=null,this.featureFlags=new s5(this),this.toolbar=new rO(this),this.scrollManager=new nl(this),this.pageViewManager=new rH(this),this.surveys=new ne(this),this.experiments=new nx(this),this.exceptions=new rZ(this),this.rateLimiter=new ni(this),this.requestRouter=new nk(this),this.consent=new tj(this),this.people={set:(e,t,i)=>{var r=P(e)?{[e]:t}:e;this.setPersonProperties(r),null==i||i({})},set_once:(e,t,i)=>{var r=P(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),null==i||i({})}},this.on("eventCaptured",e=>V.info('send "'+(null==e?void 0:e.event)+'"',e))}init(e,t,i){if(i&&i!==n$){var r,s=null!=(r=nS[i])?r:new nO;return s._init(e,t,i),nS[i]=s,nS[n$][i]=s,s}return this._init(e,t,i)}_init(e,t,i){if(void 0===t&&(t={}),A(e)||H(e))return V.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return V.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.fs=[],t.person_profiles&&(this.vs=t.person_profiles),this.set_config(et({},nE(),nT(t),{name:i,token:e})),this.config.on_xhr_error&&V.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:S.GZipJS,this.persistence=new s6(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new s6(K({},this.config,{persistence:"sessionStorage"}));var r=K({},this.persistence.props),s=K({},this.sessionPersistence.props);if(this.ps=new nn(e=>this.gs(e),this.config.request_queue_config),this._s=new no(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new nh(this),this.sessionPropsManager=new nd(this,this.sessionManager,this.persistence)),new rI(this).startIfEnabledOrStop(),this.siteApps=new nf(this),null==(n=this.siteApps)||n.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new rw(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new ty(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new rP(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new rF(this),this.exceptionObserver=new tW(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new tB(this,tU),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new iu(this),this.historyAutocapture.startIfEnabled(),k.DEBUG=k.DEBUG||this.config.debug,k.DEBUG&&V.info("Starting in debug mode",{this:this,config:t,thisC:K({},this.config),p:r,s:s}),this.bs(),void 0!==(null==(a=t.bootstrap)?void 0:a.distinctID)){var n,a,o,u,d=this.config.get_device_id(tL()),c=null!=(o=t.bootstrap)&&o.isIdentifiedID?d:t.bootstrap.distinctID;this.persistence.set_property(eN,null!=(u=t.bootstrap)&&u.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:c})}if(this.ws()){var h,p,g=Object.keys((null==(h=t.bootstrap)?void 0:h.featureFlags)||{}).filter(e=>{var i;return!(null==(i=t.bootstrap)||null==(i=i.featureFlags)||!i[e])}).reduce((e,i)=>{var r;return e[i]=(null==(r=t.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,e},{}),f=Object.keys((null==(p=t.bootstrap)?void 0:p.featureFlagPayloads)||{}).filter(e=>g[e]).reduce((e,i)=>{var r,s;return null!=(r=t.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(e[i]=null==(s=t.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:f})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:eG,$device_id:null},"");else if(!this.get_distinct_id()){var _=this.config.get_device_id(tL());this.register_once({distinct_id:_,$device_id:_},""),this.persistence.set_property(eN,"anonymous")}return eu(l,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?function(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var r=i=>{var r=()=>i.anonymousId()||tL();e.config.get_device_id=r,i.id()&&(e.register({distinct_id:i.id(),$device_id:r()}),e.persistence.set_property(eN,"identified")),t()},s=i.user();"then"in s&&C(s.then)?s.then(e=>r(e)):r(s)}(e,()=>{var r;i.register((Promise&&Promise.resolve||rx.warn("This browser does not have Promise support, and can not use the segment integration"),r=(t,i)=>{if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(rx.info("No userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(rx.info("UserId set, identifying with PostHog"),e.identify(t.event.userId));var r=e.calculateEventProperties(i,t.event.properties);return t.event.properties=Object.assign({},r,t.event.properties),t},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>r(e,e.event.event),page:e=>r(e,"$pageview"),identify:e=>r(e,"$identify"),screen:e=>r(e,"$screen")})).then(()=>{t()})})}(this,()=>this.ys()):this.ys(),C(this.config._onCapture)&&this.config._onCapture!==nM&&(V.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",e=>this.config._onCapture(e.event,e))),this}be(e){var t,i,r,s,n,a,o,l;g&&g.body?(this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=$(e.supportedCompression,S.GZipJS)?S.GZipJS:$(e.supportedCompression,S.Base64)?S.Base64:void 0),null!=(t=e.analytics)&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.vs?this.vs:"identified_only"}),null==(i=this.siteApps)||i.onRemoteConfig(e),null==(r=this.sessionRecording)||r.onRemoteConfig(e),null==(s=this.autocapture)||s.onRemoteConfig(e),null==(n=this.heatmaps)||n.onRemoteConfig(e),this.surveys.onRemoteConfig(e),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(e),null==(o=this.exceptionObserver)||o.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),null==(l=this.deadClicksAutocapture)||l.onRemoteConfig(e)):(V.info("document not ready yet, trying again in 500 milliseconds..."),setTimeout(()=>{this.be(e)},500))}ys(){try{this.config.loaded(this)}catch(e){V.critical("`loaded` function failed",e)}this.Ss(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.$s()},1),new ns(this).load(),this.featureFlags.decide()}Ss(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null==(e=this.ps)||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||Q(this.__request_queue,e=>this.gs(e)),this.__request_queue=[],this.Ss()}_handle_unload(){var e,t;this.config.request_batching?(this.ks()&&this.capture("$pageleave"),null==(e=this.ps)||e.unload(),null==(t=this._s)||t.unload()):this.ks()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}me(e){this.__loaded&&(nL?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=rq(e.url,{ip:+!!this.config.ip}),e.headers=K({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,i,r,s=K({},e);s.timeout=s.timeout||6e4,s.url=rq(s.url,{_:(new Date).getTime().toString(),ver:k.LIB_VERSION,compression:s.compression});var n=null!=(t=s.transport)?t:"fetch",a=null!=(i=null==(r=el(rV,e=>e.transport===n))?void 0:r.method)?i:rV[0].method;if(!a)throw Error("No available transport method");a(s)})(K({},e,{callback:t=>{var i,r;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&(null==(i=(r=this.config).on_request_error)||i.call(r,t)),null==e.callback||e.callback(t)}}))))}gs(e){this._s?this._s.retriableRequest(e):this.me(e)}_execute_array(e){var t,i=[],r=[],s=[];Q(e,e=>{e&&(I(t=e[0])?s.push(e):C(e)?e.call(this):I(e)&&"alias"===t?i.push(e):I(e)&&-1!==t.indexOf("capture")&&C(this[t])?s.push(e):r.push(e))});var n=function(e,t){Q(e,function(e){if(I(e[0])){var i=t;ee(e,function(e){i=i[e[0]].apply(i,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};n(i,this),n(r,this),n(s,this)}ws(){var e,t;return(null==(e=this.config.bootstrap)?void 0:e.featureFlags)&&Object.keys(null==(t=this.config.bootstrap)?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.ps){if(!this.consent.isOptedOut())if(!A(e)&&P(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){null!=t&&t.$current_url&&!P(null==t?void 0:t.$current_url)&&(V.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n,a,o,l,u=new Date,d=(null==i?void 0:i.timestamp)||u,c=tL(),h={uuid:c,event:e,properties:this.calculateEventProperties(e,t||{},d,c)};s&&(h.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==i?void 0:i.$set)&&(h.$set=null==i?void 0:i.$set);var p=this.xs(null==i?void 0:i.$set_once);p&&(h.$set_once=p),(n=h,a=null!=i&&i._noTruncate?null:this.config.properties_string_max_length,o=e=>P(e)&&!N(a)?e.slice(0,a):e,l=new Set,h=function e(t,i){var r;return t!==Object(t)?o?o(t,i):t:l.has(t)?void 0:(l.add(t),I(t)?(r=[],Q(t,t=>{r.push(e(t))})):(r={},ee(t,(t,i)=>{l.has(t)||(r[i]=e(t,i))})),r)}(n)).timestamp=d,A(null==i?void 0:i.timestamp)||(h.properties.$event_time_override_provided=!0,h.properties.$event_time_override_system_time=u);var g=K({},h.properties.$set,h.$set);if(R(g)||this.setPersonPropertiesForFlags(g),!j(this.config.before_send)){var f=this.Es(h);if(!f)return;h=f}this.us.emit("eventCaptured",h);var _={method:"POST",url:null!=(r=null==i?void 0:i._url)?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:h,compression:"best-available",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this.gs(_):this.ps.enqueue(_),h}V.critical("This capture call is ignored due to client rate limiting.")}}else V.error("No event name provided to posthog.capture")}else V.uninitializedWarning("posthog.capture")}Ne(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,i,r,s){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var n,a=s?void 0:this.persistence.remove_event_timer(e),o=K({},t);if(o.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(o.$cookieless_mode=!0),"$snapshot"===e){var u=K({},this.persistence.properties(),this.sessionPersistence.properties());return o.distinct_id=u.distinct_id,(!P(o.distinct_id)&&!z(o.distinct_id)||H(o.distinct_id))&&V.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var d,c=function(e,t){if(!y)return{};var i,r,s=e?ei([],sP,t||[]):[],[n,a]=function(e){for(var t=0;t<sF.length;t++){var[i,r]=sF[t],s=i.exec(e),n=s&&(C(r)?r(s,e):r);if(n)return n}return["",""]}(y);return et(ea({$os:n,$os_version:a,$browser:sD(y,navigator.vendor),$device:sR(y),$device_type:(r=sR(y))===r5||r===r2||"Kobo"===r||"Kindle Fire"===r||r===sx?r1:r===sh||r===sg||r===sp||r===sb?"Console":r===r6?"Wearable":r?rQ:"Desktop",$timezone:sG(),$timezone_offset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}}()}),{$current_url:tf(null==f?void 0:f.href,s,sN),$host:null==f?void 0:f.host,$pathname:null==f?void 0:f.pathname,$raw_user_agent:y.length>1e3?y.substring(0,997)+"...":y,$browser_version:sC(y,navigator.vendor),$browser_language:sU(),$browser_language_prefix:"string"==typeof(i=sU())?i.split("-")[0]:void 0,$screen_height:null==l?void 0:l.screen.height,$screen_width:null==l?void 0:l.screen.width,$viewport_height:null==l?void 0:l.innerHeight,$viewport_width:null==l?void 0:l.innerWidth,$lib:"web",$lib_version:k.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:h,windowId:p}=this.sessionManager.checkAndGetSessionAndWindowId(s,i.getTime());o.$session_id=h,o.$window_id=p}this.sessionPropsManager&&et(o,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&et(o,this.sessionRecording.sdkDebugProperties),o.$sdk_debug_retry_queue_size=null==(n=this._s)?void 0:n.length}catch(e){o.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===ny.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),d="$pageview"!==e||s?"$pageleave"!==e||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(i):this.pageViewManager.doPageView(i,r),o=et(o,d),"$pageview"===e&&g&&(o.title=g.title),!A(a)){var _=i.getTime()-a;o.$duration=parseFloat((_/1e3).toFixed(3))}y&&this.config.opt_out_useragent_filter&&(o.$browser_type=this._is_bot()?"bot":"browser"),(o=et({},c,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),I(this.config.property_denylist)?ee(this.config.property_denylist,function(e){delete o[e]}):V.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var m=this.config.sanitize_properties;m&&(V.error("sanitize_properties is deprecated. Use before_send instead"),o=m(o,e));var v=this.Is();return o.$process_person_profile=v,v&&!s&&this.Ps("_calculate_event_properties"),o}xs(e){if(!this.persistence||!this.Is()||this.ls)return e;var t,i=et({},this.persistence.get_initial_props(),(null==(t=this.sessionPropsManager)?void 0:t.getSetOnceProps())||{},e||{}),r=this.config.sanitize_properties;return r&&(V.error("sanitize_properties is deprecated. Use before_send instead"),i=r(i,"$set_once")),this.ls=!0,R(i)?void 0:i}register(e,t){var i;null==(i=this.persistence)||i.register(e,t)}register_once(e,t,i){var r;null==(r=this.persistence)||r.register_once(e,t,i)}register_for_session(e){var t;null==(t=this.sessionPersistence)||t.register(e)}unregister(e){var t;null==(t=this.persistence)||t.unregister(e)}unregister_for_session(e){var t;null==(t=this.sessionPersistence)||t.unregister(e)}Rs(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e,t,i){return void 0===t&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,i)}on(e,t){return this.us.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,i;return null!=(t=null==(i=this.sessionManager)?void 0:i.onSessionId(e))?t:()=>{}}getSurveys(e,t){void 0===t&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){void 0===t&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return void 0===t&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,i){if(!this.__loaded||!this.persistence)return V.uninitializedWarning("posthog.identify");if(z(e)&&(e=e.toString(),V.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))V.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.Ps("posthog.identify")){var r=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:r},""),e!==r&&e!==this.get_property(ec)&&(this.unregister(ec),this.register({distinct_id:e}));var s="anonymous"===(this.persistence.get_property(eN)||"anonymous");e!==r&&s?(this.persistence.set_property(eN,"identified"),this.setPersonPropertiesForFlags(K({},i||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:i||{}}),this.cs=rG(e,t,i),this.featureFlags.setAnonymousDistinctId(r)):(t||i)&&this.setPersonProperties(t,i),e!==r&&(this.reloadFeatureFlags(),this.unregister(eH))}}else V.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Ps("posthog.setPersonProperties")){var i=rG(this.get_distinct_id(),e,t);this.cs!==i?(this.setPersonPropertiesForFlags(K({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.cs=i):V.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,i){if(e&&t){if(this.Ps("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:K({},r,{[e]:t})}),i&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===t||i||this.reloadFeatureFlags()}}else V.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0),this.Ps("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){if(V.info("reset"),!this.__loaded)return V.uninitializedWarning("posthog.reset");var t,i,r,s,n=this.get_property("$device_id");if(this.consent.reset(),null==(t=this.persistence)||t.clear(),null==(i=this.sessionPersistence)||i.clear(),this.surveys.reset(),null==(r=this.persistence)||r.set_property(eN,"anonymous"),null==(s=this.sessionManager)||s.resetSessionId(),this.cs=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:eG,$device_id:null},"");else{var a=this.config.get_device_id(tL());this.register_once({distinct_id:a,$device_id:e?a:n},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return null!=(e=null==(t=this.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(null!=e&&e.withTimestamp&&i){var s,n=null!=(s=e.timestampLookBack)?s:10;if(!i)return r;r+="?t="+Math.max(Math.floor(((new Date).getTime()-i)/1e3)-n,0)}return r}alias(e,t){return e===this.get_property(ed)?(V.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ps("posthog.alias")?(A(t)&&(t=this.get_distinct_id()),e!==t?(this.Rs(ec,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(V.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t,i,r,s,n=K({},this.config);F(e)&&(et(this.config,nT(e)),null==(t=this.persistence)||t.update_config(this.config,n),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new s6(K({},this.config,{persistence:"sessionStorage"})),tI.O()&&"true"===tI.A("ph_debug")&&(this.config.debug=!0),this.config.debug&&(k.DEBUG=!0,V.info("set_config",JSON.stringify({config:e,oldConfig:n,newConfig:K({},this.config)},null,2))),null==(i=this.sessionRecording)||i.startIfEnabledOrStop(),null==(r=this.autocapture)||r.startIfEnabled(),null==(s=this.heatmaps)||s.startIfEnabled(),this.surveys.loadIfEnabled(),this.bs())}startSessionRecording(e){var t,i,r,s,n,a=!0===e,o={sampling:a||!(null==e||!e.sampling),linked_flag:a||!(null==e||!e.linked_flag),url_trigger:a||!(null==e||!e.url_trigger),event_trigger:a||!(null==e||!e.event_trigger)};Object.values(o).some(Boolean)&&(null==(t=this.sessionManager)||t.checkAndGetSessionAndWindowId(),o.sampling&&(null==(i=this.sessionRecording)||i.overrideSampling()),o.linked_flag&&(null==(r=this.sessionRecording)||r.overrideLinkedFlag()),o.url_trigger&&(null==(s=this.sessionRecording)||s.overrideTrigger("url")),o.event_trigger&&(null==(n=this.sessionRecording)||n.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null==(e=this.sessionRecording)||!e.started)}captureException(e,t){var i=Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(K({},function(e,t){var{error:i,event:r}=e,s={$exception_list:[]},n=i||r;if(tZ(n)||tX(n,"DOMException")){if("stack"in n)s=ia(n,t);else{var a=n.name||(tZ(n)?"DOMError":"DOMException"),o=n.message?a+": "+n.message:a;s=io(o,K({},t,{overrideExceptionType:tZ(n)?"DOMError":"DOMException",defaultExceptionMessage:o}))}return"code"in n&&(s.$exception_DOMException_code=""+n.code),s}if(tX(n,"ErrorEvent")&&n.error)return ia(n.error,t);if(tK(n))return ia(n,t);if(tX(n,"Object")||tG(n))return function(e,t){var i,r,s,n=null==(r=null==t?void 0:t.handled)||r,a=null==(s=null==t?void 0:t.synthetic)||s,o={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:tG(e)?e.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(e,t){void 0===t&&(t=40);var i=Object.keys(e);if(i.sort(),!i.length)return"[object has no keys]";for(var r=i.length;r>0;r--){var s=i.slice(0,r).join(", ");if(!(s.length>t))return r===i.length||s.length<=t?s:s.slice(0,t)+"..."}return""}(e),mechanism:{handled:n,synthetic:a}};if(null!=t&&t.syntheticException){var l=ir(null==t?void 0:t.syntheticException,1);l.length&&(o.stacktrace={frames:l,type:"raw"})}return{$exception_list:[o],$exception_level:P(i=e.level)&&!H(i)&&M.indexOf(i)>=0?e.level:"error"}}(n,t);if(A(i)&&P(r)){var l="Error",u=r,d=r.match(ii);return d&&(l=d[1],u=d[2]),io(u,K({},t,{overrideExceptionType:l,defaultExceptionMessage:u}))}return io(n,t)}(e instanceof Error?{error:e,event:e.message}:{event:e},{syntheticException:i}),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null==(t=this.persistence)?void 0:t.props[e]}getSessionProperty(e){var t;return null==(t=this.sessionPersistence)?void 0:t.props[e]}toString(){var e,t=null!=(e=this.config.name)?e:n$;return t!==n$&&(t=n$+"."+t),t}_isIdentified(){var e,t;return"identified"===(null==(e=this.persistence)?void 0:e.get_property(eN))||"identified"===(null==(t=this.sessionPersistence)?void 0:t.get_property(eN))}Is(){var e,t;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&R(this.getGroups())&&(null==(e=this.persistence)||null==(e=e.props)||!e[ec])&&(null==(t=this.persistence)||null==(t=t.props)||!t[eV]))}ks(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Is()||this.Ps("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ps(e){return"never"===this.config.person_profiles?(V.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Rs(eV,!0),!0)}bs(){var e,t,i,r,s=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default,a=this.config.disable_persistence||s&&!!n;(null==(e=this.persistence)?void 0:e.xe)!==a&&(null==(i=this.persistence)||i.set_disabled(a)),(null==(t=this.sessionPersistence)?void 0:t.xe)!==a&&(null==(r=this.sessionPersistence)||r.set_disabled(a))}opt_in_capturing(e){var t;this.consent.optInOut(!0),this.bs(),(A(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!=(t=null==e?void 0:e.captureEventName)?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.$s()}opt_out_capturing(){this.consent.optInOut(!1),this.bs()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this.bs()}_is_bot(){return p?nv(p,this.config.custom_blocked_useragents):void 0}$s(){g&&("visible"===g.visibilityState?this.hs||(this.hs=!0,this.capture("$pageview",{title:g.title},{send_instantly:!0}),this.ds&&(g.removeEventListener("visibilitychange",this.ds),this.ds=null)):this.ds||(this.ds=this.$s.bind(this),eu(g,"visibilitychange",this.ds)))}debug(e){!1===e?(null==l||l.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==l||l.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}Es(e){if(j(this.config.before_send))return e;var t=I(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of t){if(j(i=r(i))){var s="Event '"+e.event+"' was rejected in beforeSend function";return U(e.event)?V.warn(s+". This can cause unexpected behavior."):V.info(s),null}i.properties&&!R(i.properties)||V.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return i}getPageViewId(){var e;return null==(e=this.pageViewManager.ne)?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,i){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(i)})}}for(var nD=["identify"],nI=0;nI<nD.length;nI++)nO.prototype[nD[nI]]=en(nO.prototype[nD[nI]]);(nA={}).Button="button",nA.Tab="tab",nA.Selector="selector",(nP={}).TopLeft="top_left",nP.TopRight="top_right",nP.TopCenter="top_center",nP.MiddleLeft="middle_left",nP.MiddleRight="middle_right",nP.MiddleCenter="middle_center",nP.Left="left",nP.Center="center",nP.Right="right",nP.NextToTrigger="next_to_trigger",(nH={}).Popover="popover",nH.API="api",nH.Widget="widget",(nN={}).Open="open",nN.MultipleChoice="multiple_choice",nN.SingleChoice="single_choice",nN.Rating="rating",nN.Link="link",(nj={}).NextQuestion="next_question",nj.End="end",nj.ResponseBased="response_based",nj.SpecificQuestion="specific_question",(nz={}).Once="once",nz.Recurring="recurring",nz.Always="always";var nC,nF,nR,nA,nP,nH,nN,nj,nz,nq,nU=(nq=nS[n$]=new nO,function(){function e(){e.done||(e.done=!0,nL=!1,ee(nS,function(e){e._dom_loaded()}))}null!=g&&g.addEventListener?"complete"===g.readyState?e():eu(g,"DOMContentLoaded",e,{capture:!1}):l&&V.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),nq),nB=e.i(136960),nV=(0,nB.createContext)({client:nU});function nW(e){var t=e.children,i=e.client,r=e.apiKey,s=e.options,n=(0,nB.useRef)(null),a=(0,nB.useMemo)(function(){return i?(r&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),s&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),i):(r||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),nU)},[i,r,JSON.stringify(s)]);return(0,nB.useEffect)(function(){if(!i){var e=n.current;e?(r!==e.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),s&&!function e(t,i,r){if(void 0===r&&(r=new WeakMap),t===i)return!0;if("object"!=typeof t||null===t||"object"!=typeof i||null===i)return!1;if(r.has(t)&&r.get(t)===i)return!0;r.set(t,i);var s=Object.keys(t),n=Object.keys(i);if(s.length!==n.length)return!1;for(var a=0;a<s.length;a++){var o=s[a];if(!n.includes(o)||!e(t[o],i[o],r))return!1}return!0}(s,e.options)&&nU.set_config(s)):(nU.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),nU.init(r,s)),n.current={apiKey:r,options:null!=s?s:{}}}},[i,r,JSON.stringify(s)]),nB.default.createElement(nV.Provider,{value:{client:a}},t)}var nG=function(e,t){return(nG=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},nJ=function(e){return"function"==typeof e},nK={componentStack:null,error:null},nX=nB.default.Component;if("function"!=typeof nX&&null!==nX)throw TypeError("Class extends value "+String(nX)+" is not a constructor or null");function nZ(){this.constructor=nQ}function nQ(e){var t=nX.call(this,e)||this;return t.state=nK,t}nG(nQ,nX),nQ.prototype=null===nX?Object.create(nX):(nZ.prototype=nX.prototype,new nZ),nQ.prototype.componentDidCatch=function(e,t){var i,r=t.componentStack,s=this.props.additionalProperties;this.setState({error:e,componentStack:r}),nJ(s)?i=s(e):"object"==typeof s&&(i=s),this.context.client.captureException(e,i)},nQ.prototype.render=function(){var e=this.props,t=e.children,i=e.fallback,r=this.state;if(null==r.componentStack)return nJ(t)?t():t;var s=nJ(i)?nB.default.createElement(i,{error:r.error,componentStack:r.componentStack}):i;return nB.default.isValidElement(s)?s:(console.warn("[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."),nB.default.createElement(nB.default.Fragment,null))},nQ.contextType=nV;var n0=e.i(680472);let n1=()=>n0.default.version;e.s(["getAppVersion",0,n1],669123);let n2=a.default.env.NEXT_PUBLIC_POSTHOG_HOST||atob("aHR0cHM6Ly91cy5pLnBvc3Rob2cuY29t"),n5=a.default.env.NEXT_PUBLIC_POSTHOG_KEY||atob("cGhjX2ViNXowbVRxWm8yZm5YYnZGNmE3bFh5TThpTmRSNTNsR1A3VFM3VGh4S08=");n5&&"true"!==localStorage.getItem("readest-telemetry-opt-out")&&nU.init(n5,{api_host:n2,person_profiles:"always"}),e.s(["CSPostHogProvider",0,({children:e})=>((0,nB.useEffect)(()=>{nU.register_for_session({$app_version:n1()})},[]),(0,o.jsx)(nW,{client:nU,children:e}))],309169);let n3=new class{async pullChanges(e,t,i,r){return console.log("[SyncClient] Cloud sync disabled (local storage mode)"),{books:null,configs:null,notes:null}}async pushChanges(e){return console.log("[SyncClient] Cloud sync disabled (local storage mode)"),{books:null,configs:null,notes:null}}},n6=(0,nB.createContext)({syncClient:n3});e.s(["SyncProvider",0,({children:e})=>(0,o.jsx)(n6.Provider,{value:{syncClient:n3},children:e}),"useSyncContext",0,()=>(0,nB.useContext)(n6)],747300);let n8=e=>{let t,i=new Set,r=(e,r)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),i.forEach(i=>i(t,e))}},s=()=>t,n={setState:r,getState:s,getInitialState:()=>a,subscribe:e=>(i.add(e),()=>i.delete(e))},a=t=e(r,s,n);return n},n4=e=>{let t=e?n8(e):n8,i=e=>(function(e,t=e=>e){let i=nB.default.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return nB.default.useDebugValue(i),i})(t,e);return Object.assign(i,t),i},n9=e=>e?n4(e):n4;e.s(["create",()=>n9],571975);var n7=e.i(481959);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var at=/^\s+/,ai=/\s+$/;function ar(e,t){if(t=t||{},(e=e||"")instanceof ar)return e;if(!(this instanceof ar))return new ar(e,t);var i,r,s,n,a,o,l,u,d,c,h,p,g,f,_,m,v,y,b,k,w=(r={r:0,g:0,b:0},s=1,n=null,a=null,o=null,l=!1,u=!1,"string"==typeof(i=e)&&(i=function(e){e=e.replace(at,"").replace(ai,"").toLowerCase();var t,i=!1;if(ab[e])e=ab[e],i=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=aT.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=aT.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=aT.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=aT.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=aT.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=aT.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=aT.hex8.exec(e))?{r:aM(t[1]),g:aM(t[2]),b:aM(t[3]),a:aM(t[4])/255,format:i?"name":"hex8"}:(t=aT.hex6.exec(e))?{r:aM(t[1]),g:aM(t[2]),b:aM(t[3]),format:i?"name":"hex"}:(t=aT.hex4.exec(e))?{r:aM(t[1]+""+t[1]),g:aM(t[2]+""+t[2]),b:aM(t[3]+""+t[3]),a:aM(t[4]+""+t[4])/255,format:i?"name":"hex8"}:!!(t=aT.hex3.exec(e))&&{r:aM(t[1]+""+t[1]),g:aM(t[2]+""+t[2]),b:aM(t[3]+""+t[3]),format:i?"name":"hex"}}(i)),"object"==ae(i)&&(aY(i.r)&&aY(i.g)&&aY(i.b)?(d=i.r,c=i.g,h=i.b,r={r:255*ax(d,255),g:255*ax(c,255),b:255*ax(h,255)},l=!0,u="%"===String(i.r).substr(-1)?"prgb":"rgb"):aY(i.h)&&aY(i.s)&&aY(i.v)?(n=aL(i.s),a=aL(i.v),p=i.h,g=n,f=a,p=6*ax(p,360),g=ax(g,100),f=ax(f,100),_=Math.floor(p),m=p-_,v=f*(1-g),y=f*(1-m*g),b=f*(1-(1-m)*g),r={r:255*[f,y,v,v,b,f][k=_%6],g:255*[b,f,f,y,v,v][k],b:255*[v,v,b,f,f,y][k]},l=!0,u="hsv"):aY(i.h)&&aY(i.s)&&aY(i.l)&&(n=aL(i.s),o=aL(i.l),r=function(e,t,i){var r,s,n;function a(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(e=ax(e,360),t=ax(t,100),i=ax(i,100),0===t)r=s=n=i;else{var o=i<.5?i*(1+t):i+t-i*t,l=2*i-o;r=a(l,o,e+1/3),s=a(l,o,e),n=a(l,o,e-1/3)}return{r:255*r,g:255*s,b:255*n}}(i.h,n,o),l=!0,u="hsl"),i.hasOwnProperty("a")&&(s=i.a)),s=aw(s),{ok:l,format:i.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:s});this._originalInput=e,this._r=w.r,this._g=w.g,this._b=w.b,this._a=w.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||w.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=w.ok}function as(e,t,i){e=ax(e,255);var r,s,n=Math.max(e,t=ax(t,255),i=ax(i,255)),a=Math.min(e,t,i),o=(n+a)/2;if(n==a)r=s=0;else{var l=n-a;switch(s=o>.5?l/(2-n-a):l/(n+a),n){case e:r=(t-i)/l+6*(t<i);break;case t:r=(i-e)/l+2;break;case i:r=(e-t)/l+4}r/=6}return{h:r,s:s,l:o}}function an(e,t,i){e=ax(e,255);var r,s=Math.max(e,t=ax(t,255),i=ax(i,255)),n=Math.min(e,t,i),a=s-n;if(s==n)r=0;else{switch(s){case e:r=(t-i)/a+6*(t<i);break;case t:r=(i-e)/a+2;break;case i:r=(e-t)/a+4}r/=6}return{h:r,s:0===s?0:a/s,v:s}}function aa(e,t,i,r){var s=[a$(Math.round(e).toString(16)),a$(Math.round(t).toString(16)),a$(Math.round(i).toString(16))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function ao(e,t,i,r){return[a$(aE(r)),a$(Math.round(e).toString(16)),a$(Math.round(t).toString(16)),a$(Math.round(i).toString(16))].join("")}function al(e,t){t=0===t?0:t||10;var i=ar(e).toHsl();return i.s-=t/100,i.s=aS(i.s),ar(i)}function au(e,t){t=0===t?0:t||10;var i=ar(e).toHsl();return i.s+=t/100,i.s=aS(i.s),ar(i)}function ad(e){return ar(e).desaturate(100)}function ac(e,t){t=0===t?0:t||10;var i=ar(e).toHsl();return i.l+=t/100,i.l=aS(i.l),ar(i)}function ah(e,t){t=0===t?0:t||10;var i=ar(e).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(-(t/100*255)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(-(t/100*255)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(-(t/100*255)))),ar(i)}function ap(e,t){t=0===t?0:t||10;var i=ar(e).toHsl();return i.l-=t/100,i.l=aS(i.l),ar(i)}function ag(e,t){var i=ar(e).toHsl(),r=(i.h+t)%360;return i.h=r<0?360+r:r,ar(i)}function af(e){var t=ar(e).toHsl();return t.h=(t.h+180)%360,ar(t)}function a_(e,t){if(isNaN(t)||t<=0)throw Error("Argument to polyad must be a positive number");for(var i=ar(e).toHsl(),r=[ar(e)],s=360/t,n=1;n<t;n++)r.push(ar({h:(i.h+n*s)%360,s:i.s,l:i.l}));return r}function am(e){var t=ar(e).toHsl(),i=t.h;return[ar(e),ar({h:(i+72)%360,s:t.s,l:t.l}),ar({h:(i+216)%360,s:t.s,l:t.l})]}function av(e,t,i){t=t||6,i=i||30;var r=ar(e).toHsl(),s=360/i,n=[ar(e)];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,n.push(ar(r));return n}function ay(e,t){t=t||6;for(var i=ar(e).toHsv(),r=i.h,s=i.s,n=i.v,a=[],o=1/t;t--;)a.push(ar({h:r,s:s,v:n})),n=(n+o)%1;return a}ar.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,i,r=this.toRgb();return e=r.r/255,t=r.g/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*((i=r.b/255)<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},setAlpha:function(e){return this._a=aw(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=an(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=an(this._r,this._g,this._b),t=Math.round(360*e.h),i=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=as(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=as(this._r,this._g,this._b),t=Math.round(360*e.h),i=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return aa(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t,i,r,s,n,a;return t=this._r,i=this._g,r=this._b,s=this._a,n=e,a=[a$(Math.round(t).toString(16)),a$(Math.round(i).toString(16)),a$(Math.round(r).toString(16)),a$(aE(s))],n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*ax(this._r,255))+"%",g:Math.round(100*ax(this._g,255))+"%",b:Math.round(100*ax(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*ax(this._r,255))+"%, "+Math.round(100*ax(this._g,255))+"%, "+Math.round(100*ax(this._b,255))+"%)":"rgba("+Math.round(100*ax(this._r,255))+"%, "+Math.round(100*ax(this._g,255))+"%, "+Math.round(100*ax(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(ak[aa(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+ao(this._r,this._g,this._b,this._a),i=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=ar(e);i="#"+ao(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0;return!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex4"===e&&(i=this.toHex8String(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ar(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(ac,arguments)},brighten:function(){return this._applyModification(ah,arguments)},darken:function(){return this._applyModification(ap,arguments)},desaturate:function(){return this._applyModification(al,arguments)},saturate:function(){return this._applyModification(au,arguments)},greyscale:function(){return this._applyModification(ad,arguments)},spin:function(){return this._applyModification(ag,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(av,arguments)},complement:function(){return this._applyCombination(af,arguments)},monochromatic:function(){return this._applyCombination(ay,arguments)},splitcomplement:function(){return this._applyCombination(am,arguments)},triad:function(){return this._applyCombination(a_,[3])},tetrad:function(){return this._applyCombination(a_,[4])}},ar.fromRatio=function(e,t){if("object"==ae(e)){var i={};for(var r in e)e.hasOwnProperty(r)&&("a"===r?i[r]=e[r]:i[r]=aL(e[r]));e=i}return ar(e,t)},ar.equals=function(e,t){return!!e&&!!t&&ar(e).toRgbString()==ar(t).toRgbString()},ar.random=function(){return ar.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},ar.mix=function(e,t,i){i=0===i?0:i||50;var r=ar(e).toRgb(),s=ar(t).toRgb(),n=i/100;return ar({r:(s.r-r.r)*n+r.r,g:(s.g-r.g)*n+r.g,b:(s.b-r.b)*n+r.b,a:(s.a-r.a)*n+r.a})},ar.readability=function(e,t){var i=ar(e),r=ar(t);return(Math.max(i.getLuminance(),r.getLuminance())+.05)/(Math.min(i.getLuminance(),r.getLuminance())+.05)},ar.isReadable=function(e,t,i){var r,s,n,a,o,l=ar.readability(e,t);switch(o=!1,(s=((r=(r=i)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(r.size||"small").toLowerCase(),"AA"!==s&&"AAA"!==s&&(s="AA"),"small"!==n&&"large"!==n&&(n="small"),a={level:s,size:n}).level+a.size){case"AAsmall":case"AAAlarge":o=l>=4.5;break;case"AAlarge":o=l>=3;break;case"AAAsmall":o=l>=7}return o},ar.mostReadable=function(e,t,i){var r,s,n,a,o=null,l=0;s=(i=i||{}).includeFallbackColors,n=i.level,a=i.size;for(var u=0;u<t.length;u++)(r=ar.readability(e,t[u]))>l&&(l=r,o=ar(t[u]));return ar.isReadable(e,o,{level:n,size:a})||!s?o:(i.includeFallbackColors=!1,ar.mostReadable(e,["#fff","#000"],i))};var ab=ar.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ak=ar.hexNames=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}(ab);function aw(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function ax(e,t){"string"==typeof(i=e)&&-1!=i.indexOf(".")&&1===parseFloat(i)&&(e="100%");var i,r,s="string"==typeof(r=e)&&-1!=r.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),s&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}function aS(e){return Math.min(1,Math.max(0,e))}function aM(e){return parseInt(e,16)}function a$(e){return 1==e.length?"0"+e:""+e}function aL(e){return e<=1&&(e=100*e+"%"),e}function aE(e){return Math.round(255*parseFloat(e)).toString(16)}var aT=(s="[\\s|\\(]+("+(r="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",{CSS_UNIT:new RegExp(r),rgb:RegExp("rgb"+s),rgba:RegExp("rgba"+n),hsl:RegExp("hsl"+s),hsla:RegExp("hsla"+n),hsv:RegExp("hsv"+s),hsva:RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function aY(e){return!!aT.CSS_UNIT.exec(e)}e.s(["default",()=>ar],93293);var aO=e.i(431187);function aD(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function aI(e){let{r:t,g:i,b:r}=ar(e).toRgb(),s=aD(t/255),n=aD(i/255),a=aD(r/255),o=Math.cbrt(.4122214708*s+.5363325363*n+.0514459929*a),l=Math.cbrt(.2119034982*s+.6806995451*n+.1073969566*a),u=Math.cbrt(.0883024619*s+.2817188376*n+.6299787005*a),d=1.9779984951*o-2.428592205*l+.4505937099*u,c=.0259040371*o+.7827717662*l-.808675766*u,h=Math.sqrt(d*d+c*c),p=180/Math.PI*Math.atan2(c,d);p<0&&(p+=360);let g=(100*(.2104542553*o+.793617785*l-.0040720468*u)).toFixed(4),f=Number(h.toFixed(6)),_=Number(p.toFixed(3));return 0===f?`${g}% 0 0deg`:`${g}% ${f} ${_}deg`}let aC=e=>ar(e).isDark()?"100% 0 0deg":"0% 0 0deg",aF=e=>ar(e).isDark()?"#FFFFFF":"#000000",aR=({bg:e,fg:t,primary:i})=>({"base-100":e,"base-200":ar(e).darken(5).toHexString(),"base-300":ar(e).darken(12).toHexString(),"base-content":t,neutral:ar(e).darken(15).desaturate(20).toHexString(),"neutral-content":ar(t).lighten(20).desaturate(20).toHexString(),primary:i,secondary:ar(i).lighten(20).toHexString(),accent:ar(i).analogous()[1].toHexString()}),aA=({bg:e,fg:t,primary:i})=>({"base-100":e,"base-200":ar(e).lighten(5).toHexString(),"base-300":ar(e).lighten(12).toHexString(),"base-content":t,neutral:ar(e).lighten(15).desaturate(20).toHexString(),"neutral-content":ar(t).darken(20).desaturate(20).toHexString(),primary:i,secondary:ar(i).darken(20).toHexString(),accent:ar(i).triad()[1].toHexString()}),aP=[{name:"default",label:(0,aO.stubTranslation)("Default"),colors:{light:aR({fg:"#171717",bg:"#ffffff",primary:"#0066cc"}),dark:aA({fg:"#e0e0e0",bg:"#222222",primary:"#77bbee"})}},{name:"gray",label:(0,aO.stubTranslation)("Gray"),colors:{light:aR({fg:"#222222",bg:"#e0e0e0",primary:"#4488cc"}),dark:aA({fg:"#c6c6c6",bg:"#444444",primary:"#88ccee"})}},{name:"sepia",label:(0,aO.stubTranslation)("Sepia"),colors:{light:aR({fg:"#5b4636",bg:"#f1e8d0",primary:"#008b8b"}),dark:aA({fg:"#ffd595",bg:"#342e25",primary:"#48d1cc"})}},{name:"grass",label:(0,aO.stubTranslation)("Grass"),colors:{light:aR({fg:"#232c16",bg:"#d7dbbd",primary:"#177b4d"}),dark:aA({fg:"#d8deba",bg:"#333627",primary:"#a6d608"})}},{name:"cherry",label:(0,aO.stubTranslation)("Cherry"),colors:{light:aR({fg:"#4e1609",bg:"#f0d1d5",primary:"#de3838"}),dark:aA({fg:"#e5c4c8",bg:"#462f32",primary:"#ff646e"})}},{name:"sky",label:(0,aO.stubTranslation)("Sky"),colors:{light:aR({fg:"#262d48",bg:"#cedef5",primary:"#2d53e5"}),dark:aA({fg:"#babee1",bg:"#282e47",primary:"#ff646e"})}},{name:"solarized",label:(0,aO.stubTranslation)("Solarized"),colors:{light:aR({fg:"#586e75",bg:"#fdf6e3",primary:"#268bd2"}),dark:aA({fg:"#93a1a1",bg:"#002b36",primary:"#268bd2"})}},{name:"gruvbox",label:(0,aO.stubTranslation)("Gruvbox"),colors:{light:aR({fg:"#3c3836",bg:"#fbf1c7",primary:"#076678"}),dark:aA({fg:"#ebdbb2",bg:"#282828",primary:"#83a598"})}},{name:"nord",label:(0,aO.stubTranslation)("Nord"),colors:{light:aR({fg:"#2e3440",bg:"#eceff4",primary:"#5e81ac"}),dark:aA({fg:"#d8dee9",bg:"#2e3440",primary:"#88c0d0"})}},{name:"contrast",label:(0,aO.stubTranslation)("Contrast"),colors:{light:aR({fg:"#000000",bg:"#ffffff",primary:"#4488cc"}),dark:aA({fg:"#ffffff",bg:"#000000",primary:"#88ccee"})}},{name:"sunset",label:(0,aO.stubTranslation)("Sunset"),colors:{light:aR({fg:"#423126",bg:"#fff7f0",primary:"#fe6b64"}),dark:aA({fg:"#f6e1d7",bg:"#3c2b25",primary:"#ff9c94"})}}],aH=(e,t=!1)=>{let i=`
    --b1: ${aI(e["base-100"])};
    --b2: ${aI(e["base-200"])};
    --b3: ${aI(e["base-300"])};
    --bc: ${aI(e["base-content"])};
    
    --p: ${aI(e.primary)};
    --pc: ${aC(e.primary)};
    
    --s: ${aI(e.secondary)};
    --sc: ${aC(e.secondary)};
    
    --a: ${aI(e.accent)};
    --ac: ${aC(e.accent)};
    
    --n: ${aI(e.neutral)};
    --nc: ${aI(e["neutral-content"])};
    
    --in: 69.37% 0.047 231deg;
    --inc: 100% 0 0deg;
    --su: 78.15% 0.12 160deg;
    --suc: 100% 0 0deg;
    --wa: 90.69% 0.123 84deg;
    --wac: 0% 0 0deg;
    --er: 70.9% 0.184 22deg;
    --erc: 100% 0 0deg;
  `,r=`
    --fallback-b1: ${e["base-100"]};
    --fallback-b2: ${e["base-200"]};
    --fallback-b3: ${e["base-300"]};
    --fallback-bc: ${e["base-content"]};

    --fallback-p: ${e.primary};
    --fallback-pc: ${aF(e.primary)};

    --fallback-s: ${e.secondary};
    --fallback-sc: ${aF(e.secondary)};

    --fallback-a: ${e.accent};
    --fallback-ac: ${aF(e.accent)};

    --fallback-n: ${e.neutral};
    --fallback-nc: ${e["neutral-content"]};

    --fallback-in: #ff0000;
    --fallback-inc: #ffffff;
    --fallback-su: #00ff00;
    --fallback-suc: #000000;
    --fallback-wa: #ffff00;
    --fallback-wac: #000000;
    --fallback-er: #ff8000;
    --fallback-erc: #000000;
  `;return i+(t?r:"")};e.s(["applyCustomTheme",0,(e,t,i=!1)=>{if(!e&&!t)return;let r=e?`${e.name}-light`:`${t}-light`,s=e?`${e.name}-dark`:`${t}-dark`,n=e?aR(e.colors.light):(aP.find(e=>e.name===t)||aP[0]).colors.light,a=e?aA(e.colors.dark):(aP.find(e=>e.name===t)||aP[0]).colors.dark,o=`
    [data-theme="${r}"] {
      ${aH(n,i)}
    }
    
    [data-theme="${s}"] {
      ${aH(a,i)}
    }
    
    :root {
      --${r}: 1;
      --${s}: 1;
    }
  `,l=document.createElement("style");l.id=`theme-${e?e.name:t}-styles`,l.textContent=o;let u=document.getElementById(l.id);return u&&u.remove(),document.head.appendChild(l),{light:r,dark:s}},"generateDarkPalette",0,aA,"generateLightPalette",0,aR,"themes",0,aP],265267);let aN=e=>`
  .translation-source {
  }
  .translation-target {
  }
  .translation-target.hidden {
    display: none !important;
  }
  .translation-target-block {
    display: block !important;
    ${e?"margin: 0.5em 0 !important;":""}
  }
  .translation-target-toc {
    display: block !important;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,aj=()=>{let e="auto",t="default",i=!1,r=[];t=localStorage.getItem("themeColor")||"default",e=localStorage.getItem("themeMode")||"auto",r=JSON.parse(localStorage.getItem("customThemes")||"[]"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;let s="dark"===e||"auto"===e&&i,n=aP.find(e=>e.name===t);if(!n){let e=r.find(e=>e.name===t);e&&(n={name:e.name,label:e.label,colors:{light:aR(e.colors.light),dark:aA(e.colors.dark)}})}n||(n=aP[0]);let a=s?n.colors.dark:n.colors.light;return{bg:a["base-100"],fg:a["base-content"],primary:a.primary,palette:a,isDarkMode:s}};e.s(["applyFixedlayoutStyles",0,(e,t,i)=>{i||(i=aj());let{bg:r,fg:s,primary:n,isDarkMode:a}=i,o=t.overrideColor,l=t.invertImgColorInDark,u="fixed-layout-styles",d=e.getElementById(u);d&&d.remove(),(d=e.createElement("style")).id=u,d.textContent=`
    html {
      --theme-bg-color: ${r};
      --theme-fg-color: ${s};
      --theme-primary-color: ${n};
      color-scheme: ${a?"dark":"light"};
    }
    body {
      position: relative;
      background-color: var(--theme-bg-color);
    }
    #canvas {
      display: inline-block;
      width: fit-content;
      height: fit-content;
      background-color: var(--theme-bg-color);
    }
    img, canvas {
      ${a&&l?"filter: invert(100%);":""}
      ${o?`mix-blend-mode: ${a?"#000000"===r?"luminosity":"overlay":"multiply"};`:""}
    }
    img.singlePage {
      position: relative;
    }
  `,e.head.appendChild(d)},"applyImageStyle",0,e=>{e.querySelectorAll("img").forEach(e=>{let t=e.getAttribute("width");if(t&&(t.endsWith("%")||t.endsWith("vw"))){let i=parseFloat(t);isNaN(i)||(e.style.width=`${i/100*window.innerWidth}px`,e.removeAttribute("width"))}let i=e.getAttribute("height");if(i&&(i.endsWith("%")||i.endsWith("vh"))){let t=parseFloat(i);isNaN(t)||(e.style.height=`${t/100*window.innerHeight}px`,e.removeAttribute("height"))}let r=e.parentNode;if(!r||r.nodeType!==Node.ELEMENT_NODE)return;let s=Array.from(r.childNodes).some(e=>e.nodeType===Node.TEXT_NODE&&e.textContent?.trim()),n=Array.from(r.childNodes).every(e=>e.nodeType!==Node.ELEMENT_NODE||"BR"!==e.tagName);s&&n&&e.classList.add("has-text-siblings")}),e.querySelectorAll("hr").forEach(e=>{let t=window.getComputedStyle(e);t.backgroundImage&&"none"!==t.backgroundImage&&e.classList.add("background-img")})},"applyScrollModeClass",0,(e,t)=>{e.body.classList.remove("scroll-mode","paginated-mode"),e.body.classList.add(t?"scroll-mode":"paginated-mode")},"applyTableStyle",0,e=>{e.querySelectorAll("table").forEach(e=>{let t=e.parentNode;if(!t||t.nodeType!==Node.ELEMENT_NODE)return;let i=0;for(let t of e.querySelectorAll("tr")){let e=t.querySelectorAll("td, th"),r=0;e.forEach(e=>{let t=e.getAttribute("width"),i=e.style.width,s=t||i;if(s){let e=parseFloat(s),t=s.replace(e.toString(),"").trim();"px"!==t&&t?"%"===t&&(r+=window.innerWidth*e/100):r+=e}}),r>i&&(i=r)}if(i>0){let t=`calc(min(1, var(--available-width) / ${i}))`;e.style.transformOrigin="left top",e.style.transform=`scale(${t})`}})},"applyThemeModeClass",0,(e,t)=>{e.body.classList.remove("theme-light","theme-dark"),e.body.classList.add(t?"theme-dark":"theme-light")},"applyTranslationStyle",0,e=>{let t="translation-style",i=document.getElementById(t);i&&i.remove();let r=document.createElement("style");r.id=t,r.textContent=aN(e.showTranslateSource),document.head.appendChild(r)},"getFootnoteStyles",0,()=>`
  .duokan-footnote-content,
  .duokan-footnote-item {
    display: block !important;
  }

  body {
    padding: 1em !important;
  }

  a:any-link {
    cursor: default;
    pointer-events: none;
    text-decoration: none;
    padding: unset;
    margin: unset;
  }

  ol {
    margin: 0;
    padding: 0;
  }

  p, li, blockquote, dd {
    margin: unset !important;
    text-indent: unset !important;
  }

  div {
    margin: unset !important;
    padding: unset !important;
  }

  dt {
    font-weight: bold;
    line-height: 1.6;
  }

  .epubtype-footnote,
  aside[epub|type~="endnote"],
  aside[epub|type~="footnote"],
  aside[epub|type~="note"],
  aside[epub|type~="rearnote"] {
    display: block;
  }
`,"getStyles",0,(e,t)=>{var i,r,s,n,a,o,l,u,d,c,h,p,g,f,_,m,v,y,b,k,w,x,S;let M,$,L,E,T;t||(t=aj());let Y=(i=e.overrideLayout,r=e.marginTopPx,s=e.marginRightPx,n=e.marginBottomPx,a=e.marginLeftPx,o=e.paragraphMargin,l=e.lineHeight,u=e.wordSpacing,d=e.letterSpacing,c=e.textIndent,h=e.fullJustification,p=e.hyphenation,g=e.writingMode,f=e.vertical,`
  @namespace epub "http://www.idpf.org/2007/ops";
  html {
    --default-text-align: ${h?"justify":"start"};
    --margin-top: ${r}px;
    --margin-right: ${s}px;
    --margin-bottom: ${n}px;
    --margin-left: ${a}px;
    hanging-punctuation: allow-end last;
    orphans: 2;
    widows: 2;
  }
  [align="left"] { text-align: left; }
  [align="right"] { text-align: right; }
  [align="center"] { text-align: center; }
  [align="justify"] { text-align: justify; }
  :is(hgroup, header) p {
      text-align: unset;
      hyphens: unset;
  }
  html, body {
    ${"auto"===g?"":`writing-mode: ${g} !important;`}
    text-align: var(--default-text-align);
    max-height: unset;
    -webkit-touch-callout: none;
    -webkit-user-select: text;
  }
  body {
    overflow: unset;
    zoom: 1;
  }
  svg, img {
    height: auto;
    width: auto;
    background-color: transparent !important;
  }
  figure > div:has(img) {
    height: auto !important;
  }
  /* enlarge the clickable area of links */
  a {
    position: relative !important;
  }
  a::before {
    content: '';
    position: absolute;
    inset: -10px;
  }
  p, blockquote, dd, div:not(:has(*:not(b, a, em, i, strong, u, span))) {
    line-height: ${l} ${i?"!important":""};
    word-spacing: ${u}px ${i?"!important":""};
    letter-spacing: ${d}px ${i?"!important":""};
    text-indent: ${c}em ${i?"!important":""};
    -webkit-hyphens: ${p?"auto":"manual"};
    hyphens: ${p?"auto":"manual"};
    -webkit-hyphenate-limit-before: 3;
    -webkit-hyphenate-limit-after: 2;
    -webkit-hyphenate-limit-lines: 2;
    hanging-punctuation: allow-end last;
    widows: 2;
  }
  p.aligned-center, blockquote.aligned-center,
  dd.aligned-center, div.aligned-center {
    text-align: center ${i?"!important":""};
  }
  p.aligned-left, blockquote.aligned-left,
  dd.aligned-left, div.aligned-left {
    ${h&&i?"text-align: justify !important;":""}
  }
  p.aligned-right, blockquote.aligned-right,
  dd.aligned-right, div.aligned-right {
    text-align: right ${i?"!important":""};
  }
  p.aligned-justify, blockquote.aligned-justify,
  dd.aligned-justify, div.aligned-justify {
    ${!h&&i?"text-align: initial !important;":""};
  }
  p:has(> img:only-child), p:has(> span:only-child > img:only-child),
  p:has(> img:not(.has-text-siblings)),
  p:has(> a:first-child + img:last-child) {
    text-indent: initial !important;
  }
  blockquote[align="center"], div[align="center"],
  p[align="center"], dd[align="center"],
  p.aligned-center, blockquote.aligned-center,
  dd.aligned-center, div.aligned-center,
  li p, ol p, ul p, td p {
    text-indent: initial !important;
  }
  p {
    ${f?`margin-left: ${o}em ${i?"!important":""};`:""}
    ${f?`margin-right: ${o}em ${i?"!important":""};`:""}
    ${f?`margin-top: unset ${i?"!important":""};`:""}
    ${f?`margin-bottom: unset ${i?"!important":""};`:""}
    ${!f?`margin-top: ${o}em ${i?"!important":""};`:""}
    ${!f?`margin-bottom: ${o}em ${i?"!important":""};`:""}
    ${!f?`margin-left: unset ${i?"!important":""};`:""}
    ${!f?`margin-right: unset ${i?"!important":""};`:""}
  }
  div {
    ${f&&i?`margin-left: ${o}em !important;`:""}
    ${f&&i?`margin-right: ${o}em !important;`:""}
    ${!f&&i?`margin-top: ${o}em !important;`:""}
    ${!f&&i?`margin-bottom: ${o}em !important;`:""}
  }

  :lang(zh), :lang(ja), :lang(ko) {
    widows: 1;
    orphans: 1;
  }

  pre {
    white-space: pre-wrap !important;
  }

  .epubtype-footnote,
  aside[epub|type~="endnote"],
  aside[epub|type~="footnote"],
  aside[epub|type~="note"],
  aside[epub|type~="rearnote"] {
    display: none;
  }

  /* Now begins really dirty hacks to fix some badly designed epubs */
  body {
    line-height: unset;
  }

  img.pi {
    ${f?"transform: rotate(90deg);":""}
    ${f?"transform-origin: center;":""}
    ${f?"height: 2em;":""}
    ${f?`width: ${l}em;`:""}
    ${f?"vertical-align: unset;":""}
  }

  .duokan-footnote-content,
  .duokan-footnote-item {
    display: none;
  }

  .calibre {
    color: unset;
  }

  div:has(> img, > svg) {
    max-width: 100% !important;
  }

  body.paginated-mode td:has(img), body.paginated-mode td :has(img) {
    max-height: calc(var(--available-height) * 0.8 * 1px);
  }

  /* some epubs set insane inline-block for p */
  p {
    display: block;
  }

  /* inline images without dimension */
  .ie6 img {
    width: unset;
    height: unset;
  }
  sup img {
    height: 1em;
  }
  img.has-text-siblings {
    ${f?"width: 1em;":"height: 1em;"}
    vertical-align: baseline;
  }
  :is(div) > img.has-text-siblings[style*="object-fit"] {
    display: block;
    height: auto;
    vertical-align: unset;
  }
  .duokan-footnote img:not([class]) {
    width: 0.8em;
    height: 0.8em;
  }
  div:has(img.singlepage) {
    position: relative;
    width: auto;
    height: auto;
  }

  /* page break */
  body.paginated-mode div[style*="page-break-after: always"],
  body.paginated-mode div[style*="page-break-after:always"],
  body.paginated-mode p[style*="page-break-after: always"],
  body.paginated-mode p[style*="page-break-after:always"] {
    margin-bottom: calc(var(--available-height) * 1px);
  }

  /* workaround for some badly designed epubs */
  div.left *, p.left * { text-align: left; }
  div.right *, p.right * { text-align: right; }
  div.center *, p.center * { text-align: center; }
  div.justify *, p.justify * { text-align: justify; }

  .br {
    display: flow-root;
  }

  .h5_mainbody {
    overflow: unset !important;
  }

  .nonindent, .noindent {
    text-indent: unset !important;
  }
`),O=["ios","android"].includes((0,aO.getOSPlatform)()),D=(e.zoomLevel||100)/100,I=(_=e.serifFont,m=e.sansSerifFont,v=e.monospaceFont,y=e.defaultFont,b=e.defaultCJKFont,k=e.defaultFontSize*(O?1.25:1)*D,w=e.minimumFontSize,x=e.fontWeight,S=e.overrideFont,M=["Georgia","Times New Roman"],$=[_,...b!==_?[b]:[],...n7.SERIF_FONTS.filter(e=>e!==_&&e!==b&&!M.includes(e)),...n7.CJK_SERIF_FONTS.filter(e=>e!==_&&e!==b),...M.filter(e=>n7.SERIF_FONTS.includes(e)&&!M.includes(b)),...n7.FALLBACK_FONTS],L=[m,...b!==m?[b]:[],...n7.SANS_SERIF_FONTS.filter(e=>e!==m&&e!==b),...n7.CJK_SANS_SERIF_FONTS.filter(e=>e!==m&&e!==b),...n7.FALLBACK_FONTS],E=[v,...n7.MONOSPACE_FONTS.filter(e=>e!==v)],T="serif"===y.toLowerCase()?"--serif":"--sans-serif",`
    html {
      --serif: ${$.map(e=>`"${e}"`).join(", ")}, serif;
      --sans-serif: ${L.map(e=>`"${e}"`).join(", ")}, sans-serif;
      --monospace: ${E.map(e=>`"${e}"`).join(", ")}, monospace;
      --font-size: ${k}px;
      --min-font-size: ${w}px;
      --font-weight: ${x};
    }
    html, body {
      font-size: ${k}px !important;
      font-weight: ${x};
      -webkit-text-size-adjust: none;
      text-size-adjust: none;
    }
    /* lower specificity than ebook built-in font styles */
    html {
      font-family: var(${T}) ${S?"!important":""};
    }
    /* higher specificity than ebook built-in font styles */
    html body {
      ${S?`font-family: var(${T}) !important;`:""}
    }
    font[size="1"] {
      font-size: ${w}px;
    }
    font[size="2"] {
      font-size: ${1.5*w}px;
    }
    font[size="3"] {
      font-size: ${k}px;
    }
    font[size="4"] {
      font-size: ${1.2*k}px;
    }
    font[size="5"] {
      font-size: ${1.5*k}px;
    }
    font[size="6"] {
      font-size: ${2*k}px;
    }
    font[size="7"] {
      font-size: ${3*k}px;
    }
    /* hardcoded inline font size */
    [style*="font-size: 16px"], [style*="font-size:16px"] {
      font-size: 1rem !important;
    }
    pre, code, kbd {
      font-family: var(--monospace);
    }
    body *:not(pre, code, kbd, .code):not(pre *, code *, kbd *, .code *) {
      ${S?"font-family: revert !important;":""}
    }
  `),C=((e,t,i,r,s)=>{let{bg:n,fg:a,primary:o,isDarkMode:l}=i;return`
    html {
      --bg-texture-id: ${r};
      --theme-bg-color: ${n};
      --theme-fg-color: ${a};
      --theme-primary-color: ${o};
      --override-color: ${e};
      color-scheme: ${l?"dark":"light"};
    }
    html, body {
      color: ${a};
    }
    html[has-background], body[has-background] {
      --background-set: var(--theme-bg-color);
    }
    html {
      background-color: var(--theme-bg-color, transparent);
      background: var(--background-set, none);
    }
    section, aside, blockquote, article, nav, header, footer, main, figure,
    div, p, font, h1, h2, h3, h4, h5, h6, li, span {
      ${e?`background-color: ${n} !important;`:""}
      ${e?`color: ${a} !important;`:""}
      ${e?`border-color: ${a} !important;`:""}
    }
    pre, span { /* inline code blocks */
      ${e?`background-color: ${n} !important;`:""}
    }
    a:any-link {
      ${e?`color: ${o} !important;`:l?"color: lightblue;":""}
      text-decoration: ${s?"underline":"none"};
    }
    body.pbg {
      ${l?`background-color: ${n} !important;`:""}
    }
    img {
      ${l&&t?"filter: invert(100%);":""}
      ${!l&&e?"mix-blend-mode: multiply;":""}
    }
    /* horizontal rule #1649 */
    *:has(> hr.background-img):not(body) {
      background-color: ${n};
    }
    hr {
      mix-blend-mode: multiply;
    }
    /* inline images */
    p img, span img, sup img {
      mix-blend-mode: ${l?"screen":"multiply"};
    }
    table {
      max-width: calc(var(--available-width));
      overflow: auto;
      table-layout: fixed;
    }
    /* code */
    body.theme-dark code {
      ${l?`color: ${a}cc;`:""}
      ${l?`background: color-mix(in srgb, ${n} 90%, #000);`:""}
      ${l?`background-color: color-mix(in srgb, ${n} 90%, #000);`:""}
    }
    blockquote {
      ${l?`background: color-mix(in srgb, ${n} 80%, #000);`:""}
    }
    blockquote, table * {
      ${l&&e?`background: color-mix(in srgb, ${n} 80%, #000);`:""}
      ${l&&e?`background-color: color-mix(in srgb, ${n} 80%, #000);`:""}
    }
    /* override inline hardcoded text color */
    font[color="#000000"], font[color="#000"], font[color="black"],
    font[color="rgb(0,0,0)"], font[color="rgb(0, 0, 0)"],
    *[style*="color: rgb(0,0,0)"], *[style*="color: rgb(0, 0, 0)"],
    *[style*="color: #000"], *[style*="color: #000000"], *[style*="color: black"],
    *[style*="color:rgb(0,0,0)"], *[style*="color:rgb(0, 0, 0)"],
    *[style*="color:#000"], *[style*="color:#000000"], *[style*="color:black"] {
      color: ${a} !important;
    }
    /* for the Gutenberg eBooks */
    #pg-header * {
      color: inherit !important;
    }
    .x-ebookmaker, .x-ebookmaker-cover, .x-ebookmaker-coverpage {
      background-color: unset !important;
    }
    /* for the Feedbooks eBooks */
    .chapterHeader, .chapterHeader * {
      border-color: unset;
      background-color: ${n} !important;
    }
  `})(e.overrideColor,e.invertImgColorInDark,t,e.backgroundTextureId,e.isEink),F=aN(e.showTranslateSource),R=e.userStylesheet;return`${Y}
${I}
${C}
${F}
${R}`},"getThemeCode",0,aj,"keepTextAlignment",0,e=>{e.querySelectorAll("div, p, blockquote, dd").forEach(e=>{let t=window.getComputedStyle(e);"center"===t.textAlign?e.classList.add("aligned-center"):"left"===t.textAlign?e.classList.add("aligned-left"):"right"===t.textAlign?e.classList.add("aligned-right"):"justify"===t.textAlign&&e.classList.add("aligned-justify")})},"transformStylesheet",0,(e,t,i,r)=>{let s=["ios","android"].includes((0,aO.getOSPlatform)())?1.25:1,n=!e.includes("{"),a=/([^{]+)({[^}]+})/g;return e=(e=e.replace(a,(e,t,i)=>{let r=/text-align\s*:\s*center\s*[;$]/.test(i),s=/text-indent\s*:\s*0(?:\.0+)?(?:px|em|rem|%)?\s*[;$]/.test(i);return r&&s?t+(i=(i=i.replace(/(text-align\s*:\s*center)(\s*;|\s*$)/g,"$1 !important$2")).replace(/(text-indent\s*:\s*0(?:\.0+)?(?:px|em|rem|%)?)(\s*;|\s*$)/g,"$1 !important$2")):e})).replace(a,(e,t,i)=>/white-space\s*:\s*nowrap\s*[;$]/.test(i)?(/overflow\s*:/.test(i)||(i=i.replace(/}$/," overflow: clip !important; }")),t+i):e),n?/page-break-after\s*:\s*always\s*[;]?/.test(e)&&!/margin-bottom\s*:/.test(e)&&(e=e.replace(/;?\s*$/,"")+"; margin-bottom: calc(var(--available-height) * 1px)"):e=e.replace(a,(e,t,i)=>/page-break-after\s*:\s*always\s*[;$]/.test(i)?(/margin-bottom\s*:/.test(i)||(i=i.replace(/}$/," margin-bottom: calc(var(--available-height) * 1px); }")),t+i):e),e=(e=e.replace(a,(e,t,i)=>{if(r)return t+i;let s=[],n=!1;for(let e of["top","bottom","left","right"]){let t=RegExp(`duokan-bleed\\s*:\\s*[^;]*${e}[^;]*;`),r=RegExp(`margin-${e}\\s*:`);t.test(i)&&!r.test(i)&&(n=!0,s.push(e),i=i.replace(/}$/,` margin-${e}: calc(-1 * var(--page-margin-${e})) !important; }`))}return n&&(/position\s*:/.test(i)||(i=i.replace(/}$/," position: relative !important; }")),/overflow\s*:/.test(i)||(i=i.replace(/}$/," overflow: hidden !important; }")),/display\s*:/.test(i)||(i=i.replace(/}$/," display: flow-root !important; }")),!/width\s*:/.test(i)&&s.includes("left")&&s.includes("right")&&(i=i.replace(/}$/," width: calc(var(--_max-width) + var(--page-margin-left) + var(--page-margin-right)) !important; }").replace(/}$/," max-width: 100vw !important; }")),!/height\s*:/.test(i)&&s.includes("top")&&s.includes("bottom")&&(i=i.replace(/}$/," height: calc(100% + var(--page-margin-top) + var(--page-margin-bottom)) !important; }").replace(/}$/," max-height: 100vh !important; }"))),t+i})).replace(/font-size\s*:\s*xx-small/gi,"font-size: 0.6rem").replace(/font-size\s*:\s*x-small/gi,"font-size: 0.75rem").replace(/font-size\s*:\s*small/gi,"font-size: 0.875rem").replace(/font-size\s*:\s*medium/gi,"font-size: 1rem").replace(/font-size\s*:\s*large/gi,"font-size: 1.2rem").replace(/font-size\s*:\s*x-large/gi,"font-size: 1.5rem").replace(/font-size\s*:\s*xx-large/gi,"font-size: 2rem").replace(/font-size\s*:\s*xxx-large/gi,"font-size: 3rem").replace(/font-size\s*:\s*(\d+(?:\.\d+)?)px/gi,(e,t)=>{let i=parseFloat(t)/s/16;return`font-size: ${i}rem`}).replace(/font-size\s*:\s*(\d+(?:\.\d+)?)pt/gi,(e,t)=>{let i=parseFloat(t)/s/12;return`font-size: ${i}rem`}).replace(/font-size\s*:\s*(\d*\.?\d+)(px|rem|em|%)?/gi,(e,t,i="px")=>`font-size: max(${t}${i}, var(--min-font-size, 8px))`).replace(/(\d*\.?\d+)vw/gi,(e,i)=>parseFloat(i)*t/100+"px").replace(/(\d*\.?\d+)vh/gi,(e,t)=>parseFloat(t)*i/100+"px").replace(/([\s;])font-family\s*:\s*monospace/gi,"$1font-family: var(--monospace)").replace(/([\s;])font-weight\s*:\s*normal/gi,"$1font-weight: var(--font-weight)").replace(/([\s;])color\s*:\s*black/gi,"$1color: var(--theme-fg-color)").replace(/([\s;])color\s*:\s*#000000/gi,"$1color: var(--theme-fg-color)").replace(/([\s;])color\s*:\s*#000/gi,"$1color: var(--theme-fg-color)").replace(/([\s;])color\s*:\s*rgb\(0,\s*0,\s*0\)/gi,"$1color: var(--theme-fg-color)")}],769818);var az=e.i(316217),aq=e.i(75751),aU=e.i(479217);let aB=n9((e,t)=>{let i=localStorage&&localStorage.getItem("themeMode")||"auto",r=(()=>{if(localStorage){let e=window.__READEST_IS_EINK?"contrast":"default";return localStorage.getItem("themeColor")||e}return"default"})(),s=window.matchMedia("(prefers-color-scheme: dark)").matches;return{themeMode:i,themeColor:r,systemIsDarkMode:s,isDarkMode:"dark"===i||"auto"===i&&s,isEinkMode:!1,themeCode:aj(),systemUIVisible:!1,statusBarHeight:24,systemUIAlwaysHidden:!1,safeAreaInsets:{top:0,right:0,bottom:0,left:0},isRoundedWindow:!0,showSystemUI:()=>e({systemUIVisible:!0}),dismissSystemUI:()=>e({systemUIVisible:!1}),setStatusBarHeight:t=>e({statusBarHeight:t}),setSystemUIAlwaysHidden:t=>e({systemUIAlwaysHidden:t}),getIsDarkMode:()=>t().isDarkMode,setIsEinkMode:t=>{e({isEinkMode:t})},setThemeMode:i=>{localStorage&&localStorage.setItem("themeMode",i);let r="dark"===i||"auto"===i&&t().systemIsDarkMode;document.documentElement.setAttribute("data-theme",`${t().themeColor}-${r?"dark":"light"}`),e({themeMode:i,isDarkMode:r}),e({themeCode:aj()})},setThemeColor:i=>{localStorage&&localStorage.setItem("themeColor",i),document.documentElement.setAttribute("data-theme",`${i}-${t().isDarkMode?"dark":"light"}`),e({themeColor:i}),e({themeCode:aj()})},updateAppTheme:e=>{if((0,aU.isWebAppPlatform)()){let{palette:i}=t().themeCode;document.querySelector('meta[name="theme-color"]')?.setAttribute("content",i[e])}},saveCustomTheme:async(e,t,i,r)=>{let s=t.globalReadSettings.customThemes||[],n=s.findIndex(e=>e.name===i.name);r?n>-1&&s.splice(n,1):n>-1?s[n]=i:s.push(i),t.globalReadSettings.customThemes=s,localStorage.setItem("customThemes",JSON.stringify(s));let a=await e.getAppService();await a.saveSettings(t)},handleSystemThemeChange:i=>{let r=t().themeMode,s="dark"===r||"auto"===r&&i;e({systemIsDarkMode:i,isDarkMode:s})},updateSafeAreaInsets:t=>{e({safeAreaInsets:t})}}});e.s(["initSystemThemeListener",0,e=>{if(!e)return;let t=window.matchMedia("(prefers-color-scheme: dark)"),i=async()=>{let i;i=e.isIOSApp?"dark"===(await (0,az.getSystemColorScheme)()).colorScheme:t.matches,aB.getState().handleSystemThemeChange(i)},r=async()=>{if(!e.hasWindow||!e.isLinuxApp)return;let t=(0,aq.getCurrentWindow)(),i=await t.isFullscreen(),r=await t.isMaximized();aB.setState({isRoundedWindow:!r&&!i})};t?.addEventListener("change",i),document.addEventListener("visibilitychange",i),window.addEventListener("resize",r),i()},"loadDataTheme",0,()=>{if("undefined"==typeof localStorage||"undefined"==typeof document)return;let e=localStorage.getItem("themeMode"),t=localStorage.getItem("themeColor");if(e&&t){let i=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",`${t}-${"dark"===e||"auto"===e&&i?"dark":"light"}`)}},"useThemeStore",0,aB],911678)},55956,(e,t,i)=>{e.e,t.exports=function(){"use strict";var e="millisecond",t="second",i="minute",r="hour",s="week",n="month",a="quarter",o="year",l="date",u="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(e,t,i){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(i)+e},p="en",g={};g[p]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}};var f="$isDayjsObject",_=function(e){return e instanceof b||!(!e||!e[f])},m=function e(t,i,r){var s;if(!t)return p;if("string"==typeof t){var n=t.toLowerCase();g[n]&&(s=n),i&&(g[n]=i,s=n);var a=t.split("-");if(!s&&a.length>1)return e(a[0])}else{var o=t.name;g[o]=t,s=o}return!r&&s&&(p=s),s||!r&&p},v=function(e,t){if(_(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new b(i)},y={s:h,z:function(e){var t=-e.utcOffset(),i=Math.abs(t);return(t<=0?"+":"-")+h(Math.floor(i/60),2,"0")+":"+h(i%60,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var r=12*(i.year()-t.year())+(i.month()-t.month()),s=t.clone().add(r,n),a=i-s<0,o=t.clone().add(r+(a?-1:1),n);return+(-(r+(i-s)/(a?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return({M:n,y:o,w:s,d:"day",D:l,h:r,m:i,s:t,ms:e,Q:a})[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};y.l=m,y.i=_,y.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var b=function(){function h(e){this.$L=m(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[f]=!0}var p=h.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(d);if(r){var s=r[2]-1||0,n=(r[7]||"0").substring(0,3);return i?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,n)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,n)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return y},p.isValid=function(){return this.$d.toString()!==u},p.isSame=function(e,t){var i=v(e);return this.startOf(t)<=i&&i<=this.endOf(t)},p.isAfter=function(e,t){return v(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<v(e)},p.$g=function(e,t,i){return y.u(e)?this[t]:this.set(i,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,a){var u=this,d=!!y.u(a)||a,c=y.p(e),h=function(e,t){var i=y.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return d?i:i.endOf("day")},p=function(e,t){return y.w(u.toDate()[e].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},g=this.$W,f=this.$M,_=this.$D,m="set"+(this.$u?"UTC":"");switch(c){case o:return d?h(1,0):h(31,11);case n:return d?h(1,f):h(0,f+1);case s:var v=this.$locale().weekStart||0,b=(g<v?g+7:g)-v;return h(d?_-b:_+(6-b),f);case"day":case l:return p(m+"Hours",0);case r:return p(m+"Minutes",1);case i:return p(m+"Seconds",2);case t:return p(m+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(s,a){var u,d=y.p(s),c="set"+(this.$u?"UTC":""),h=((u={}).day=c+"Date",u[l]=c+"Date",u[n]=c+"Month",u[o]=c+"FullYear",u[r]=c+"Hours",u[i]=c+"Minutes",u[t]=c+"Seconds",u[e]=c+"Milliseconds",u)[d],p="day"===d?this.$D+(a-this.$W):a;if(d===n||d===o){var g=this.clone().set(l,1);g.$d[h](p),g.init(),this.$d=g.set(l,Math.min(this.$D,g.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[y.p(e)]()},p.add=function(e,a){var l,u=this;e=Number(e);var d=y.p(a),c=function(t){var i=v(u);return y.w(i.date(i.date()+Math.round(t*e)),u)};if(d===n)return this.set(n,this.$M+e);if(d===o)return this.set(o,this.$y+e);if("day"===d)return c(1);if(d===s)return c(7);var h=((l={})[i]=6e4,l[r]=36e5,l[t]=1e3,l)[d]||1,p=this.$d.getTime()+e*h;return y.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||u;var r=e||"YYYY-MM-DDTHH:mm:ssZ",s=y.z(this),n=this.$H,a=this.$m,o=this.$M,l=i.weekdays,d=i.months,h=i.meridiem,p=function(e,i,s,n){return e&&(e[i]||e(t,r))||s[i].slice(0,n)},g=function(e){return y.s(n%12||12,e,"0")},f=h||function(e,t,i){var r=e<12?"AM":"PM";return i?r.toLowerCase():r};return r.replace(c,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return y.s(t.$y,4,"0");case"M":return o+1;case"MM":return y.s(o+1,2,"0");case"MMM":return p(i.monthsShort,o,d,3);case"MMMM":return p(d,o);case"D":return t.$D;case"DD":return y.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(i.weekdaysMin,t.$W,l,2);case"ddd":return p(i.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(n);case"HH":return y.s(n,2,"0");case"h":return g(1);case"hh":return g(2);case"a":return f(n,a,!0);case"A":return f(n,a,!1);case"m":return String(a);case"mm":return y.s(a,2,"0");case"s":return String(t.$s);case"ss":return y.s(t.$s,2,"0");case"SSS":return y.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")})},p.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},p.diff=function(e,l,u){var d,c=this,h=y.p(l),p=v(e),g=(p.utcOffset()-this.utcOffset())*6e4,f=this-p,_=function(){return y.m(c,p)};switch(h){case o:d=_()/12;break;case n:d=_();break;case a:d=_()/3;break;case s:d=(f-g)/6048e5;break;case"day":d=(f-g)/864e5;break;case r:d=f/36e5;break;case i:d=f/6e4;break;case t:d=f/1e3;break;default:d=f}return u?d:y.a(d)},p.daysInMonth=function(){return this.endOf(n).$D},p.$locale=function(){return g[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),r=m(e,t,!0);return r&&(i.$L=r),i},p.clone=function(){return y.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),k=b.prototype;return v.prototype=k,[["$ms",e],["$s",t],["$m",i],["$H",r],["$W","day"],["$M",n],["$y",o],["$D",l]].forEach(function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),v.extend=function(e,t){return e.$i||(e(t,b,v),e.$i=!0),v},v.locale=m,v.isDayjs=_,v.unix=function(e){return v(1e3*e)},v.en=g[p],v.Ls=g,v.p={},v}()},488194,(e,t,i)=>{e.e,t.exports=function(e,t,i){e=e||{};var r=t.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function n(e,t,i,s){return r.fromToBase(e,t,i,s)}i.en.relativeTime=s,r.fromToBase=function(t,r,n,a,o){for(var l,u,d,c=n.$locale().relativeTime||s,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,g=0;g<p;g+=1){var f=h[g];f.d&&(l=a?i(t).diff(n,f.d,!0):n.diff(t,f.d,!0));var _=(e.rounding||Math.round)(Math.abs(l));if(d=l>0,_<=f.r||!f.r){_<=1&&g>0&&(f=h[g-1]);var m=c[f.l];o&&(_=o(""+_)),u="string"==typeof m?m.replace("%d",_):m(_,r,f.l,d);break}}if(r)return u;var v=d?c.future:c.past;return"function"==typeof v?v(u):v.replace("%s",u)},r.to=function(e,t){return n(e,t,this,!0)},r.from=function(e,t){return n(e,t,this)};var a=function(e){return e.$u?i.utc():i()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}},549984,(e,t,i)=>{e.e,t.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||t[0])+"]"}}},104171,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"zh",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(e,t){var i=100*e+t;return i<600?"":i<900?"":i<1100?"":i<1300?"":i<1800?"":""}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},830559,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function i(e,i,r){var s=t[r];return Array.isArray(s)&&(s=s[+!i]),s.replace("%d",e)}var r={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(r,null,!0),r}(e.r(55956))},949928,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"ja",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e){return e+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiem:function(e){return e<12?"":""},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},79626,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"ko",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e){return e+""},formats:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},meridiem:function(e){return e<12?"":""},relativeTime:{future:"%s ",past:"%s ",s:" ",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},220001,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t="___________".split("_"),i="___________".split("_"),r="._._._.____._._._._.".split("_"),s="._.__.____._._._._.".split("_"),n=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function a(e,t,i){var r,s;return"m"===i?t?"":"":e+" "+(r=+e,s=({mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"})[i].split("_"),r%10==1&&r%100!=11?s[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?s[1]:s[2])}var o=function(e,r){return n.test(r)?t[e.month()]:i[e.month()]};o.s=i,o.f=t;var l=function(e,t){return n.test(t)?r[e.month()]:s[e.month()]};l.s=s,l.f=r;var u={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:o,monthsShort:l,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:a,mm:a,h:"",hh:a,d:"",dd:a,M:"",MM:a,y:"",yy:a},ordinal:function(e){return e},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(u,null,!0),u}(e.r(55956))},819812,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return""+e+(1===e?"er":"")}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},246512,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"el",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),ordinal:function(e){return e},weekStart:1,relativeTime:{future:" %s",past:" %s",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},961999,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(e){return e+""}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},955406,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"it",weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(e){return e+""}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},460596,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"pt",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2_3_4_5_6_Sa".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},535321,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"pt-br",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(e){return e+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},611784,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t="___________".split("_"),i={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},r={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},s={name:"ar",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:t,monthsShort:t,weekStart:6,meridiem:function(e){return e>12?"":""},relativeTime:{future:" %s",past:" %s",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return r[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return i[e]}).replace(/,/g,"")},ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(s,null,!0),s}(e.r(55956))},751840,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"id",weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),weekStart:1,formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},348863,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"hi",weekdays:"______".split("_"),months:"___________".split("_"),weekdaysShort:"______".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdaysMin:"______".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},695022,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"th",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},509254,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"tr",weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e){return e+"."}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},61947,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"vi",weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),weekStart:1,weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},177707,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t="___________".split("_"),i="___________".split("_"),r=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function s(e,t,i){var r,s;return"m"===i?t?"":"":"h"===i?t?"":"":e+" "+(r=+e,s=({ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"})[i].split("_"),r%10==1&&r%100!=11?s[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?s[1]:s[2])}var n=function(e,s){return r.test(s)?t[e.month()]:i[e.month()]};n.s=i,n.f=t;var a={name:"uk",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:n,monthsShort:"___________".split("_"),weekStart:1,relativeTime:{future:" %s",past:"%s ",s:" ",m:s,mm:s,h:s,hh:s,d:"",dd:s,M:"",MM:s,y:"",yy:s},ordinal:function(e){return e},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(a,null,!0),a}(e.r(55956))},566268,(e,t,i)=>{e.e,t.exports=function(e){"use strict";function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,i,r){var s=e+" ";switch(r){case"m":return i?"minuta":"minut";case"mm":return s+(t(e)?"minuty":"minut");case"h":return i?"godzina":"godzin";case"hh":return s+(t(e)?"godziny":"godzin");case"MM":return s+(t(e)?"miesice":"miesicy");case"yy":return s+(t(e)?"lata":"lat")}}var r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),s="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n=/D MMMM/,a=function(e,t){return n.test(t)?r[e.month()]:s[e.month()]};a.s=s,a.f=r;var o={name:"pl",weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),months:a,monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(o,null,!0),o}(e.r(55956))},562667,(e,t,i)=>{e.e,t.exports=function(e){"use strict";function t(e,t,i,r){var s=r&&!t?{s:"muutaman sekunnin",m:"minuutin",mm:"%d minuutin",h:"tunnin",hh:"%d tunnin",d:"pivn",dd:"%d pivn",M:"kuukauden",MM:"%d kuukauden",y:"vuoden",yy:"%d vuoden",numbers:"nollan_yhden_kahden_kolmen_neljn_viiden_kuuden_seitsemn_kahdeksan_yhdeksn".split("_")}:{s:"muutama sekunti",m:"minuutti",mm:"%d minuuttia",h:"tunti",hh:"%d tuntia",d:"piv",dd:"%d piv",M:"kuukausi",MM:"%d kuukautta",y:"vuosi",yy:"%d vuotta",numbers:"nolla_yksi_kaksi_kolme_nelj_viisi_kuusi_seitsemn_kahdeksan_yhdeksn".split("_")},n=s[i];return e<10?n.replace("%d",s.numbers[e]):n.replace("%d",e)}var i={name:"fi",weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),ordinal:function(e){return e+"."},weekStart:1,yearStart:4,relativeTime:{future:"%s pst",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},formats:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM[ta] YYYY",LLL:"D. MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, D. MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"D. MMM YYYY",lll:"D. MMM YYYY, [klo] HH.mm",llll:"ddd, D. MMM YYYY, [klo] HH.mm"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(i,null,!0),i}(e.r(55956))},381366,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"nl",weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),ordinal:function(e){return"["+e+(1===e||8===e||e>=20?"ste":"de")+"]"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"een minuut",mm:"%d minuten",h:"een uur",hh:"%d uur",d:"een dag",dd:"%d dagen",M:"een maand",MM:"%d maanden",y:"een jaar",yy:"%d jaar"}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},573606,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"ro",weekdays:"Duminic_Luni_Mari_Miercuri_Joi_Vineri_Smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian._Febr._Mart._Apr._Mai_Iun._Iul._Aug._Sept._Oct._Nov._Dec.".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},relativeTime:{future:"peste %s",past:"acum %s",s:"cteva secunde",m:"un minut",mm:"%d minute",h:"o or",hh:"%d ore",d:"o zi",dd:"%d zile",M:"o lun",MM:"%d luni",y:"un an",yy:"%d ani"},ordinal:function(e){return e}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},209621,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"zh-tw",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(e,t){var i=100*e+t;return i<600?"":i<900?"":i<1100?"":i<1300?"":i<1800?"":""}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},52477,(e,t,i)=>{e.e,t.exports=function(e){"use strict";var t={name:"zh-cn",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),ordinal:function(e,t){return"W"===t?e+"":e+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},meridiem:function(e,t){var i=100*e+t;return i<600?"":i<900?"":i<1100?"":i<1300?"":i<1800?"":""}};return(e&&"object"==typeof e&&"default"in e?e:{default:e}).default.locale(t,null,!0),t}(e.r(55956))},858837,746314,e=>{"use strict";var t=e.i(991425),i=e.i(571975),r=e.i(55956),s=e.i(488194);e.i(549984),e.i(104171),e.i(830559),e.i(949928),e.i(79626),e.i(220001),e.i(819812),e.i(246512),e.i(961999),e.i(955406),e.i(460596),e.i(535321),e.i(611784),e.i(751840),e.i(348863),e.i(695022),e.i(509254),e.i(61947),e.i(177707),e.i(566268),e.i(562667),e.i(381366),e.i(573606),e.i(209621),e.i(52477);let n=e=>{r.default.locale(e),r.default.extend(s.default)};e.s(["initDayjs",0,n],746314);let a=(0,i.create)(e=>({settings:{},settingsDialogBookKey:"",isSettingsDialogOpen:!1,isSettingsGlobal:!0,fontPanelView:"main-fonts",setSettings:t=>e({settings:t}),saveSettings:async(e,t)=>{let i=await e.getAppService();await i.saveSettings(t)},setSettingsDialogBookKey:t=>e({settingsDialogBookKey:t}),setSettingsDialogOpen:t=>e({isSettingsDialogOpen:t}),setSettingsGlobal:t=>e({isSettingsGlobal:t}),setFontPanelView:t=>e({fontPanelView:t}),applyUILanguage:e=>{let i=e||navigator.language;t.default.changeLanguage(i),n(i)}}));e.s(["useSettingsStore",0,a],858837)},885972,(e,t,i)=>{"use strict";i.match=function(e,t){return l(e).some(function(e){var i=e.inverse,r="all"===e.type||t.type===e.type;if(r&&i||!(r||i))return!1;var s=e.expressions.every(function(e){var i=e.feature,r=e.modifier,s=e.value,n=t[i];if(!n)return!1;switch(i){case"orientation":case"scan":return n.toLowerCase()===s.toLowerCase();case"width":case"height":case"device-width":case"device-height":s=c(s),n=c(n);break;case"resolution":s=d(s),n=d(n);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":s=u(s),n=u(n);break;case"grid":case"color":case"color-index":case"monochrome":s=parseInt(s,10)||1,n=parseInt(n,10)||0}switch(r){case"min":return n>=s;case"max":return n<=s;default:return n===s}});return s&&!i||!s&&i})},i.parse=l;var r=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,s=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,n=/^(?:(min|max)-)?(.+)/,a=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function l(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(r),i=t[1],a=t[2],o=t[3]||"",l={};return l.inverse=!!i&&"not"===i.toLowerCase(),l.type=a?a.toLowerCase():"all",l.expressions=(o=o.match(/\([^\)]+\)/g)||[]).map(function(e){var t=e.match(s),i=t[1].toLowerCase().match(n);return{modifier:i[1],feature:i[2],value:t[2]}}),l})}function u(e){var t,i=Number(e);return i||(i=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),i}function d(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function c(e){var t=parseFloat(e);switch(String(e).match(a)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},968252,(e,t,i)=>{"use strict";var r=e.r(885972).match,s="undefined"!=typeof window?window.matchMedia:null;function n(e,t,i){var n,a=this;function o(e){a.matches=e.matches,a.media=e.media}s&&!i&&(n=s.call(window,e)),n?(this.matches=n.matches,this.media=n.media,n.addListener(o)):(this.matches=r(e,t),this.media=e),this.addListener=function(e){n&&n.addListener(e)},this.removeListener=function(e){n&&n.removeListener(e)},this.dispose=function(){n&&n.removeListener(o)}}t.exports=function(e,t,i){return new n(e,t,i)}},97992,(e,t,i)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},133723,(e,t,i)=>{"use strict";var r=e.r(97992);function s(){}function n(){}n.resetWarningCache=s,t.exports=function(){function e(e,t,i,s,n,a){if(a!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:s};return i.PropTypes=i,i}},203537,(e,t,i)=>{t.exports=e.r(133723)()},960720,57338,918438,187212,557020,e=>{"use strict";var t=e.i(136960),i=e.i(968252),r=/[A-Z]/g,s=/^ms-/,n={};function a(e){return"-"+e.toLowerCase()}let o=function(e){if(n.hasOwnProperty(e))return n[e];var t=e.replace(r,a);return n[e]=s.test(t)?"-"+t:t};var l=e.i(203537);let u=l.default.oneOfType([l.default.string,l.default.number]),d={all:l.default.bool,grid:l.default.bool,aural:l.default.bool,braille:l.default.bool,handheld:l.default.bool,print:l.default.bool,projection:l.default.bool,screen:l.default.bool,tty:l.default.bool,tv:l.default.bool,embossed:l.default.bool},{type:c,...h}={orientation:l.default.oneOf(["portrait","landscape"]),scan:l.default.oneOf(["progressive","interlace"]),aspectRatio:l.default.string,deviceAspectRatio:l.default.string,height:u,deviceHeight:u,width:u,deviceWidth:u,color:l.default.bool,colorIndex:l.default.bool,monochrome:l.default.bool,resolution:u,type:Object.keys(d)},p={minAspectRatio:l.default.string,maxAspectRatio:l.default.string,minDeviceAspectRatio:l.default.string,maxDeviceAspectRatio:l.default.string,minHeight:u,maxHeight:u,minDeviceHeight:u,maxDeviceHeight:u,minWidth:u,maxWidth:u,minDeviceWidth:u,maxDeviceWidth:u,minColor:l.default.number,maxColor:l.default.number,minColorIndex:l.default.number,maxColorIndex:l.default.number,minMonochrome:l.default.number,maxMonochrome:l.default.number,minResolution:u,maxResolution:u,...h};var g={...d,...p};let f=(0,t.createContext)(void 0),_=e=>{if(e)return Object.keys(e).reduce((t,i)=>(t[o(i)]=e[i],t),{})},m=()=>{let e=(0,t.useRef)(!1);return(0,t.useEffect)(()=>{e.current=!0},[]),e.current},v=(e,r,s)=>{let n=(e=>{let i=(0,t.useContext)(f),r=()=>_(e)||_(i),[s,n]=(0,t.useState)(r);return(0,t.useEffect)(()=>{let e=r();!function(e,t){if(e===t)return!0;if(!e||!t)return!1;let i=Object.keys(e),r=Object.keys(t),s=i.length;if(r.length!==s)return!1;for(let r=0;r<s;r++){let s=i[r];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}(s,e)&&n(e)},[e,i]),s})(r),a=(e=>{let i=()=>{let t;return e.query||(t=[],Object.keys(g).forEach(i=>{let r=e[i];null!=r&&t.push(((e,t)=>{let i=o(e);if("number"==typeof t&&(t=`${t}px`),!0===t)return i;if(!1===t)return`not ${i}`;return`(${i}: ${t})`})(i,r))}),t.join(" and "))},[r,s]=(0,t.useState)(i);return(0,t.useEffect)(()=>{let e=i();r!==e&&s(e)},[e]),r})(e);if(!a)throw Error("Invalid or missing MediaQuery!");let l=((e,r)=>{let s=()=>(0,i.default)(e,r||{},!!r),[n,a]=(0,t.useState)(s),o=m();return(0,t.useEffect)(()=>{if(o){let e=s();return a(e),()=>{e&&e.dispose()}}},[e,r]),n})(a,n),u=(e=>{let[i,r]=(0,t.useState)(e.matches);return(0,t.useEffect)(()=>{let t=e=>{r(e.matches)};return e.addListener(t),r(e.matches),()=>{e.removeListener(t)}},[e]),i})(l),d=m();return(0,t.useEffect)(()=>{d&&s&&s(u)},[u]),(0,t.useEffect)(()=>()=>{l&&l.dispose()},[]),u},y=e=>{let t=v({maxWidth:480}),i=v({minWidth:481,maxWidth:1024});return t||i?1.25*e:e};e.s(["useDefaultIconSize",0,()=>y(20),"useResponsiveSize",0,y],960720);var b=e.i(571975),k=e.i(528934),w=e.i(908547);let x=[{id:"none",name:"None",url:"",loaded:!0},{id:"concrete",name:"Concrete",url:"/images/concrete-texture.png",loaded:!0},{id:"paper",name:"Paper",url:"/images/paper-texture.png",loaded:!0},{id:"sand",name:"Sand",url:"/images/sand-texture.jpg",loaded:!0},{id:"parchment",name:"Parchment",url:"/images/parchment-paper.jpg",loaded:!0},{id:"scrapbook",name:"Scrapbook",url:"/images/scrapbook-texture.jpg",loaded:!0},{id:"leaves",name:"Leaves",url:"/images/leaves-pattern.jpg",loaded:!0},{id:"moon",name:"Moon Sky",url:"/images/moon-sky.jpg",loaded:!0},{id:"night-sky",name:"Night Sky",url:"/images/night-sky.jpg",loaded:!0}];function S(e){let t=(0,k.getFilename)(e).replace(/\.(jpg|jpeg|png|gif|bmp|webp)$/i,"");return{id:(0,w.md5Fingerprint)(t),name:t,path:e}}let M="background-texture",$=(e,t)=>{let i=e.getElementById(M)||e.createElement("style");i.id=M,i.textContent=`
    .sidebar-container, .notebook-container, .foliate-viewer {
      position: relative;
    }

    body::before, .sidebar-container::before, .notebook-container::before,
    .foliate-viewer::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      z-index: 0;
      background-image: url("${t.blobUrl||t.url}");
      background-repeat: repeat;
      background-size: var(--bg-texture-size, cover);
      mix-blend-mode: var(--bg-texture-blend-mode, multiply);
      opacity: var(--bg-texture-opacity, 0.6);
    }
    body::before {
      height: 100vh;
    }
    `,i.parentNode||e.head.appendChild(i)},L=e=>{let t=e.getElementById(M);t&&t.parentNode&&t.parentNode.removeChild(t)};e.s(["PREDEFINED_TEXTURES",0,x,"createCustomTexture",()=>S,"mountBackgroundTexture",0,$,"unmountBackgroundTexture",0,L],57338);var E=e.i(858837);function T(e){let{blobUrl:t,loaded:i,error:r,...s}=e;return s}let Y=(0,b.create)((e,t)=>({textures:[],loading:!1,setTextures:t=>e({textures:t}),addTexture:i=>{let r=S(i),s=t().textures.find(e=>e.id===r.id);if(s)return t().updateTexture(r.id,{...r,path:r.path,downloadedAt:Date.now(),deletedAt:void 0,loaded:!1,blobUrl:void 0,error:void 0}),e(e=>({textures:[...e.textures]})),s;let n={...r,downloadedAt:Date.now()};return e(e=>({textures:[...e.textures,n]})),n},removeTexture:i=>{let r=t().getTexture(i);if(!r)return!1;r.blobUrl&&URL.revokeObjectURL(r.blobUrl);let s=t().updateTexture(i,{deletedAt:Date.now(),blobUrl:void 0,loaded:!1,error:void 0});return e(e=>({textures:[...e.textures]})),s},updateTexture:(i,r)=>{let s=t().textures.findIndex(e=>e.id===i);return -1!==s&&(e(e=>({textures:e.textures.map((e,t)=>t===s?{...e,...r}:e)})),!0)},getTexture:e=>t().textures.find(t=>t.id===e),getAllTextures:()=>t().textures,getAvailableTextures:()=>t().textures.filter(e=>!e.deletedAt),clearAllTextures:()=>{let{textures:i}=t();i.forEach(e=>{e.blobUrl&&URL.revokeObjectURL(e.blobUrl)}),e({textures:[]})},loadTexture:async(e,i)=>{let r=t().getTexture(i);if(!r)throw Error(`Texture with id "${i}" not found`);if(r.deletedAt)throw Error(`Texture "${r.name}" has been deleted`);if(r.loaded&&r.blobUrl&&!r.error)return r;try{t().updateTexture(i,{loaded:!1,error:void 0});let s=await e.getAppService(),n=await s.openFile(r.path,"Images"),a=r.path.split(".").pop()?.toLowerCase(),o=new Blob([await n.arrayBuffer()],{type:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",bmp:"image/bmp"}[a||""]||"image/jpeg"}),l=URL.createObjectURL(o);return t().updateTexture(i,{blobUrl:l,loaded:!0,error:void 0}),t().getTexture(i)}catch(r){let e=r instanceof Error?r.message:"Unknown error";throw t().updateTexture(i,{loaded:!1,error:e,blobUrl:void 0}),r}},loadTextures:async(i,r)=>{e({loading:!0});try{return(await Promise.allSettled(r.map(e=>t().loadTexture(i,e)))).filter(e=>"fulfilled"===e.status).map(e=>e.value)}finally{e({loading:!1})}},loadAllTextures:async e=>{let i=t().getAvailableTextures().map(e=>e.id);return await t().loadTextures(e,i)},unloadTexture:e=>{let i=t().getTexture(e);return i?.blobUrl&&URL.revokeObjectURL(i.blobUrl),t().updateTexture(e,{blobUrl:void 0,loaded:!1,error:void 0})},unloadAllTextures:()=>{let e=t().getAllTextures();e.forEach(e=>{e.blobUrl&&URL.revokeObjectURL(e.blobUrl)}),e.forEach(e=>{t().updateTexture(e.id,{blobUrl:void 0,loaded:!1,error:void 0})})},getLoadedTextures:()=>t().getAvailableTextures().filter(e=>e.loaded&&!e.error),isTextureLoaded:e=>{let i=t().getTexture(e);return i?.loaded===!0&&!i.error&&!i.deletedAt},applyTexture:async(e,i)=>{let r=t().getAvailableTextures(),s=[...x,...r].find(e=>e.id===i);s&&"none"!==s.id?(r.find(e=>e.id===i)&&!t().isTextureLoaded(i)&&(s=await t().loadTexture(e,i)),$(document,s)):L(document)},loadCustomTextures:async i=>{try{let{settings:r}=E.useSettingsStore.getState(),s=t().textures;if(r?.customTextures){let n=r.customTextures.map(e=>{let t=s.find(t=>t.id===e.id);return{...e,loaded:t?.loaded||!1,error:t?.error,blobUrl:t?.blobUrl}});e({textures:n}),await t().loadAllTextures(i)}}catch(e){console.error("Failed to load custom textures settings:",e)}},saveCustomTextures:async e=>{try{let{settings:i,setSettings:r,saveSettings:s}=E.useSettingsStore.getState(),{textures:n}=t();i.customTextures=n.map(T),r(i),s(e,i)}catch(e){throw console.error("Failed to save custom textures settings:",e),e}}}));window.addEventListener("beforeunload",()=>{Y.getState().getAllTextures().forEach(e=>{e.blobUrl&&URL.revokeObjectURL(e.blobUrl)})}),e.s(["useCustomTextureStore",0,Y],918438),e.s(["useBackgroundTexture",0,()=>({applyBackgroundTexture:(0,t.useCallback)((e,t)=>{let i=t.backgroundTextureId,r=t.backgroundOpacity,s=t.backgroundSize;if(!i||"none"===i)return;document.documentElement.style.setProperty("--bg-texture-opacity",`${r}`),document.documentElement.style.setProperty("--bg-texture-size",s);let n=E.useSettingsStore.getState().settings,a=n.customTextures?.find(e=>e.id===i);a&&Y.getState().addTexture(a.path),Y.getState().applyTexture(e,i)},[])})],187212);var O=e.i(911678);e.s(["useEinkMode",0,()=>{let{setIsEinkMode:e}=(0,O.useThemeStore)();return{applyEinkMode:(0,t.useCallback)(t=>{e(t),t?document.body.classList.add("no-transitions"):document.body.classList.remove("no-transitions"),document.documentElement.setAttribute("data-eink",t.toString())},[e])}}],557020)}]);