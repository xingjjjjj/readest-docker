module.exports=[191587,e=>{"use strict";e.i(399577);let t=()=>localStorage?.getItem("i18nextLng")||navigator?.language||"";e.s(["getLocale",0,t,"getOSPlatform",0,()=>{let e=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)?"ios":e.includes("android")?"android":e.includes("macintosh")||e.includes("mac os x")?"macos":e.includes("windows nt")?"windows":e.includes("linux")?"linux":"unknown"},"getTargetLang",0,()=>{let e=t();return e.startsWith("zh")?"zh-Hant"===e||"zh-HK"===e||"zh-TW"===e?"zh-Hant":"zh-Hans":e.split("-")[0]||"en"},"getUserLang",0,()=>t().split("-")[0]||"en","isCJKEnv",0,()=>{let e=navigator.language||"",t=localStorage?.getItem("i18nextLng")||"",n=["zh","ja","ko"].some(e=>t.startsWith(e));return["zh","ja","ko"].some(t=>e.startsWith(t))||n},"isContentURI",0,e=>e.startsWith("content://"),"isFileURI",0,e=>e.startsWith("file://"),"isValidURL",0,(e,t=["http","https"])=>{try{let{protocol:n}=new URL(e);return t.some(e=>`${e}:`===n)}catch{return!1}},"makeSafeFilename",0,(e,t="_")=>{let n=e.replace(/[<>:%"\/\\|?*\x00-\x1F]/g,t);/^(con|prn|aux|nul|com[1-9]|lpt[1-9])$/i.test(n)&&(n=`${n}${t}`);let a=new TextEncoder,r=a.encode(n);for(;r.length>250;)n=n.slice(0,-1),r=a.encode(n);return n.trim()},"stubTranslation",0,e=>e])},827667,e=>{"use strict";var t=e.i(191587);let n="Readest",a=`${n}/Books`,r=`${n}/Fonts`,i=`${n}/Images`;["epub","mobi","azw","azw3","fb2","zip","cbz","pdf","txt"].map(e=>`.${e}`).join(", "),["png","jpg","jpeg"].map(e=>`.${e}`).join(", "),(0,t.stubTranslation)("LXGW WenKai GB Screen"),(0,t.stubTranslation)("LXGW WenKai TC"),(0,t.stubTranslation)("GuanKiapTsingKhai-T"),(0,t.stubTranslation)("Source Han Serif CN VF"),(0,t.stubTranslation)("Huiwen-mincho"),(0,t.stubTranslation)("KingHwa_OldSong"),RegExp("AlBayan|STIX|Kailasa|ITCTT|Luminari|Myanmar","i"),RegExp("CJK|TC$|SC$|HK|JP|TW|Sim|Kai|Hei|Yan|Min|Khai|Yuan|Song|Ming|FZ|Huiwen|KingHwa|FangZheng|WenQuanYi|PingFang|Hiragino|Meiryo|Source\\s?Han|Yu\\s?Gothic|Yu\\s?Mincho|Mincho|Nanum|Malgun|Gulim|Dotum|Batang|Gungsuh|OPPO sans|MiSans|Fallback","i");let o={en:"English",fr:"Français",de:"Deutsch",nl:"Nederlands",it:"Italiano",ja:"日本語",ko:"한국어",es:"Español",pt:"Português",ru:"Русский",ar:"العربية",fa:"فارسی",el:"Ελληνικά",uk:"Українська",pl:"Polski",tr:"Türkçe",hi:"हिन्दी",id:"Indonesia",vi:"Tiếng Việt",th:"ภาษาไทย",ms:"Melayu",bo:"བོད་སྐད་",bn:"বাংলা",ta:"தமிழ்",si:"සිංහල","zh-CN":"简体中文","zh-TW":"正體中文"};({...o,nb:"Bokmål",sv:"Svenska",fi:"Suomi",da:"Dansk",cs:"Čeština",hu:"Magyar",ro:"Română",bg:"Български",hr:"Hrvatski",lt:"Lietuvių",sl:"Slovenščina",sk:"Slovenčina",fa:"فارسی"});let s={...o,zh:"中文"};Object.fromEntries(Object.entries(s).map(([e,t])=>[t,e])),e.s(["DATA_SUBDIR",0,n,"DEFAULT_ANNOTATOR_CONFIG",0,{enableAnnotationQuickActions:!0,annotationQuickAction:null,copyToNotebook:!1,noteExportConfig:{includeTitle:!0,includeAuthor:!0,includeDate:!0,includeChapterTitles:!0,includeQuotes:!0,includeNotes:!0,includeTimestamp:!1,includeChapterSeparator:!1,noteSeparator:"\n\n",useCustomTemplate:!1,customTemplate:""}},"DEFAULT_BOOK_FONT",0,{serifFont:"Bitter",sansSerifFont:"Roboto",monospaceFont:"Consolas",defaultFont:"Serif",defaultCJKFont:"LXGW WenKai GB Screen",defaultFontSize:16,minimumFontSize:8,fontWeight:400},"DEFAULT_BOOK_LANGUAGE",0,{replaceQuotationMarks:!0,convertChineseVariant:"none"},"DEFAULT_BOOK_LAYOUT",0,{marginTopPx:44,marginBottomPx:44,marginLeftPx:16,marginRightPx:16,compactMarginTopPx:16,compactMarginBottomPx:16,compactMarginLeftPx:16,compactMarginRightPx:16,gapPercent:5,scrolled:!1,disableClick:!1,fullscreenClickArea:!1,swapClickArea:!1,disableDoubleClick:!1,volumeKeysToFlip:!1,continuousScroll:!1,maxColumnCount:2,maxInlineSize:720,maxBlockSize:1440,animated:!1,isEink:!1,writingMode:"auto",vertical:!1,rtl:!1,scrollingOverlap:0,allowScript:!1},"DEFAULT_BOOK_SEARCH_CONFIG",0,{scope:"book",matchCase:!1,matchWholeWords:!1,matchDiacritics:!1},"DEFAULT_BOOK_STYLE",0,{zoomLevel:100,paragraphMargin:.6,lineHeight:1.4,wordSpacing:0,letterSpacing:0,textIndent:0,fullJustification:!0,hyphenation:!0,invertImgColorInDark:!1,theme:"light",overrideFont:!1,overrideLayout:!1,overrideColor:!1,backgroundTextureId:"none",backgroundOpacity:.6,backgroundSize:"cover",codeHighlighting:!1,codeLanguage:"auto-detect",userStylesheet:"",userUIStylesheet:"",zoomMode:"fit-page",spreadMode:"auto",keepCoverSpread:!0},"DEFAULT_CJK_VIEW_SETTINGS",0,{fullJustification:!0,textIndent:2,paragraphMargin:1,lineHeight:1.6},"DEFAULT_DAILY_TRANSLATION_QUOTA",0,{free:10240,plus:102400,pro:512e3,purchase:0},"DEFAULT_EINK_VIEW_SETTINGS",0,{isEink:!0,animated:!1,volumeKeysToFlip:!0},"DEFAULT_FIXED_LAYOUT_VIEW_SETTINGS",0,{overrideColor:!1},"DEFAULT_MOBILE_READSETTINGS",0,{sideBarWidth:"25%",isSideBarPinned:!1},"DEFAULT_MOBILE_SYSTEM_SETTINGS",0,{libraryColumns:3},"DEFAULT_MOBILE_VIEW_SETTINGS",0,{fullJustification:!1,animated:!0,defaultFont:"Sans-serif",marginBottomPx:16,disableDoubleClick:!0,spreadMode:"none"},"DEFAULT_READSETTINGS",0,{sideBarWidth:"15%",isSideBarPinned:!0,notebookWidth:"25%",isNotebookPinned:!1,autohideCursor:!0,translationProvider:"deepl",translateTargetLang:"EN",customThemes:[],highlightStyle:"highlight",highlightStyles:{highlight:"yellow",underline:"green",squiggly:"blue"},customHighlightColors:{red:"#f87171",yellow:"#facc15",green:"#4ade80",blue:"#60a5fa",violet:"#a78bfa"},customTtsHighlightColors:[]},"DEFAULT_SCREEN_CONFIG",0,{screenOrientation:"auto"},"DEFAULT_STORAGE_QUOTA",0,{free:524288e3,plus:0x140000000,pro:0x500000000,purchase:0},"DEFAULT_SYSTEM_SETTINGS",0,{keepLogin:!1,autoUpload:!0,alwaysOnTop:!1,openBookInNewWindow:!0,alwaysShowStatusBar:!1,alwaysInForeground:!1,autoCheckUpdates:!0,screenWakeLock:!1,screenBrightness:-1,autoScreenBrightness:!0,openLastBooks:!1,lastOpenBooks:[],autoImportBooksOnOpen:!1,telemetryEnabled:!0,discordRichPresenceEnabled:!1,libraryViewMode:"grid",librarySortBy:"updated",librarySortAscending:!1,libraryCoverFit:"crop",libraryAutoColumns:!0,libraryColumns:6,kosync:{serverUrl:"https://sync.koreader.rocks/",username:"",userkey:"",deviceId:"",deviceName:"",checksumMethod:"binary",strategy:"prompt",enabled:!1},lastSyncedAtBooks:0,lastSyncedAtConfigs:0,lastSyncedAtNotes:0},"DEFAULT_TRANSLATOR_CONFIG",0,{translationEnabled:!1,translationProvider:"deepl",translateTargetLang:"",showTranslateSource:!0,ttsReadAloudText:"both"},"DEFAULT_TTS_CONFIG",0,{ttsRate:1.3,ttsVoice:"",ttsLocation:"",showTTSBar:!1,ttsHighlightOptions:{style:"highlight",color:"#808080"}},"DEFAULT_VIEW_CONFIG",0,{sideBarTab:"toc",uiLanguage:"",sortedTOC:!1,doubleBorder:!1,borderColor:"red",showHeader:!0,showFooter:!0,showBarsOnScroll:!1,showRemainingTime:!1,showRemainingPages:!1,showProgressInfo:!0,tapToToggleFooter:!1,showMarginsOnScroll:!1,progressStyle:"fraction",progressInfoMode:"all"},"LOCAL_BOOKS_SUBDIR",0,a,"LOCAL_FONTS_SUBDIR",0,r,"LOCAL_IMAGES_SUBDIR",0,i,"READEST_NODE_BASE_URL",0,"http://localhost:3000","READEST_WEB_BASE_URL",0,"http://localhost:3000","SETTINGS_FILENAME",0,"settings.json","SUPPORTED_LANGS",0,s,"SYSTEM_SETTINGS_VERSION",0,1],827667)},252919,e=>e.a(async(t,n)=>{try{var a=e.i(632084),r=e.i(555195),i=e.i(499492),o=t([a,r,i]);[a,r,i]=o.then?(await o)():o;let s={zh:"zh-Hans","zh-cn":"zh-Hans","zh-hk":"zh-Hant","zh-tw":"zh-Hant","zh-mo":"zh-Hant","zh-hans":"zh-Hans","zh-hant":"zh-Hant"},l=e=>e?e.split("-")[0].toLowerCase():"",c={cmn:"zho",arb:"ara",arz:"ara",ind:"msa",zsm:"msa",nob:"nor",nno:"nor",pes:"fas",quy:"que"};e.s(["code6392to6391",0,e=>{let t=r.iso6392.find(t=>t.iso6392B===e);return t?.iso6391||""},"detectLanguage",0,e=>{try{var t;let n;return n=c[t=(0,a.franc)(e.substring(0,1e3))]||t,i.iso6393To1[n]||"en"}catch{return console.warn("Language detection failed, defaulting to en."),"en"}},"isSameLang",0,(e,t)=>{if(!e||!t)return!1;let n=l(e),a=l(t);return n===a},"isValidLang",0,e=>{if(!e||"string"!=typeof e||["und","mul","mis","zxx"].includes(e))return!1;let t=l(e);return r.iso6392.some(e=>e.iso6391===t||e.iso6392B===t)},"normalizeToFullLang",0,e=>{try{let t=new Intl.Locale(e.toLowerCase()).maximize();if("zh"===t.language)return"Hant"===t.script?"zh-Hant":"zh-Hans";return t.region?`${t.language}-${t.region}`:e}catch{return s[e.toLowerCase()]||e}},"normalizeToShortLang",0,e=>{let t=e.toLowerCase();return t.startsWith("zh")?s[t]||"zh-Hans":t.split("-")[0]},"normalizedLangCode",0,l]),n()}catch(e){n(e)}},!1),570399,e=>{"use strict";var t,n,a,r,i;function o(e,t,n,a){if("a"===n&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)}function s(e,t,n,a,r){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,n):r?r.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;let l="__TAURI_TO_IPC_KEY__";class c{constructor(e){t.set(this,void 0),n.set(this,0),a.set(this,[]),r.set(this,void 0),s(this,t,e||(()=>{}),"f"),this.id=function(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}(e=>{let i=e.index;if("end"in e)return void(i==o(this,n,"f")?this.cleanupCallback():s(this,r,i,"f"));let l=e.message;if(i==o(this,n,"f")){for(o(this,t,"f").call(this,l),s(this,n,o(this,n,"f")+1,"f");o(this,n,"f")in o(this,a,"f");){let e=o(this,a,"f")[o(this,n,"f")];o(this,t,"f").call(this,e),delete o(this,a,"f")[o(this,n,"f")],s(this,n,o(this,n,"f")+1,"f")}o(this,n,"f")===o(this,r,"f")&&this.cleanupCallback()}else o(this,a,"f")[i]=l})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(e){s(this,t,e,"f")}get onmessage(){return o(this,t,"f")}[(t=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,l)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[l]()}}async function u(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}function h(e,t="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(e,t)}class d{get rid(){return o(this,i,"f")}constructor(e){i.set(this,void 0),s(this,i,e,"f")}async close(){return u("plugin:resources|close",{rid:this.rid})}}i=new WeakMap,e.s(["Channel",()=>c,"Resource",()=>d,"convertFileSrc",()=>h,"invoke",()=>u],570399)},592583,e=>{"use strict";var t=e.i(570399);let n="Request cancelled";async function a(e,a){let r=a?.signal;if(r?.aborted)throw Error(n);let i=a?.maxRedirections,o=a?.connectTimeout,s=a?.proxy,l=a?.danger;a&&(delete a.maxRedirections,delete a.connectTimeout,delete a.proxy,delete a.danger);let c=a?.headers?a.headers instanceof Headers?a.headers:new Headers(a.headers):new Headers,u=new Request(e,a),h=await u.arrayBuffer(),d=0!==h.byteLength?Array.from(new Uint8Array(h)):null;for(let[e,t]of u.headers)c.get(e)||c.set(e,t);let g=(c instanceof Headers?Array.from(c.entries()):Array.isArray(c)?c:Object.entries(c)).map(([e,t])=>[e,"string"==typeof t?t:t.toString()]);if(r?.aborted)throw Error(n);let p=await (0,t.invoke)("plugin:http|fetch",{clientConfig:{method:u.method,url:u.url,headers:g,data:d,maxRedirections:i,connectTimeout:o,proxy:s,danger:l}}),T=()=>(0,t.invoke)("plugin:http|fetch_cancel",{rid:p});if(r?.aborted)throw T(),Error(n);r?.addEventListener("abort",()=>void T());let{status:m,statusText:f,url:S,headers:_,rid:E}=await (0,t.invoke)("plugin:http|fetch_send",{rid:p}),L=()=>(0,t.invoke)("plugin:http|fetch_cancel_body",{rid:E}),w=async e=>{let n;try{n=await (0,t.invoke)("plugin:http|fetch_read_body",{rid:E})}catch(t){e.error(t),L();return}let a=new Uint8Array(n),r=a[a.byteLength-1],i=a.slice(0,a.byteLength-1);1===r?e.close():e.enqueue(i)},A=new Response([101,103,204,205,304].includes(m)?null:new ReadableStream({start:e=>{r?.addEventListener("abort",()=>{e.error(n),L()})},pull:e=>w(e)}),{status:m,statusText:f});return Object.defineProperty(A,"url",{value:S}),Object.defineProperty(A,"headers",{value:new Headers(_)}),A}e.s(["fetch",()=>a])}];

//# sourceMappingURL=_108286d9._.js.map