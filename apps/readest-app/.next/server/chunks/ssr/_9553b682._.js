module.exports=[427617,a=>{"use strict";var b=a.i(968366),c=a.i(833047),d=a.i(657123),e=a.i(446338);let f=(0,b.create)((a,b)=>({library:[],isSyncing:!1,syncProgress:0,currentBookshelf:[],selectedBooks:new Set,groups:{},checkOpenWithBooks:(0,c.isTauriAppPlatform)(),checkLastOpenBooks:(0,c.isTauriAppPlatform)(),setIsSyncing:b=>a({isSyncing:b}),setSyncProgress:b=>a({syncProgress:b}),getVisibleLibrary:()=>b().library.filter(a=>!a.deletedAt),setCurrentBookshelf:b=>{a({currentBookshelf:b})},setCheckOpenWithBooks:b=>a({checkOpenWithBooks:b}),setCheckLastOpenBooks:b=>a({checkLastOpenBooks:b}),setLibrary:c=>{let{refreshGroups:d}=b();a({library:c}),d()},updateBook:async(c,d)=>{let e=await c.getAppService(),{library:f}=b(),g=f.findIndex(a=>a.hash===d.hash);-1!==g&&(f[g]=d),a({library:[...f]}),await e.saveLibraryBooks(f)},updateBooks:async(c,d)=>{if(!d?.length)return;let e=await c.getAppService(),{library:f,refreshGroups:g}=b(),h=Array.from(new Map([...f,...d].map(a=>[a.hash,a])).values());a({library:h}),g(),await e.saveLibraryBooks(h)},setSelectedBooks:b=>{a({selectedBooks:new Set(b)})},getSelectedBooks:()=>Array.from(b().selectedBooks),toggleSelectedBook:b=>{a(a=>{let c=new Set(a.selectedBooks);return c.has(b)?c.delete(b):c.add(b),{selectedBooks:c}})},refreshGroups:()=>{let{library:c}=b(),f={};c.forEach(a=>{if(a.groupName&&a.groupName!==d.BOOK_UNGROUPED_NAME&&!a.deletedAt){f[(0,e.md5Fingerprint)(a.groupName)]=a.groupName;let b=a.groupName.indexOf("/",0);for(;b>0;){let c=a.groupName.substring(0,b);f[(0,e.md5Fingerprint)(c)]=c,b=a.groupName.indexOf("/",b+1)}}}),a({groups:f})},addGroup:c=>{let d=c.trim();if(!d)throw Error("Group name cannot be empty");let f=(0,e.md5Fingerprint)(d),{groups:g}=b();return a({groups:{...g,[f]:d}}),{id:f,name:d}},getGroups:()=>{let{groups:a}=b();return Object.entries(a).map(([a,b])=>({id:a,name:b})).sort((a,b)=>a.name.localeCompare(b.name))},getGroupId:a=>{let{groups:c}=b(),d=Object.entries(c).find(([b,c])=>c===a)?.[0];return d||(0,e.md5Fingerprint)(a)},getGroupName:a=>b().groups[a],getParentPath:a=>{let b=a.lastIndexOf("/");return -1===b?"":a.slice(0,b)},getGroupsByParent:a=>{let{groups:c}=b(),d=[];return Object.entries(c).forEach(([c,e])=>{b().getParentPath(e)===(a||"")&&d.push({id:c,name:e})}),d}}));a.s(["useLibraryStore",0,f])},295195,10484,a=>{"use strict";let b=(0,a.i(968366).create)((a,b)=>({transfers:{},isQueuePaused:!1,isTransferQueueOpen:!1,maxConcurrent:2,activeCount:0,setIsTransferQueueOpen:b=>a({isTransferQueueOpen:b}),addTransfer:(b,c,d,e=10,f=!1)=>{let g=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,h={id:g,bookHash:b,bookTitle:c,type:d,status:"pending",progress:0,totalBytes:0,transferredBytes:0,transferSpeed:0,retryCount:0,maxRetries:3,createdAt:Date.now(),priority:e,isBackground:f};return a(a=>({transfers:{...a.transfers,[g]:h}})),g},removeTransfer:b=>{a(a=>{let{[b]:c,...d}=a.transfers;return{transfers:d}})},updateTransferProgress:(b,c,d,e,f)=>{a(a=>{let g=a.transfers[b];return g?{transfers:{...a.transfers,[b]:{...g,progress:c,transferredBytes:d,totalBytes:e,transferSpeed:f}}}:a})},setTransferStatus:(b,c,d)=>{a(a=>{let e=a.transfers[b];if(!e)return a;let f={status:c,error:d};return"in_progress"!==c||e.startedAt||(f.startedAt=Date.now()),("completed"===c||"failed"===c||"cancelled"===c)&&(f.completedAt=Date.now()),{transfers:{...a.transfers,[b]:{...e,...f}}}})},retryTransfer:b=>{a(a=>{let c=a.transfers[b];return c?{transfers:{...a.transfers,[b]:{...c,status:"pending",progress:0,transferredBytes:0,transferSpeed:0,error:void 0,startedAt:void 0,completedAt:void 0}}}:a})},incrementRetryCount:b=>{a(a=>{let c=a.transfers[b];return c?{transfers:{...a.transfers,[b]:{...c,retryCount:c.retryCount+1}}}:a})},pauseQueue:()=>a({isQueuePaused:!0}),resumeQueue:()=>a({isQueuePaused:!1}),clearCompleted:()=>{a(a=>{let b={};return Object.entries(a.transfers).forEach(([a,c])=>{"completed"!==c.status&&(b[a]=c)}),{transfers:b}})},clearFailed:()=>{a(a=>{let b={};return Object.entries(a.transfers).forEach(([a,c])=>{"failed"!==c.status&&"cancelled"!==c.status&&(b[a]=c)}),{transfers:b}})},clearAll:()=>a({transfers:{}}),getPendingTransfers:()=>Object.values(b().transfers).filter(a=>"pending"===a.status),getActiveTransfers:()=>Object.values(b().transfers).filter(a=>"in_progress"===a.status),getFailedTransfers:()=>Object.values(b().transfers).filter(a=>"failed"===a.status||"cancelled"===a.status),getCompletedTransfers:()=>Object.values(b().transfers).filter(a=>"completed"===a.status),getTransferByBookHash:(a,c)=>Object.values(b().transfers).find(b=>b.bookHash===a&&b.type===c&&["pending","in_progress"].includes(b.status)),getQueueStats:()=>{let a=Object.values(b().transfers);return{pending:a.filter(a=>"pending"===a.status).length,active:a.filter(a=>"in_progress"===a.status).length,completed:a.filter(a=>"completed"===a.status).length,failed:a.filter(a=>"failed"===a.status||"cancelled"===a.status).length,total:a.length}},setActiveCount:b=>a({activeCount:b}),restoreTransfers:(b,c)=>{let d={};Object.entries(b).forEach(([a,b])=>{"in_progress"===b.status?d[a]={...b,status:"pending",progress:0,transferredBytes:0,transferSpeed:0}:d[a]=b}),a({transfers:d,isQueuePaused:c})}}));a.s(["useTransferStore",0,b],10484);var c=a.i(690557);let d="readest_transfer_queue";class e{static instance;appService=null;isProcessing=!1;abortControllers=new Map;isInitialized=!1;getLibrary=null;updateBook=null;_=null;constructor(){}static getInstance(){return e.instance||(e.instance=new e),e.instance}async initialize(a,b,c,d){this.isInitialized||(this.appService=a,this.getLibrary=b,this.updateBook=c,this._=d,await this.loadPersistedQueue(),this.isInitialized=!0,this.processQueue())}isReady(){return this.isInitialized&&null!==this.appService}queueUpload(a,c=10){if(!this.isReady())return console.warn("TransferManager not initialized"),null;let d=b.getState(),e=d.getTransferByBookHash(a.hash,"upload");if(e)return e.id;let f=d.addTransfer(a.hash,a.title,"upload",c);return this.persistQueue(),this.processQueue(),f}queueDownload(a,c=10){if(!this.isReady())return console.warn("TransferManager not initialized"),null;let d=b.getState(),e=d.getTransferByBookHash(a.hash,"download");if(e)return e.id;let f=d.addTransfer(a.hash,a.title,"download",c);return this.persistQueue(),this.processQueue(),f}queueDelete(a,c=10,d=!1){if(!this.isReady())return console.warn("TransferManager not initialized"),null;let e=b.getState(),f=e.getTransferByBookHash(a.hash,"delete");if(f)return f.id;let g=e.addTransfer(a.hash,a.title,"delete",c,d);return this.persistQueue(),this.processQueue(),g}queueBatchUploads(a,b=10){return a.map(a=>this.queueUpload(a,b)).filter(a=>null!==a)}cancelTransfer(a){let c=this.abortControllers.get(a);c&&(c.abort(),this.abortControllers.delete(a)),b.getState().setTransferStatus(a,"cancelled"),this.persistQueue()}retryTransfer(a){b.getState().retryTransfer(a),this.persistQueue(),this.processQueue()}retryAllFailed(){let a=b.getState();a.getFailedTransfers().forEach(b=>{a.retryTransfer(b.id)}),this.persistQueue(),this.processQueue()}pauseQueue(){b.getState().pauseQueue(),this.persistQueue()}resumeQueue(){b.getState().resumeQueue(),this.processQueue(),this.persistQueue()}async processQueue(){if(!this.isProcessing){this.isProcessing=!0;try{await this._processQueueInternal()}finally{this.isProcessing=!1}}}async _processQueueInternal(){let a=b.getState();if(a.isQueuePaused)return;let c=a.getPendingTransfers(),d=a.getActiveTransfers().length,e=a.maxConcurrent-d;if(e<=0||0===c.length)return;let f=[...c].sort((a,b)=>a.priority!==b.priority?a.priority-b.priority:a.createdAt-b.createdAt).slice(0,e);await Promise.all(f.map(a=>this.executeTransfer(a)));let g=b.getState();g.getPendingTransfers().length>0&&!g.isQueuePaused&&setTimeout(()=>this.processQueue(),100)}async executeTransfer(a){if(!this.appService||!this.getLibrary||!this.updateBook)return void console.error("TransferManager not properly initialized");let d=this._,e=b.getState(),f=new AbortController;this.abortControllers.set(a.id,f),e.setTransferStatus(a.id,"in_progress"),e.setActiveCount(e.getActiveTransfers().length+1);try{let e=this.getLibrary().find(b=>b.hash===a.bookHash);if(!e)throw Error(d("Book not found in library"));if("upload"===a.type)throw Error(d("Upload functionality has been removed"));if("download"===a.type)throw Error(d("Download functionality has been removed"));"delete"===a.type&&(await this.appService.deleteBook(e,"cloud"),await this.updateBook(e));b.getState().setTransferStatus(a.id,"completed");let f={upload:d("Book uploaded: {{title}}",{title:a.bookTitle}),download:d("Book downloaded: {{title}}",{title:a.bookTitle}),delete:d("Deleted cloud backup of the book: {{title}}",{title:a.bookTitle})};a.isBackground||c.eventDispatcher.dispatch("toast",{type:"info",timeout:2e3,message:f[a.type]})}catch(i){if(f.signal.aborted)return;let e=i instanceof Error?i.message:d("Unknown error"),g=b.getState(),h=g.transfers[a.id];if(h&&h.retryCount<h.maxRetries){let b=2e3*Math.pow(2,h.retryCount);g.incrementRetryCount(a.id),g.setTransferStatus(a.id,"pending",`Retry ${h.retryCount+1}/${h.maxRetries}`),setTimeout(()=>{this.processQueue()},b)}else{if(e.includes("Not authenticated"))c.eventDispatcher.dispatch("toast",{type:"error",message:d("Please log in to continue")});else if(e.includes("Insufficient storage quota"))c.eventDispatcher.dispatch("toast",{type:"error",message:d("Insufficient storage quota")});else{let b={upload:d("Failed to upload book: {{title}}",{title:a.bookTitle}),download:d("Failed to download book: {{title}}",{title:a.bookTitle}),delete:d("Failed to delete cloud backup of the book: {{title}}",{title:a.bookTitle})};c.eventDispatcher.dispatch("toast",{type:"error",message:b[a.type]})}b.getState().setTransferStatus(a.id,"failed",e)}}finally{this.abortControllers.delete(a.id);let c=b.getState();c.setActiveCount(Math.max(0,c.getActiveTransfers().length)),this.persistQueue(),setTimeout(()=>this.processQueue(),100)}}async loadPersistedQueue(){try{if("undefined"==typeof localStorage)return;let a=localStorage.getItem(d);if(!a)return;let c=JSON.parse(a);b.getState().restoreTransfers(c.transfers,c.isQueuePaused)}catch(a){console.error("Failed to load transfer queue:",a)}}persistQueue(){try{if("undefined"==typeof localStorage)return;let a=b.getState(),c={transfers:a.transfers,isQueuePaused:a.isQueuePaused};localStorage.setItem(d,JSON.stringify(c))}catch(a){console.error("Failed to persist transfer queue:",a)}}}let f=e.getInstance();a.s(["transferManager",0,f],295195)},557767,a=>{"use strict";var b=a.i(649970),c=a.i(592385),d=a.i(506017),e=a.i(427617),f=a.i(10484),g=a.i(295195);function h(a=!0,i=0){let{envConfig:j,appService:k}=(0,c.useEnv)(),l=(0,d.useTranslation)(),m=(0,f.useTransferStore)(a=>a.transfers),n=(0,f.useTransferStore)(a=>a.isQueuePaused),o=(0,f.useTransferStore)(a=>a.setIsTransferQueueOpen);(0,b.useEffect)(()=>{let b=async()=>{if(k&&j){let a=async a=>{await e.useLibraryStore.getState().updateBook(j,a)};await g.transferManager.initialize(k,()=>e.useLibraryStore.getState().library,a,l)}};a&&setTimeout(()=>{b()},i)},[k,j,a,i,l]);let p=(0,b.useCallback)((a,b)=>g.transferManager.queueUpload(a,b),[]),q=(0,b.useCallback)((a,b)=>g.transferManager.queueDownload(a,b),[]),r=(0,b.useCallback)((a,b)=>g.transferManager.queueBatchUploads(a,b),[]),s=(0,b.useCallback)(a=>{g.transferManager.cancelTransfer(a)},[]),t=(0,b.useCallback)(a=>{g.transferManager.retryTransfer(a)},[]),u=(0,b.useCallback)(()=>{g.transferManager.retryAllFailed()},[]),v=(0,b.useCallback)(()=>{g.transferManager.pauseQueue()},[]),w=(0,b.useCallback)(()=>{g.transferManager.resumeQueue()},[]),x=(0,b.useCallback)(()=>{f.useTransferStore.getState().clearCompleted()},[]),y=(0,b.useCallback)(()=>{f.useTransferStore.getState().clearFailed()},[]),z=(0,b.useCallback)(()=>{f.useTransferStore.getState().clearAll()},[]),A=(0,b.useCallback)((a,b)=>f.useTransferStore.getState().getTransferByBookHash(a,b),[]),B=(0,b.useMemo)(()=>{let a=Object.values(m);return{pending:a.filter(a=>"pending"===a.status).length,active:a.filter(a=>"in_progress"===a.status).length,completed:a.filter(a=>"completed"===a.status).length,failed:a.filter(a=>"failed"===a.status||"cancelled"===a.status).length,total:a.length}},[m]),C=(0,b.useMemo)(()=>Object.values(m).filter(a=>"pending"===a.status),[m]),D=(0,b.useMemo)(()=>Object.values(m).filter(a=>"in_progress"===a.status),[m]),E=(0,b.useMemo)(()=>Object.values(m).filter(a=>"failed"===a.status||"cancelled"===a.status),[m]),F=(0,b.useMemo)(()=>Object.values(m).filter(a=>"completed"===a.status),[m]),G=(0,b.useMemo)(()=>C.length>0||D.length>0,[C,D]);return{transfers:Object.values(m),isQueuePaused:n,stats:B,pendingTransfers:C,activeTransfers:D,failedTransfers:E,completedTransfers:F,hasActiveTransfers:G,setIsTransferQueueOpen:o,queueUpload:p,queueDownload:q,queueBatchUploads:r,cancelTransfer:s,retryTransfer:t,retryAllFailed:u,pauseQueue:v,resumeQueue:w,clearCompleted:x,clearFailed:y,clearAll:z,getTransferProgress:A}}a.s(["useTransferQueue",()=>h])},157142,a=>{"use strict";var b=a.i(995038);function c(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(a)}function d(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(a)}function e(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"},child:[]}]})(a)}function f(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 51.2l-.3 12.2c-28.1.8-45 15.8-55.8 40.3-25 57.8-103.3 240-155.3 358.6H415l-81.9-193.1c-32.5 63.6-68.3 130-99.2 193.1-.3.3-15 0-15-.3C172 352.3 122.8 243.4 75.8 133.4 64.4 106.7 26.4 63.4.2 63.7c0-3.1-.3-10-.3-14.2h161.9v13.9c-19.2 1.1-52.8 13.3-43.3 34.2 21.9 49.7 103.6 240.3 125.6 288.6 15-29.7 57.8-109.2 75.3-142.8-13.9-28.3-58.6-133.9-72.8-160-9.7-17.8-36.1-19.4-55.8-19.7V49.8l142.5.3v13.1c-19.4.6-38.1 7.8-29.4 26.1 18.9 40 30.6 68.1 48.1 104.7 5.6-10.8 34.7-69.4 48.1-100.8 8.9-20.6-3.9-28.6-38.6-29.4.3-3.6 0-10.3.3-13.6 44.4-.3 111.1-.3 123.1-.6v13.6c-22.5.8-45.8 12.8-58.1 31.7l-59.2 122.8c6.4 16.1 63.3 142.8 69.2 156.7L559.2 91.8c-8.6-23.1-36.4-28.1-47.2-28.3V49.6l127.8 1.1.2.5z"},child:[]}]})(a)}function g(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(a)}function h(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(a)}function i(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(a)}function j(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(a)}a.s(["FaCheckCircle",()=>g,"FaChevronDown",()=>h,"FaDiscord",()=>c,"FaGithub",()=>d,"FaReddit",()=>e,"FaSearch",()=>i,"FaTimes",()=>j,"FaWikipediaW",()=>f])},516320,a=>{"use strict";a.s(["debounce",0,(a,b,c={emitLast:!0})=>{let d=null,e=null,f=(...f)=>{e=f,d&&clearTimeout(d),d=c.emitLast?setTimeout(()=>{e&&(a(...e),e=null),d=null},b):setTimeout(()=>{a(...f),d=null},b)};return f.flush=()=>{d&&(clearTimeout(d),d=null,e&&(a(...e),e=null))},f.cancel=()=>{d&&(clearTimeout(d),d=null,e=null)},f}])},476719,a=>{"use strict";var b=a.i(339144);let c=async(a,c)=>{let d=await (0,b.getAccessToken)();if(!d)throw Error("Not authenticated");let e={...c.headers,Authorization:`Bearer ${d}`},f=await fetch(a,{...c,headers:e});if(!f.ok){let a=await f.json();throw console.error("Error:",a.error||f.statusText),Error(a.error||"Request failed")}return f};a.s(["fetchWithAuth",0,c])},966027,627910,a=>{"use strict";var b=a.i(92585),c=a.i(239337),d=a.i(649970),e=a.i(883639),f=a.i(205558),g=a.i(506017),h=a.i(268120);let i=({label:a,toggled:d,description:e,tooltip:i,buttonClass:j,labelClass:k,shortcut:l,disabled:m,noIcon:n=!1,transient:o=!1,Icon:p,iconClassName:q,children:r,siblings:s,onClick:t,setIsDropdownOpen:u})=>{let v=(0,g.useTranslation)(),w=(0,h.useResponsiveSize)(16),x=p||(void 0!==d&&d?f.MdCheck:void 0),y=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex min-w-0 items-center",children:[!n&&(0,b.jsx)("span",{style:{minWidth:`${w}px`},children:"function"==typeof x?(0,b.jsx)(x,{className:(0,c.default)(m?"text-gray-400":"text-base-content",q),size:w}):x}),(0,b.jsx)("span",{className:(0,c.default)("mx-2 flex-1 truncate text-base sm:text-sm",k),style:{minWidth:0},children:a})]}),l&&(0,b.jsx)("kbd",{className:(0,c.default)("border-base-300/40 bg-base-300/75 hidden rounded-md border shadow-sm sm:flex","shrink-0 px-1.5 py-0.5 text-xs font-medium",m?"text-gray-400":"text-neutral-content"),children:l})]}),(0,b.jsx)("div",{className:"flex w-full",children:e&&(0,b.jsx)("span",{className:"mt-1 truncate text-start text-xs text-gray-500",style:{minWidth:0,paddingInlineStart:n?"0":`${w+8}px`},children:e})})]});return r?(0,b.jsx)("ul",{className:"menu rounded-box m-0 p-0",role:"menuitem",tabIndex:-1,children:(0,b.jsx)("li",{"aria-label":a,children:(0,b.jsxs)("details",{children:[(0,b.jsx)("summary",{className:(0,c.default)("hover:bg-base-300 text-base-content cursor-pointer rounded-md p-1 py-[10px] pr-3",m&&"btn-disabled cursor-not-allowed text-gray-400",j),title:i||"",children:y}),r]})})}):(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("button",{role:m?"none":"menuitem","aria-label":void 0!==d?`${a} - ${v(d?"ON":"OFF")}`:void 0,"aria-live":void 0===d?"polite":"off",tabIndex:m?-1:0,className:(0,c.default)("hover:bg-base-300 text-base-content flex w-full flex-col items-center justify-center rounded-md p-1 py-[10px]",m&&"btn-disabled text-gray-400",j),title:i||"",onClick:()=>{t?.(),o&&u?.(!1)},disabled:m,children:y}),s]})};a.s(["default",0,i],627910),a.s(["default",0,({label:a,className:f,menuClassName:g,buttonClassName:h,toggleButton:j,children:k,disabled:l,onToggle:m})=>{var n;let o,[p,q]=(0,d.useState)(!1),[r,s]=(0,d.useState)(!1),t=(0,d.useRef)(!1),u=(0,d.useRef)(null),v=a=>{l||(q(a),m?.(a))},w=()=>{t.current=!0,setTimeout(()=>t.current=!1,200)},x=(0,d.isValidElement)(k)?d.default.cloneElement(k,{..."string"!=typeof k.type&&{setIsDropdownOpen:v,menuClassName:g},children:(n=k.props?.children,o=a=>{if(!(0,d.isValidElement)(a))return a;let b=a.type===i||"function"==typeof a.type&&"MenuItem"===a.type.name?d.default.cloneElement(a,{setIsDropdownOpen:v,...a.props}):a;return b.props?.children?d.default.cloneElement(b,{...b.props,children:d.default.Children.map(b.props.children,o)}):b},d.default.Children.map(n,o))}):k;return(0,b.jsxs)("div",{className:"dropdown-container flex",children:[p&&(0,b.jsx)(e.Overlay,{onDismiss:()=>v(!1)}),(0,b.jsxs)("div",{ref:u,role:"menu",tabIndex:-1,onBlur:a=>{u.current&&(u.current.contains(a.relatedTarget)||(s(!1),v(!1)))},onKeyDown:a=>{"Enter"===a.key||" "===a.key?(p||v(!0),a.stopPropagation()):"Escape"===a.key&&(v(!1),a.stopPropagation())},className:(0,c.default)("dropdown flex flex-col",f),children:[(0,b.jsx)("button",{"aria-haspopup":"menu","aria-expanded":p,"aria-label":a,title:a,className:(0,c.default)("dropdown-toggle touch-target",r&&p&&"bg-base-300/50",h),onTouchStart:w,onPointerDown:w,onFocus:()=>{s(!0),t.current||v(!0)},onClick:()=>{s(!p),v(!p)},children:j}),(0,b.jsx)("div",{role:"none",className:(0,c.default)("flex items-center justify-center"),children:p&&x})]})]})}],966027)},191601,a=>{"use strict";var b=a.i(649970),c=a.i(592385),d=a.i(946687);a.s(["useTrafficLight",0,()=>{let{appService:a}=(0,c.useEnv)(),{isTrafficLightVisible:e,initializeTrafficLightStore:f,initializeTrafficLightListeners:g,setTrafficLightVisibility:h,cleanupTrafficLightListeners:i}=(0,d.useTrafficLightStore)();return(0,b.useEffect)(()=>{if(a?.hasTrafficLight)return f(a),g(),h(!0),()=>{i()}},[a?.hasTrafficLight]),{isTrafficLightVisible:e}}])},584807,a=>{"use strict";var b=a.i(995038);function c(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M441.1 131.1l-44.9 45.1c-.9.9-2.3 1.3-3.5 1.1l-46.4-8.4c-1.6-.3-2.9-1.6-3.2-3.2l-8.3-46.4c-.2-1.3.2-2.6 1.1-3.5l44.8-45c3.5-3.5 3-9.3-1-12.1-10.1-7.2-22.1-10.7-31.8-10.7-.7 0-1.4 0-2 .1-12.5.7-39.3 7.7-60 29.7-20.1 21.2-41.1 60.6-22.5 104.5 2.2 5.3 4.7 12.3-2.7 19.7C253.1 209.4 61 390.3 61 390.3c-18 15.5-16.7 44.2-.1 60.9 8.5 8.4 20 12.8 31.3 12.8 11.1 0 21.9-4.2 29.6-13.1 0 0 179.4-191.1 188.2-199.8 4-3.9 7.7-5.1 11.1-5.1 3.3 0 6.3 1.2 8.6 2.4 9.9 5.1 21 7.4 32.4 7.4 26.8 0 55-12.4 72.2-29.6 24.4-24.4 28.9-48 29.6-60.1.6-9.9-2.2-22.6-10.7-34.2-2.9-3.8-8.6-4.2-12.1-.8zM102.5 429.3c-5.5 5.4-14.4 5.4-19.9 0-5.4-5.5-5.4-14.4 0-19.9 5.5-5.4 14.4-5.4 19.9 0 5.4 5.6 5.4 14.5 0 19.9z"},child:[]}]})(a)}function d(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"92",cy:"256",r:"28"},child:[]},{tag:"circle",attr:{cx:"92",cy:"132",r:"28"},child:[]},{tag:"circle",attr:{cx:"92",cy:"380",r:"28"},child:[]},{tag:"path",attr:{d:"M432 240H191.5c-8.8 0-16 7.2-16 16s7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16zM432 364H191.5c-8.8 0-16 7.2-16 16s7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16zM191.5 148H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H191.5c-8.8 0-16 7.2-16 16s7.2 16 16 16z"},child:[]}]})(a)}function e(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"},child:[]}]})(a)}function f(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 90c44.3 0 86 17.3 117.4 48.6C404.7 170 422 211.7 422 256s-17.3 86-48.6 117.4C342 404.7 300.3 422 256 422s-86-17.3-117.4-48.6C107.3 342 90 300.3 90 256s17.3-86 48.6-117.4C170 107.3 211.7 90 256 90m0-42C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]},{tag:"path",attr:{d:"M360 330.9L330.9 360 256 285.1 181.1 360 152 330.9l74.9-74.9-74.9-74.9 29.1-29.1 74.9 74.9 74.9-74.9 29.1 29.1-74.9 74.9z"},child:[]}]})(a)}function g(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z"},child:[]}]})(a)}function h(a){return(0,b.GenIcon)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M396.795 396.8H320V448h128V320h-51.205zM396.8 115.205V192H448V64H320v51.205zM115.205 115.2H192V64H64v128h51.205zM115.2 396.795V320H64v128h128v-51.205z"},child:[]}]})(a)}a.s(["IoIosBuild",()=>c,"IoIosList",()=>d,"IoMdArrowBack",()=>e,"IoMdCloseCircle",()=>g,"IoMdCloseCircleOutline",()=>f,"IoMdExpand",()=>h])}];

//# sourceMappingURL=_9553b682._.js.map