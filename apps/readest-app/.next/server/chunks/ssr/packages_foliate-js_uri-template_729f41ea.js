module.exports=[44909,a=>{"use strict";let b=/{([+#./;?&])?([^}]+?)}/g,c=/(.+?)(\*|:[1-9]\d{0,3})?$/,d={undefined:{first:"",sep:","},"+":{first:"",sep:",",allowReserved:!0},".":{first:".",sep:"."},"/":{first:"/",sep:"/"},";":{first:";",sep:";",named:!0,ifemp:""},"?":{first:"?",sep:"&",named:!0,ifemp:"="},"&":{first:"&",sep:"&",named:!0,ifemp:"="},"#":{first:"&",sep:"&",allowReserved:!0}};a.s(["getVariables",0,a=>new Set(Array.from(a.matchAll(b),([,,a])=>a.split(",").map(a=>a.match(c)?.[1])).flat()),"replace",0,(a,e)=>a.replace(b,(a,b,f)=>{let{first:g,sep:h,named:i,ifemp:j,allowReserved:k}=d[b],l=k?encodeURI:encodeURIComponent,m=f.split(",").map(a=>{let b=a.match(c);if(!b)return;let[,d,f]=b,g=e.get(d);return f?.startsWith(":")&&(g=((a,b)=>{let c="";for(let d of b){if(d.length>a)break;c=d}return c})(parseInt(f.slice(1)),g)),[d,g?l(g):null]});return m.filter(([,a])=>a).length?g+m.map(([a,b])=>b?i?a+(b?"="+b:j):b:"").filter(a=>a).join(h):""})])}];

//# sourceMappingURL=packages_foliate-js_uri-template_729f41ea.js.map