module.exports=[980946,(a,b,c)=>{"use strict";b.exports=a.r(918622)},92585,(a,b,c)=>{"use strict";b.exports=a.r(980946).vendored["react-ssr"].ReactJsxRuntime},649970,(a,b,c)=>{"use strict";b.exports=a.r(980946).vendored["react-ssr"].React},649661,a=>{"use strict";var b=a.i(11491);async function c(a){return await (0,b.invoke)("plugin:native-bridge|copy_uri_to_path",{payload:a})}async function d(a){await (0,b.invoke)("plugin:native-bridge|use_background_audio",{payload:a})}async function e(a){return await (0,b.invoke)("plugin:native-bridge|install_package",{payload:a})}async function f(a){return await (0,b.invoke)("plugin:native-bridge|set_system_ui_visibility",{payload:a})}async function g(){return await (0,b.invoke)("plugin:native-bridge|get_status_bar_height")}let h=null;async function i(){if(h)return h;let a=await (0,b.invoke)("plugin:native-bridge|get_sys_fonts_list");return h=a,a}async function j(a){await (0,b.invoke)("plugin:native-bridge|intercept_keys",{payload:a})}async function k(a){await (0,b.invoke)("plugin:native-bridge|lock_screen_orientation",{payload:a})}async function l(){return await (0,b.invoke)("plugin:native-bridge|get_safe_area_insets")}async function m(){return await (0,b.invoke)("plugin:native-bridge|get_screen_brightness")}async function n(a){return await (0,b.invoke)("plugin:native-bridge|set_screen_brightness",{payload:a})}async function o(){return await (0,b.invoke)("plugin:native-bridge|get_external_sdcard_path")}async function p(){return await (0,b.invoke)("plugin:native-bridge|select_directory")}a.s(["copyURIToPath",()=>c,"getExternalSDCardPath",()=>o,"getSafeAreaInsets",()=>l,"getScreenBrightness",()=>m,"getStatusBarHeight",()=>g,"getSysFontsList",()=>i,"installPackage",()=>e,"interceptKeys",()=>j,"invokeUseBackgroundAudio",()=>d,"lockScreenOrientation",()=>k,"selectDirectory",()=>p,"setScreenBrightness",()=>n,"setSystemUIVisibility",()=>f])},833047,a=>{"use strict";a.i(657123);let b=()=>!1,c=null,d=async()=>{if(!c){let{WebAppService:b}=await a.A(778702);c=new b,await c.init()}return c};a.s(["default",0,{getAppService:async()=>(b(),d())},"getAPIBaseUrl",0,()=>"http://localhost:3000/api","getNodeAPIBaseUrl",0,()=>"http://localhost:3000/api","hasCli",0,()=>!0===window.__READEST_CLI_ACCESS,"isPWA",0,()=>window.matchMedia("(display-mode: standalone)").matches,"isTauriAppPlatform",0,b,"isWebAppPlatform",0,()=>!0])},254799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},500874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},11491,754454,a=>{"use strict";var b,c,d,e,f;function g(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function h(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}"function"==typeof SuppressedError&&SuppressedError,a.s(["__classPrivateFieldGet",()=>g,"__classPrivateFieldSet",()=>h],754454);let i="__TAURI_TO_IPC_KEY__";function j(a,b=!1){return window.__TAURI_INTERNALS__.transformCallback(a,b)}class k{constructor(a){b.set(this,void 0),c.set(this,0),d.set(this,[]),e.set(this,void 0),h(this,b,a||(()=>{}),"f"),this.id=j(a=>{let f=a.index;if("end"in a)return void(f==g(this,c,"f")?this.cleanupCallback():h(this,e,f,"f"));let i=a.message;if(f==g(this,c,"f")){for(g(this,b,"f").call(this,i),h(this,c,g(this,c,"f")+1,"f");g(this,c,"f")in g(this,d,"f");){let a=g(this,d,"f")[g(this,c,"f")];g(this,b,"f").call(this,a),delete g(this,d,"f")[g(this,c,"f")],h(this,c,g(this,c,"f")+1,"f")}g(this,c,"f")===g(this,e,"f")&&this.cleanupCallback()}else g(this,d,"f")[f]=i})}cleanupCallback(){window.__TAURI_INTERNALS__.unregisterCallback(this.id)}set onmessage(a){h(this,b,a,"f")}get onmessage(){return g(this,b,"f")}[(b=new WeakMap,c=new WeakMap,d=new WeakMap,e=new WeakMap,i)](){return`__CHANNEL__:${this.id}`}toJSON(){return this[i]()}}class l{constructor(a,b,c){this.plugin=a,this.event=b,this.channelId=c}async unregister(){return n(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}}async function m(a,b,c){let d=new k(c);try{return await n(`plugin:${a}|register_listener`,{event:b,handler:d}),new l(a,b,d.id)}catch{return await n(`plugin:${a}|registerListener`,{event:b,handler:d}),new l(a,b,d.id)}}async function n(a,b={},c){return window.__TAURI_INTERNALS__.invoke(a,b,c)}function o(a,b="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(a,b)}class p{get rid(){return g(this,f,"f")}constructor(a){f.set(this,void 0),h(this,f,a,"f")}async close(){return n("plugin:resources|close",{rid:this.rid})}}f=new WeakMap,a.s(["Channel",()=>k,"Resource",()=>p,"SERIALIZE_TO_IPC_FN",()=>i,"addPluginListener",()=>m,"convertFileSrc",()=>o,"invoke",()=>n,"transformCallback",()=>j],11491)},338005,a=>{"use strict";var b=a.i(649970),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=b.default.createContext&&b.default.createContext(c);a.s(["DefaultContext",()=>c,"IconContext",()=>d])},863052,a=>{"use strict";var b=a.i(92585),c=a.i(649970);let d=(0,c.createContext)(void 0);a.s(["AuthProvider",0,({children:a})=>{let[e,f]=(0,c.useState)(()=>null),[g,h]=(0,c.useState)(()=>null);(0,c.useEffect)(()=>{(async()=>{if(e&&!g)try{let a=await fetch("/api/auth/verify",{headers:{Authorization:`Bearer ${e}`}});if(a.ok){let b=await a.json();h(b.user),localStorage.setItem("user",JSON.stringify(b.user))}else localStorage.removeItem("token"),localStorage.removeItem("user"),f(null),h(null)}catch(a){console.error("Token verification failed:",a),localStorage.removeItem("token"),localStorage.removeItem("user"),f(null),h(null)}})()},[e,g]);let i=async()=>{console.log("Logging out");try{await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch(a){console.error("Logout request failed:",a)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),f(null),h(null)}};return(0,b.jsx)(d.Provider,{value:{token:e,user:g,login:(a,b)=>{console.log("Logging in as",b.username),f(a),h(b),localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(b))},logout:i,isLoggedIn:!!e&&!!g},children:a})},"useAuth",0,()=>{let a=(0,c.useContext)(d);if(!a)throw Error("useAuth must be used within an AuthProvider");return a}])},278999,(a,b,c)=>{"use strict";c.match=function(a,b){return i(a).some(function(a){var c=a.inverse,d="all"===a.type||b.type===a.type;if(d&&c||!(d||c))return!1;var e=a.expressions.every(function(a){var c=a.feature,d=a.modifier,e=a.value,f=b[c];if(!f)return!1;switch(c){case"orientation":case"scan":return f.toLowerCase()===e.toLowerCase();case"width":case"height":case"device-width":case"device-height":e=l(e),f=l(f);break;case"resolution":e=k(e),f=k(f);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":e=j(e),f=j(f);break;case"grid":case"color":case"color-index":case"monochrome":e=parseInt(e,10)||1,f=parseInt(f,10)||0}switch(d){case"min":return f>=e;case"max":return f<=e;default:return f===e}});return e&&!c||!e&&c})},c.parse=i;var d=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,e=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,f=/^(?:(min|max)-)?(.+)/,g=/(em|rem|px|cm|mm|in|pt|pc)?$/,h=/(dpi|dpcm|dppx)?$/;function i(a){return a.split(",").map(function(a){var b=(a=a.trim()).match(d),c=b[1],g=b[2],h=b[3]||"",i={};return i.inverse=!!c&&"not"===c.toLowerCase(),i.type=g?g.toLowerCase():"all",i.expressions=(h=h.match(/\([^\)]+\)/g)||[]).map(function(a){var b=a.match(e),c=b[1].toLowerCase().match(f);return{modifier:c[1],feature:c[2],value:b[2]}}),i})}function j(a){var b,c=Number(a);return c||(c=(b=a.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/b[2]),c}function k(a){var b=parseFloat(a);switch(String(a).match(h)[1]){case"dpcm":return b/2.54;case"dppx":return 96*b;default:return b}}function l(a){var b=parseFloat(a);switch(String(a).match(g)[1]){case"em":case"rem":return 16*b;case"cm":return 96*b/2.54;case"mm":return 96*b/2.54/10;case"in":return 96*b;case"pt":return 72*b;case"pc":return 72*b/12;default:return b}}},487107,(a,b,c)=>{"use strict";var d=a.r(278999).match;function e(a,b,c){var e,f=this;function g(a){f.matches=a.matches,f.media=a.media}e?(this.matches=e.matches,this.media=e.media,e.addListener(g)):(this.matches=d(a,b),this.media=a),this.addListener=function(a){e&&e.addListener(a)},this.removeListener=function(a){e&&e.removeListener(a)},this.dispose=function(){e&&e.removeListener(g)}}b.exports=function(a,b,c){return new e(a,b,c)}},688785,(a,b,c)=>{"use strict";b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},126781,(a,b,c)=>{"use strict";var d=a.r(688785);function e(){}function f(){}f.resetWarningCache=e,b.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},705783,(a,b,c)=>{b.exports=a.r(126781)()},268120,a=>{"use strict";var b=a.i(649970),c=a.i(487107),d=/[A-Z]/g,e=/^ms-/,f={};function g(a){return"-"+a.toLowerCase()}let h=function(a){if(f.hasOwnProperty(a))return f[a];var b=a.replace(d,g);return f[a]=e.test(b)?"-"+b:b};var i=a.i(705783);let j=i.default.oneOfType([i.default.string,i.default.number]),k={all:i.default.bool,grid:i.default.bool,aural:i.default.bool,braille:i.default.bool,handheld:i.default.bool,print:i.default.bool,projection:i.default.bool,screen:i.default.bool,tty:i.default.bool,tv:i.default.bool,embossed:i.default.bool},{type:l,...m}={orientation:i.default.oneOf(["portrait","landscape"]),scan:i.default.oneOf(["progressive","interlace"]),aspectRatio:i.default.string,deviceAspectRatio:i.default.string,height:j,deviceHeight:j,width:j,deviceWidth:j,color:i.default.bool,colorIndex:i.default.bool,monochrome:i.default.bool,resolution:j,type:Object.keys(k)},n={minAspectRatio:i.default.string,maxAspectRatio:i.default.string,minDeviceAspectRatio:i.default.string,maxDeviceAspectRatio:i.default.string,minHeight:j,maxHeight:j,minDeviceHeight:j,maxDeviceHeight:j,minWidth:j,maxWidth:j,minDeviceWidth:j,maxDeviceWidth:j,minColor:i.default.number,maxColor:i.default.number,minColorIndex:i.default.number,maxColorIndex:i.default.number,minMonochrome:i.default.number,maxMonochrome:i.default.number,minResolution:j,maxResolution:j,...m};var o={...k,...n};let p=(0,b.createContext)(void 0),q=a=>{if(a)return Object.keys(a).reduce((b,c)=>(b[h(c)]=a[c],b),{})},r=()=>{let a=(0,b.useRef)(!1);return(0,b.useEffect)(()=>{a.current=!0},[]),a.current},s=(a,d,e)=>{let f=(a=>{let c=(0,b.useContext)(p),d=()=>q(a)||q(c),[e,f]=(0,b.useState)(d);return(0,b.useEffect)(()=>{let a=d();!function(a,b){if(a===b)return!0;if(!a||!b)return!1;let c=Object.keys(a),d=Object.keys(b),e=c.length;if(d.length!==e)return!1;for(let d=0;d<e;d++){let e=c[d];if(a[e]!==b[e]||!Object.prototype.hasOwnProperty.call(b,e))return!1}return!0}(e,a)&&f(a)},[a,c]),e})(d),g=(a=>{let c=()=>{let b;return a.query||(b=[],Object.keys(o).forEach(c=>{let d=a[c];null!=d&&b.push(((a,b)=>{let c=h(a);if("number"==typeof b&&(b=`${b}px`),!0===b)return c;if(!1===b)return`not ${c}`;return`(${c}: ${b})`})(c,d))}),b.join(" and "))},[d,e]=(0,b.useState)(c);return(0,b.useEffect)(()=>{let a=c();d!==a&&e(a)},[a]),d})(a);if(!g)throw Error("Invalid or missing MediaQuery!");let i=((a,d)=>{let e=()=>(0,c.default)(a,d||{},!!d),[f,g]=(0,b.useState)(e),h=r();return(0,b.useEffect)(()=>{if(h){let a=e();return g(a),()=>{a&&a.dispose()}}},[a,d]),f})(g,f),j=(a=>{let[c,d]=(0,b.useState)(a.matches);return(0,b.useEffect)(()=>{let b=a=>{d(a.matches)};return a.addListener(b),d(a.matches),()=>{a.removeListener(b)}},[a]),c})(i),k=r();return(0,b.useEffect)(()=>{k&&e&&e(j)},[j]),(0,b.useEffect)(()=>()=>{i&&i.dispose()},[]),j},t=a=>{let b=s({maxWidth:480}),c=s({minWidth:481,maxWidth:1024});return b||c?1.25*a:a};a.s(["useDefaultIconSize",0,()=>t(20),"useResponsiveSize",0,t],268120)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__11b23054._.js.map