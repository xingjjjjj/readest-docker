module.exports=[737279,a=>{"use strict";var b=a.i(11491);class c{constructor(a,b){this.id=a,this.listeners=b}static async connect(a,d){let e=new Set,f=new b.Channel;return f.onmessage=a=>{e.forEach(b=>{b(a)})},d?.headers&&(d.headers=Array.from(new Headers(d.headers).entries())),await (0,b.invoke)("plugin:websocket|connect",{url:a,onMessage:f,config:d}).then(a=>new c(a,e))}addListener(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}async send(a){let c;if("string"==typeof a)c={type:"Text",data:a};else if("object"==typeof a&&"type"in a)c=a;else if(Array.isArray(a))c={type:"Binary",data:a};else throw Error("invalid `message` type, expected a `{ type: string, data: any }` object, a string or a numeric array");await (0,b.invoke)("plugin:websocket|send",{id:this.id,message:c})}async disconnect(){await this.send({type:"Close",data:{code:1e3,reason:"Disconnected by client"}})}}a.s(["default",()=>c])}];

//# sourceMappingURL=f5ef2_%40tauri-apps_plugin-websocket_dist-js_index_a681bc8f.js.map