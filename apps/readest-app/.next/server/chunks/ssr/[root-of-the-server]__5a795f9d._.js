module.exports=[239337,995038,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b,"default",0,b],239337);var c=a.i(649970),d=a.i(338005),e=["attr","size","title"];function f(){return(f=Object.assign.bind()).apply(this,arguments)}function g(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?g(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function i(a){return b=>c.default.createElement(j,f({attr:h({},a.attr)},b),function a(b){return b&&b.map((b,d)=>c.default.createElement(b.tag,h({key:d},b.attr),a(b.child)))}(a.child))}function j(a){var b=b=>{var d,{attr:g,size:i,title:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,e),l=i||b.size||"1em";return b.className&&(d=b.className),a.className&&(d=(d?d+" ":"")+a.className),c.default.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,g,k,{className:d,style:h(h({color:a.color||b.color},b.style),a.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),j&&c.default.createElement("title",null,j),a.children)};return void 0!==d.IconContext?c.default.createElement(d.IconContext.Consumer,null,a=>b(a)):b(d.DefaultContext)}a.s(["GenIcon",()=>i],995038)},506017,a=>{"use strict";a.i(802161);var b=a.i(649970);a.i(750195);var c=a.i(864440);a.s(["useTranslation",0,(a="translation")=>{let{t:d}=(0,c.useTranslation)(a);return(0,b.useCallback)((a,b={})=>d(a,{defaultValue:a,...b}),[d])}])},556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},283665,(a,b,c)=>{"use strict";b.exports=a.r(980946).vendored.contexts.AppRouterContext},371203,(a,b,c)=>{"use strict";b.exports=a.r(980946).vendored.contexts.HooksClientContext},485501,(a,b,c)=>{"use strict";b.exports=a.r(980946).vendored.contexts.ServerInsertedHtml},403988,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},845362,a=>{"use strict";let b=a=>{let b=navigator.userAgent;if(a?.isAndroidApp){let a=b.match(/Chrome\/([0-9.]+)/);return a?`WebView ${a[1]}`:"Android WebView"}if(a?.isIOSApp){let a=b.match(/AppleWebKit\/([0-9.]+)/);return a?`WebView ${a[1]}`:"iOS WebView"}if(a?.isMacOSApp){let a=b.match(/AppleWebKit\/([0-9.]+)/);return a?`WebView ${a[1]}`:"macOS WebView"}if(a?.appPlatform==="tauri"&&a?.osPlatform==="windows"){let a=b.match(/Edg\/([0-9.]+)/);return a?`Edge ${a[1]}`:"Edge WebView2"}if(a?.appPlatform==="tauri"&&a?.osPlatform==="linux"){let a=b.match(/AppleWebKit\/([0-9.]+)/);return a?`WebView ${a[1]}`:"Linux WebView"}else if(b.includes("CriOS")&&b.includes("Mobile/")&&b.includes("Safari")){let a=b.match(/CriOS\/([0-9.]+)/);return a?`Chrome ${a[1]}`:"iOS Chrome"}else if(b.includes("FxiOS")&&b.includes("Mobile/")&&b.includes("Safari")){let a=b.match(/FxiOS\/([0-9.]+)/);return a?`Firefox ${a[1]}`:"iOS Firefox"}else if(b.includes("Chrome")&&b.includes("AppleWebKit")&&b.includes("Macintosh")){let a=b.match(/Chrome\/([0-9.]+)/);return a?`Chrome ${a[1]}`:"macOS Chrome"}else if(b.includes("Safari")&&b.includes("AppleWebKit")&&b.includes("Macintosh")){let a=b.match(/Safari\/([0-9.]+)/);return a?`Safari ${a[1]}`:"macOS Safari"}else if(b.includes("Edg/")){let a=b.match(/Edg\/([0-9.]+)/);return a?`Edge ${a[1]}`:"Edge WebView"}else if(b.includes("Firefox/")){let a=b.match(/Firefox\/([0-9.]+)/);return a?`Firefox ${a[1]}`:"Firefox Gecko"}else if(b.includes("Chrome/")&&!b.includes("Chromium")){let a=b.match(/Chrome\/([0-9.]+)/);return a?`Chrome ${a[1]}`:"Chrome"}else if(b.includes("Chromium/")){let a=b.match(/Chromium\/([0-9.]+)/);return a?`Chromium ${a[1]}`:"Chromium"}else{if(!b.includes("MSIE "))return"Unknown";let a=b.match(/MSIE ([0-9.]+)/);return a?`IE ${a[1]}`:"Internet Explorer"}};a.s(["parseWebViewInfo",0,b,"parseWebViewVersion",0,a=>{let c=b(a).match(/([0-9]+)\./);return c?parseFloat(c[1]):0}])},451515,a=>{"use strict";var b=a.i(92585),c=a.i(239337),d=a.i(649970),e=a.i(165696),f=a.i(488466),g=a.i(863052),h=a.i(396560),i=a.i(407027),j=a.i(947218),k=a.i(506017),l=a.i(592385);function m(){let a=(0,k.useTranslation)(),m=(0,e.useRouter)(),n=(0,e.useSearchParams)(),{login:o,isLoggedIn:p}=(0,g.useAuth)(),{envConfig:q}=(0,l.useEnv)(),{isDarkMode:r}=(0,i.useThemeStore)(),{settings:s,setSettings:t,saveSettings:u}=(0,j.useSettingsStore)(),[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)(!1),[z,A]=(0,d.useState)(""),[B,C]=(0,d.useState)(!1),D=n?.get("redirect")||"/library";(0,h.useTheme)({systemUIVisible:!1});let E=async b=>{b.preventDefault(),y(!0),A("");try{let b=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:"xingjjjjj",password:v})});if(!b.ok)throw Error(a("Invalid password"));let{token:c,user:d}=await b.json();o(c,d),setTimeout(()=>{m.replace(D)},100)}catch(b){A(b instanceof Error?b.message:a("Login failed"))}finally{y(!1)}};return((0,d.useEffect)(()=>{C(!0)},[]),(0,d.useEffect)(()=>{B&&p&&m.replace(D)},[B,p]),B)?(0,b.jsxs)("div",{className:(0,c.default)("min-h-screen flex flex-col items-center justify-center","bg-base-100"),children:[(0,b.jsx)("button",{onClick:()=>{s.keepLogin=!1,t(s),u(q,s),m.back()},className:"btn btn-ghost fixed left-6 top-6 h-8 min-h-8 w-8 p-0","aria-label":a("Go Back"),children:(0,b.jsx)(f.IoArrowBack,{className:"text-base-content"})}),(0,b.jsx)("div",{className:(0,c.default)("card shadow-lg w-full max-w-sm","bg-base-100 border border-base-300"),children:(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsx)("h1",{className:"card-title justify-center text-2xl mb-6",children:a("Sign in")}),(0,b.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"form-control",children:[(0,b.jsx)("label",{className:"label",children:(0,b.jsx)("span",{className:"label-text",children:a("Password")})}),(0,b.jsx)("input",{type:"password",placeholder:a("Your password"),className:(0,c.default)("input input-bordered w-full",z&&"input-error"),value:v,onChange:a=>w(a.target.value),disabled:x,required:!0})]}),z&&(0,b.jsx)("div",{className:"alert alert-error",children:(0,b.jsx)("span",{children:z})}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary w-full",disabled:x,children:x?a("Signing in..."):a("Sign in")})]}),(0,b.jsx)("p",{className:"text-center text-sm text-base-content/60 mt-4",children:a("Single user mode")})]})})]}):null}a.s(["default",()=>m])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5a795f9d._.js.map