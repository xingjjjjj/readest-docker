module.exports=[603953,a=>{"use strict";let b;var c=a.i(92585),d=a.i(239337),e=a.i(808091),f=a.i(649970),g=a.i(165696),h=a.i(169967),i=a.i(65091),j=a.i(592385),k=a.i(863052),l=a.i(833047),m=a.i(931230),n=a.i(777470),o=a.i(407027),p=a.i(506017),q=a.i(427617),r=a.i(947218),s=a.i(295195),t=a.i(557767),u=a.i(396560),v=a.i(445148),w=a.i(690557),x=a.i(810076),y=a.i(754585),z=a.i(462760),A=a.i(657123),B=a.i(791540);function C(a){a()}function D(a,b){return c=>a(b(c))}function E(a){return void 0!==a}function F(){}function G(a,b){return b(a)}function H(...a){return a}function I(a){a(2)}function J(a){return a(4)}function K(a,b){return a(1,a=>b(0,a))}function L(a,b){let c=a(1,a=>{c(),b(a)});return c}function M(a){let b,c;return d=>e=>{b=e,c&&clearTimeout(c),c=setTimeout(()=>{d(b)},a)}}function N(a,b){return a===b}function O(a=N){let b;return c=>d=>{a(b,d)||(b=d,c(d))}}function P(a){return b=>c=>{a(c)&&b(c)}}function Q(a){return b=>D(b,a)}function R(a){return b=>()=>{b(a)}}function S(a,...b){let c=function(...a){return b=>a.reduceRight(G,b)}(...b);return(b,d)=>{switch(b){case 2:I(a);return;case 1:return a(1,c(d))}}}function T(a,b){return c=>d=>{c(b=a(b,d))}}function U(a){return b=>c=>{a>0?a--:b(c)}}function V(a){let b=null,c;return d=>e=>{b=e,c||(c=setTimeout(()=>{c=void 0,d(b)},a))}}function W(...a){let b=Array(a.length),c=0,d=null,e=Math.pow(2,a.length)-1;return a.forEach((a,f)=>{let g=Math.pow(2,f);a(1,a=>{let h=c;c|=g,b[f]=a,h!==e&&c===e&&d&&(d(),d=null)})}),a=>f=>{let g=()=>{a([f].concat(b))};c===e?g():d=g}}function X(a){let b=a,c=Z();return(a,d)=>{switch(a){case 0:b=d;break;case 1:d(b);break;case 4:return b}return c(a,d)}}function Y(a,b){var c;return c=X(b),K(a,c),c}function Z(){let a=[];return(b,c)=>{switch(b){case 0:a.slice().forEach(a=>{a(c)});return;case 2:a.splice(0,a.length);return;case 1:return a.push(c),()=>{let b=a.indexOf(c);b>-1&&a.splice(b,1)}}}}function $(a){var b;return b=Z(),K(a,b),b}function _(a,b=[],{singleton:c}={singleton:!0}){return{constructor:a,dependencies:b,id:aa(),singleton:c}}let aa=()=>Symbol();function ab(...a){let b=Z(),c=Array(a.length),d=0,e=Math.pow(2,a.length)-1;return a.forEach((a,f)=>{let g=Math.pow(2,f);a(1,a=>{c[f]=a,(d|=g)===e&&b(0,c)})}),function(a,f){switch(a){case 2:return void I(b);case 1:return d===e&&f(c),b(1,f)}}}function ac(a,b=N){return S(a,O(b))}function ad(...a){return function(b,c){switch(b){case 2:return;case 1:return function(...a){return()=>{a.map(C)}}(...a.map(a=>a(1,c)))}}}var ae=((b=ae||{})[b.DEBUG=0]="DEBUG",b[b.INFO=1]="INFO",b[b.WARN=2]="WARN",b[b.ERROR=3]="ERROR",b);let af={0:"debug",3:"error",1:"log",2:"warn"},ag=_(()=>{let a=X(3);return{log:X((b,c,d=1)=>{var e;d>=(null!=(e=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)?e:J(a))&&console[af[d]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",b,c)}),logLevel:a}},[],{singleton:!0});function ah(a,b,c){return ai(a,b,c).callbackRef}function ai(a,b,c){let d=f.default.useRef(null),e=f.default.useMemo(()=>"u">typeof ResizeObserver?new ResizeObserver(b=>{let d=()=>{let c=b[0].target;null!==c.offsetParent&&a(c)};c?d():requestAnimationFrame(d)}):null,[a,c]);return{callbackRef:a=>{a&&b?(null==e||e.observe(a),d.current=a):(d.current&&(null==e||e.unobserve(d.current)),d.current=null)},ref:d}}function aj(a,b,c,d,e,g,h,i,j){return ai(f.default.useCallback(c=>{let f,j=function(a,b,c,d){let e=a.length;if(0===e)return null;let f=[];for(let g=0;g<e;g++){let e=a.item(g);if(void 0===e.dataset.index)continue;let h=parseInt(e.dataset.index),i=parseFloat(e.dataset.knownSize),j=b(e,c);if(0===j&&d("Zero-sized element, this should not happen",{child:e},ae.ERROR),j===i)continue;let k=f[f.length-1];0===f.length||k.size!==j||k.endIndex!==h-1?f.push({endIndex:h,size:j,startIndex:h}):f[f.length-1].endIndex++}return f}(c.children,b,i?"offsetWidth":"offsetHeight",e),k=c.parentElement;for(;!k.dataset.virtuosoScroller;)k=k.parentElement;let l="window"===k.lastElementChild.dataset.viewportType;l&&(f=k.ownerDocument.defaultView);let m=h?i?h.scrollLeft:h.scrollTop:l?i?f.scrollX||f.document.documentElement.scrollLeft:f.scrollY||f.document.documentElement.scrollTop:i?k.scrollLeft:k.scrollTop;d({scrollHeight:h?i?h.scrollWidth:h.scrollHeight:l?i?f.document.documentElement.scrollWidth:f.document.documentElement.scrollHeight:i?k.scrollWidth:k.scrollHeight,scrollTop:Math.max(m,0),viewportHeight:h?i?h.offsetWidth:h.offsetHeight:l?i?f.innerWidth:f.innerHeight:i?k.offsetWidth:k.offsetHeight}),null==g||g(i?ak("column-gap",getComputedStyle(c).columnGap,e):ak("row-gap",getComputedStyle(c).rowGap,e)),null!==j&&a(j)},[a,b,e,g,h,d,i]),c,j)}function ak(a,b,c){return"normal"===b||null!=b&&b.endsWith("px")||c(`${a} was not resolved to pixel value correctly`,b,ae.WARN),"normal"===b?0:parseInt(null!=b?b:"0",10)}function al(a,b,c){let d=f.default.useRef(null),e=f.default.useCallback(c=>{let e,f;if(!(null!=c&&c.offsetParent))return;let g=c.getBoundingClientRect(),i=g.width;if(b){let a=b.getBoundingClientRect(),c=g.top-a.top;f=a.height-Math.max(0,c),e=c+b.scrollTop}else{let a=h.current.ownerDocument.defaultView;f=a.innerHeight-Math.max(0,g.top),e=g.top+a.scrollY}d.current={offsetTop:e,visibleHeight:f,visibleWidth:i},a(d.current)},[a,b]),{callbackRef:g,ref:h}=ai(e,!0,c),i=f.default.useCallback(()=>{e(h.current)},[e,h]);return f.default.useEffect(()=>{var a;if(b){b.addEventListener("scroll",i);let a=new ResizeObserver(()=>{requestAnimationFrame(i)});return a.observe(b),()=>{b.removeEventListener("scroll",i),a.unobserve(b)}}{let b=null==(a=h.current)?void 0:a.ownerDocument.defaultView;return null==b||b.addEventListener("scroll",i),null==b||b.addEventListener("resize",i),()=>{null==b||b.removeEventListener("scroll",i),null==b||b.removeEventListener("resize",i)}}},[i,b,h]),g}let am=_(()=>{let a=Z(),b=Z(),c=X(0),d=Z(),e=X(0),f=Z(),g=Z(),h=X(0),i=X(0),j=X(0),k=X(0),l=Z(),m=Z(),n=X(!1),o=X(!1),p=X(!1);return K(S(a,Q(({scrollTop:a})=>a)),b),K(S(a,Q(({scrollHeight:a})=>a)),g),K(b,e),{deviation:c,fixedFooterHeight:j,fixedHeaderHeight:i,footerHeight:k,headerHeight:h,horizontalDirection:o,scrollBy:m,scrollContainerState:a,scrollHeight:g,scrollingInProgress:n,scrollTo:l,scrollTop:b,skipAnimationFrameInResizeObserver:p,smoothScrollTargetReached:d,statefulScrollTop:e,viewportHeight:f}},[],{singleton:!0}),an={lvl:0};function ao(a,b){let c=a.length;if(0===c)return[];let{index:d,value:e}=b(a[0]),f=[];for(let g=1;g<c;g++){let{index:c,value:h}=b(a[g]);f.push({end:c-1,start:d,value:e}),d=c,e=h}return f.push({end:1/0,start:d,value:e}),f}function ap(a){return a===an}function aq(a,b){if(!ap(a))return b===a.k?a.v:b<a.k?aq(a.l,b):aq(a.r,b)}function ar(a,b,c="k"){if(ap(a))return[-1/0,void 0];if(Number(a[c])===b)return[a.k,a.v];if(Number(a[c])<b){let d=ar(a.r,b,c);return d[0]===-1/0?[a.k,a.v]:d}return ar(a.l,b,c)}function as(a,b,c){return ap(a)?ay(b,c,1):b===a.k?aw(a,{k:b,v:c}):b<a.k?aA(az(aw(a,{l:as(a.l,b,c)}))):aA(az(aw(a,{r:as(a.r,b,c)})))}function at(a,b,c){if(ap(a))return[];let d=ar(a,b)[0];return ao(function a(b,c,d){if(ap(b))return[];let{k:e,l:f,r:g,v:h}=b,i=[];return e>c&&(i=i.concat(a(f,c,d))),e>=c&&e<=d&&i.push({k:e,v:h}),e<=d&&(i=i.concat(a(g,c,d))),i}(a,d,c),({k:a,v:b})=>({index:a,value:b}))}function au(a){return ap(a)?[]:[...au(a.l),{k:a.k,v:a.v},...au(a.r)]}function av(a){let{l:b,lvl:c,r:d}=a;if(d.lvl>=c-1&&b.lvl>=c-1)return a;if(c>d.lvl+1){if(ax(b))return az(aw(a,{lvl:c-1}));if(!ap(b)&&!ap(b.r))return aw(b.r,{l:aw(b,{r:b.r.l}),lvl:c,r:aw(a,{l:b.r.r,lvl:c-1})});throw Error("Unexpected empty nodes")}if(ax(a))return aA(aw(a,{lvl:c-1}));if(ap(d)||ap(d.l))throw Error("Unexpected empty nodes");{let b=d.l,e=ax(b)?d.lvl-1:d.lvl;return aw(b,{l:aw(a,{lvl:c-1,r:b.l}),lvl:b.lvl+1,r:aA(aw(d,{l:b.r,lvl:e}))})}}function aw(a,b){return ay(void 0!==b.k?b.k:a.k,void 0!==b.v?b.v:a.v,void 0!==b.lvl?b.lvl:a.lvl,void 0!==b.l?b.l:a.l,void 0!==b.r?b.r:a.r)}function ax(a){return ap(a)||a.lvl>a.r.lvl}function ay(a,b,c,d=an,e=an){return{k:a,l:d,lvl:c,r:e,v:b}}function az(a){let{l:b}=a;return ap(b)||b.lvl!==a.lvl?a:aw(b,{r:aw(a,{l:b.r})})}function aA(a){let{lvl:b,r:c}=a;return ap(c)||ap(c.r)||c.lvl!==b||c.r.lvl!==b?a:aw(c,{l:aw(a,{r:c.l}),lvl:b+1})}function aB(a,b){return!!(a&&a.startIndex===b.startIndex&&a.endIndex===b.endIndex)}function aC(a,b){return!!(a&&a[0]===b[0]&&a[1]===b[1])}let aD=_(()=>({recalcInProgress:X(!1)}),[],{singleton:!0});function aE(a,b,c,d=0){let e=a.length-1;for(;d<=e;){let f=Math.floor((d+e)/2),g=c(a[f],b);if(0===g)return f;if(-1===g){if(e-d<2)return f-1;e=f-1}else{if(e===d)return f;d=f+1}}throw Error(`Failed binary finding record in array - ${a.join(",")}, searched for ${b}`)}function aF(a,b){return Math.round(a.getBoundingClientRect()[b])}function aG(a){return!ap(a.groupOffsetTree)}function aH({index:a},b){return b===a?0:b<a?-1:1}function aI({offset:a},b){return b===a?0:b<a?-1:1}function aJ(a,b,c){if(0===b.length)return 0;let{index:d,offset:e,size:f}=b[aE(b,a,aH)],g=a-d,h=f*g+(g-1)*c+e;return h>0?h+c:h}function aK(a,b){if(!aG(b))return a;let c=0;for(;b.groupIndices[c]<=a+c;)c++;return a+c}function aL(a,b,c){if("u">typeof a.groupIndex)return b.groupIndices[a.groupIndex]+1;{let d=aK("LAST"===a.index?c:a.index,b);return Math.max(0,d,Math.min(c,d))}}function aM(a,[b,c,d,e]){b.length>0&&d("received item sizes",b,ae.DEBUG);let f=a.sizeTree,g=f,h=0;if(c.length>0&&ap(f)&&2===b.length){let a=b[0].size,d=b[1].size;g=c.reduce((b,c)=>as(as(b,c,a),c+1,d),g)}else[g,h]=function(a,b){let c=ap(a)?0:1/0;for(let d of b){let{endIndex:b,size:e,startIndex:f}=d;if(c=Math.min(c,f),ap(a)){a=as(a,0,e);continue}let g=at(a,f-1,b+1);if(g.some(function(a){let{endIndex:b,size:c,startIndex:d}=a;return a=>a.start===d&&(a.end===b||a.end===1/0)&&a.value===c}(d)))continue;let h=!1,i=!1;for(let{end:c,start:d,value:f}of g)h?(b>=d||e===f)&&(a=function a(b,c){if(ap(b))return an;let{k:d,l:e,r:f}=b;if(c!==d)return c<d?av(aw(b,{l:a(e,c)})):av(aw(b,{r:a(f,c)}));if(ap(e))return f;if(ap(f))return e;{let[a,c]=function a(b){return ap(b.r)?[b.k,b.v]:a(b.r)}(e);return av(aw(b,{k:a,l:function a(b){return ap(b.r)?b.l:av(aw(b,{r:a(b.r)}))}(e),v:c}))}}(a,d)):(i=f!==e,h=!0),c>b&&b>=d&&f!==e&&(a=as(a,b+1,f));i&&(a=as(a,f,e))}return[a,c]}(g,b);if(g===f)return a;let{lastIndex:i,lastOffset:j,lastSize:k,offsetTree:l}=aO(a.offsetTree,h,g,e);return{groupIndices:c,groupOffsetTree:c.reduce((a,b)=>as(a,b,aJ(b,l,e)),an),lastIndex:i,lastOffset:j,lastSize:k,offsetTree:l,sizeTree:g}}function aN(a,b){let c=0,d=0;for(;c<a;)c+=b[d+1]-b[d]-1,d++;return d-(c!==a)}function aO(a,b,c,d){let e=a,f=0,g=0,h=0,i=0;if(0!==b){i=aE(e,b-1,aH),h=e[i].offset;let a=ar(c,b-1);f=a[0],g=a[1],e.length&&e[i].size===ar(c,b)[1]&&(i-=1),e=e.slice(0,i+1)}else e=[];for(let{start:a,value:i}of at(c,b,1/0)){let b=a-f,c=b*g+h+b*d;e.push({index:a,offset:c,size:i}),f=a,h=c,g=i}return{lastIndex:f,lastOffset:h,lastSize:g,offsetTree:e}}function aP(a){return{index:a.index,value:a}}let aQ={offsetHeight:"height",offsetWidth:"width"},aR=_(([{log:a},{recalcInProgress:b}])=>{let c=Z(),d=Z(),e=Y(d,0),f=Z(),g=Z(),h=X(0),i=X([]),j=X(void 0),k=X(void 0),l=X(void 0),m=X(void 0),n=X((a,b)=>aF(a,aQ[b])),o=X(void 0),p=X(0),q={groupIndices:[],groupOffsetTree:an,lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:an},r=Y(S(c,W(i,a,p),T(aM,q),O()),q),s=Y(S(i,O(),T((a,b)=>({current:b,prev:a.current}),{current:[],prev:[]}),Q(({prev:a})=>a)),[]);K(S(i,P(a=>a.length>0),W(r,p),Q(([a,b,c])=>{let d=a.reduce((a,d,e)=>as(a,d,aJ(d,b.offsetTree,c)||e),an);return{...b,groupIndices:a,groupOffsetTree:d}})),r),K(S(d,W(r),P(([a,{lastIndex:b}])=>a<b),Q(([a,{lastIndex:b,lastSize:c}])=>[{endIndex:b,size:c,startIndex:a}])),c),K(j,k);let t=Y(S(j,Q(a=>void 0===a)),!0);K(S(k,P(a=>void 0!==a&&ap(J(r).sizeTree)),Q(a=>{let b=J(l),c=J(i).length>0;return b?c?[{endIndex:0,size:b,startIndex:0},{endIndex:1,size:a,startIndex:1}]:[]:[{endIndex:0,size:a,startIndex:0}]})),c),K(S(m,P(a=>void 0!==a&&a.length>0&&ap(J(r).sizeTree)),Q(a=>{let b=[],c=a[0],d=0;for(let e=1;e<a.length;e++){let f=a[e];f!==c&&(b.push({endIndex:e-1,size:c,startIndex:d}),c=f,d=e)}return b.push({endIndex:a.length-1,size:c,startIndex:d}),b})),c),K(S(i,W(l,k),P(([,a,b])=>void 0!==a&&void 0!==b),Q(([a,b,c])=>{let d=[];for(let e=0;e<a.length;e++){let f=a[e],g=a[e+1];d.push({startIndex:f,endIndex:f,size:b}),void 0!==g&&d.push({startIndex:f+1,endIndex:g-1,size:c})}return d})),c);let u=$(S(c,W(r),T(({sizes:a},[b,c])=>({changed:c!==a,sizes:c}),{changed:!1,sizes:q}),Q(a=>a.changed)));S(h,T((a,b)=>({diff:a.prev-b,prev:b}),{diff:0,prev:0}),Q(a=>a.diff))(1,a=>{let{groupIndices:c}=J(r);if(a>0)b(0,!0),f(0,a+aN(a,c));else if(a<0){let b=J(s);b.length>0&&(a-=aN(-a,b)),g(0,a)}}),S(h,W(a))(1,([a,b])=>{a<0&&b("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:h},ae.ERROR)});let v=$(f);K(S(f,W(r),Q(([a,b])=>{let c=b.groupIndices.length>0,d=[],e=b.lastSize;if(c){let c=aq(b.sizeTree,0),f=0,g=0;for(;f<a;){let a=b.groupIndices[g],h=b.groupIndices.length===g+1?1/0:b.groupIndices[g+1]-a-1;d.push({endIndex:a,size:c,startIndex:a}),d.push({endIndex:a+1+h-1,size:e,startIndex:a+1}),g++,f+=h+1}let h=au(b.sizeTree);return f!==a&&h.shift(),h.reduce((b,{k:c,v:d})=>{let e=b.ranges;return 0!==b.prevSize&&(e=[...b.ranges,{endIndex:c+a-1,size:b.prevSize,startIndex:b.prevIndex}]),{prevIndex:c+a,prevSize:d,ranges:e}},{prevIndex:a,prevSize:0,ranges:d}).ranges}return au(b.sizeTree).reduce((b,{k:c,v:d})=>({prevIndex:c+a,prevSize:d,ranges:[...b.ranges,{endIndex:c+a-1,size:b.prevSize,startIndex:b.prevIndex}]}),{prevIndex:0,prevSize:e,ranges:[]}).ranges})),c);let w=$(S(g,W(r,p),Q(([a,{offsetTree:b},c])=>aJ(-a,b,c))));return K(S(g,W(r,p),Q(([a,b,c])=>{if(b.groupIndices.length>0){if(ap(b.sizeTree))return b;let d=an,e=J(s),f=0,g=0,h=0;for(;f<-a;){h=e[g];let a=e[g+1]-h-1;g++,f+=a+1}return d=au(b.sizeTree).reduce((b,{k:c,v:d})=>as(b,Math.max(0,c+a),d),d),f!==-a&&(d=as(d,0,aq(b.sizeTree,h)),d=as(d,1,ar(b.sizeTree,-a+1)[1])),{...b,sizeTree:d,...aO(b.offsetTree,0,d,c)}}{let d=au(b.sizeTree).reduce((b,{k:c,v:d})=>as(b,Math.max(0,c+a),d),an);return{...b,sizeTree:d,...aO(b.offsetTree,0,d,c)}}})),r),{beforeUnshiftWith:v,data:o,defaultItemSize:k,firstItemIndex:h,fixedItemSize:j,fixedGroupSize:l,gap:p,groupIndices:i,heightEstimates:m,itemSize:n,listRefresh:u,shiftWith:g,shiftWithOffset:w,sizeRanges:c,sizes:r,statefulTotalCount:e,totalCount:d,trackItemSizes:t,unshiftWith:f}},H(ag,aD),{singleton:!0});function aS(a){return a.reduce((a,b)=>(a.groupIndices.push(a.totalCount),a.totalCount+=b+1,a),{groupIndices:[],totalCount:0})}let aT=_(([{groupIndices:a,sizes:b,totalCount:c},{headerHeight:d,scrollTop:e}])=>{let f=Z(),g=Z(),h=$(S(f,Q(aS)));return K(S(h,Q(a=>a.totalCount)),c),K(S(h,Q(a=>a.groupIndices)),a),K(S(ab(e,b,d),P(([a,b])=>aG(b)),Q(([a,b,c])=>ar(b.groupOffsetTree,Math.max(a-c,0),"v")[0]),O(),Q(a=>[a])),g),{groupCounts:f,topItemsIndexes:g}},H(aR,am)),aU=_(([{log:a}])=>{let b=X(!1),c=$(S(b,P(a=>a),O()));return b(1,b=>{b&&J(a)("props updated",{},ae.DEBUG)}),{didMount:c,propsReady:b}},H(ag),{singleton:!0}),aV="u">typeof document&&"scrollBehavior"in document.documentElement.style;function aW(a){let b="number"==typeof a?{index:a}:a;return b.align||(b.align="start"),b.behavior&&aV||(b.behavior="auto"),b.offset||(b.offset=0),b}let aX=_(([{gap:a,listRefresh:b,sizes:c,totalCount:d},{fixedFooterHeight:e,fixedHeaderHeight:f,footerHeight:g,headerHeight:h,scrollingInProgress:i,scrollTo:j,smoothScrollTargetReached:k,viewportHeight:l},{log:m}])=>{let n=Z(),o=Z(),p=X(0),q=null,r=null,s=null;function t(){q&&(q(),q=null),s&&(s(),s=null),r&&(clearTimeout(r),r=null),i(0,!1)}return K(S(n,W(c,l,d,p,h,g,m),W(a,f,e),Q(([[a,c,d,e,f,g,h,j],l,m,p])=>{let u=aW(a),{align:v,behavior:w,offset:x}=u,y=e-1,z=aL(u,c,y),A=aJ(z,c.offsetTree,l)+g;"end"===v?(A+=m+ar(c.sizeTree,z)[1]-d+p,z===y&&(A+=h)):"center"===v?A+=(m+ar(c.sizeTree,z)[1]-d+p)/2:A-=f,x&&(A+=x);let B=b=>{t(),b?(j("retrying to scroll to",{location:a},ae.DEBUG),n(0,a)):(o(0,!0),j("list did not change, scroll successful",{},ae.DEBUG))};if(t(),"smooth"===w){let a=!1;s=b(1,b=>{a=a||b}),q=L(k,()=>{B(a)})}else q=L(S(b,a=>{let b=setTimeout(()=>{a(!1)},150);return c=>{c&&(a(!0),clearTimeout(b))}}),B);return r=setTimeout(()=>{t()},1200),i(0,!0),j("scrolling from index to",{behavior:w,index:z,top:A},ae.DEBUG),{behavior:w,top:A}})),j),{scrollTargetReached:o,scrollToIndex:n,topListHeight:p}},H(aR,am,ag),{singleton:!0});function aY(a,b){0==a?b():requestAnimationFrame(()=>{aY(a-1,b)})}function aZ(a,b){return"number"==typeof a?a:"LAST"===a.index?b-1:a.index}let a$=_(([{defaultItemSize:a,listRefresh:b,sizes:c},{scrollTop:d},{scrollTargetReached:e,scrollToIndex:f},{didMount:g}])=>{let h=X(!0),i=X(0),j=X(!0);return K(S(g,W(i),P(([a,b])=>!!b),R(!1)),h),K(S(g,W(i),P(([a,b])=>!!b),R(!1)),j),S(ab(b,g),W(h,c,a,j),P(([[,a],b,{sizeTree:c},d,e])=>a&&(!ap(c)||E(d))&&!b&&!e),W(i))(1,([,a])=>{L(e,()=>{j(0,!0)}),aY(4,()=>{L(d,()=>{h(0,!0)}),f(0,a)})}),{initialItemFinalLocationReached:j,initialTopMostItemIndex:i,scrolledToInitialItem:h}},H(aR,am,aX,aU),{singleton:!0});function a_(a,b){return 1.01>Math.abs(a-b)}let a0="down",a1={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},a2=_(([{footerHeight:a,headerHeight:b,scrollBy:c,scrollContainerState:d,scrollTop:e,viewportHeight:f}])=>{let g=X(!1),h=X(!0),i=Z(),j=Z(),k=X(4),l=X(0),m=Y(S(ad(S(ac(e),U(1),R(!0)),S(ac(e),U(1),R(!1),M(100))),O()),!1),n=Y(S(ad(S(c,R(!0)),S(c,R(!1),M(200))),O()),!1);K(S(ab(ac(e),ac(l)),Q(([a,b])=>a<=b),O()),h),K(S(h,V(50)),j);let o=$(S(ab(d,ac(f),ac(b),ac(a),ac(k)),T((a,[{scrollHeight:b,scrollTop:c},d,e,f,g])=>{let h={scrollHeight:b,scrollTop:c,viewportHeight:d};if(c+d-b>-g){let b,d;return c>a.state.scrollTop?(b="SCROLLED_DOWN",d=a.state.scrollTop-c):(b="SIZE_DECREASED",d=a.state.scrollTop-c||a.scrollTopDelta),{atBottom:!0,atBottomBecause:b,scrollTopDelta:d,state:h}}return{atBottom:!1,notAtBottomBecause:h.scrollHeight>a.state.scrollHeight?"SIZE_INCREASED":d<a.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":c<a.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",state:h}},a1),O((a,b)=>a&&a.atBottom===b.atBottom))),p=Y(S(d,T((a,{scrollHeight:b,scrollTop:c,viewportHeight:d})=>{if(a_(a.scrollHeight,b))return{changed:!1,jump:0,scrollHeight:b,scrollTop:c};{let e=b-(c+d)<1;return a.scrollTop!==c&&e?{changed:!0,jump:a.scrollTop-c,scrollHeight:b,scrollTop:c}:{changed:!0,jump:0,scrollHeight:b,scrollTop:c}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),P(a=>a.changed),Q(a=>a.jump)),0);K(S(o,Q(a=>a.atBottom)),g),K(S(g,V(50)),i);let q=X(a0);K(S(d,Q(({scrollTop:a})=>a),O(),T((a,b)=>J(n)?{direction:a.direction,prevScrollTop:b}:{direction:b<a.prevScrollTop?"up":a0,prevScrollTop:b},{direction:a0,prevScrollTop:0}),Q(a=>a.direction)),q),K(S(d,V(50),R("none")),q);let r=X(0);return K(S(m,P(a=>!a),R(0)),r),K(S(e,V(100),W(m),P(([a,b])=>!!b),T(([a,b],[c])=>[b,c],[0,0]),Q(([a,b])=>b-a)),r),{atBottomState:o,atBottomStateChange:i,atBottomThreshold:k,atTopStateChange:j,atTopThreshold:l,isAtBottom:g,isAtTop:h,isScrolling:m,lastJumpDueToItemResize:p,scrollDirection:q,scrollVelocity:r}},H(am)),a3="bottom",a4="none";function a5(a,b,c){return"number"==typeof a?"up"===c&&"top"===b||c===a0&&b===a3?a:0:"up"===c?"top"===b?a.main:a.reverse:b===a3?a.main:a.reverse}function a6(a,b){var c;return"number"==typeof a?a:null!=(c=a[b])?c:0}let a7=_(([{deviation:a,fixedHeaderHeight:b,headerHeight:c,scrollTop:d,viewportHeight:e}])=>{let f=Z(),g=X(0),h=X(0),i=X(0),j=Y(S(ab(ac(d),ac(e),ac(c),ac(f,aC),ac(i),ac(g),ac(b),ac(a),ac(h)),Q(([a,b,c,[d,e],f,g,h,i,j])=>{let k=a-i,l=Math.max(c-k,0),m=a4,n=a6(j,"top"),o=a6(j,a3);return d-=i,d+=c+h,e+=c+h,d>a+(g+h)-n&&(m="up"),(e-=i)<a-l+b+o&&(m=a0),m!==a4?[Math.max(k-c-a5(f,"top",m)-n,0),k-l-h+b+a5(f,a3,m)+o]:null}),P(a=>null!=a),O(aC)),[0,0]);return{increaseViewportBy:h,listBoundary:f,overscan:i,topListHeight:g,visibleRange:j}},H(am),{singleton:!0}),a8={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function a9(a,b,c,d,e,f){let{lastIndex:g,lastOffset:h,lastSize:i}=e,j=0,k=0;if(a.length>0){j=a[0].offset;let b=a[a.length-1];k=b.offset+b.size}let l=c-g,m=j,n=h+l*i+(l-1)*d-k;return{bottom:k,firstItemIndex:f,items:bb(a,e,f),offsetBottom:n,offsetTop:j,top:m,topItems:bb(b,e,f),topListHeight:b.reduce((a,b)=>b.size+a,0),totalCount:c}}function ba(a,b,c,d,e,f){let g=0;if(c.groupIndices.length>0)for(let b of c.groupIndices){if(b-g>=a)break;g++}let h=a+g,i=aZ(b,h);return a9(Array.from({length:h}).map((a,b)=>({data:f[b+i],index:b+i,offset:0,size:0})),[],h,e,c,d)}function bb(a,b,c){if(0===a.length)return[];if(!aG(b))return a.map(a=>({...a,index:a.index+c,originalIndex:a.index}));let d=a[0].index,e=a[a.length-1].index,f=[],g=at(b.groupOffsetTree,d,e),h,i=0;for(let d of a){let a;(!h||h.end<d.index)&&(h=g.shift(),i=b.groupIndices.indexOf(h.start)),a=d.index===h.start?{index:i,type:"group"}:{groupIndex:i,index:d.index-(i+1)+c},f.push({...a,data:d.data,offset:d.offset,originalIndex:d.index,size:d.size})}return f}function bc(a,b){var c;return void 0===a?0:"number"==typeof a?a:null!=(c=a[b])?c:0}let bd=_(([{data:a,firstItemIndex:b,gap:c,sizes:d,totalCount:e},f,{listBoundary:g,topListHeight:h,visibleRange:i},{initialTopMostItemIndex:j,scrolledToInitialItem:k},{topListHeight:l},m,{didMount:n},{recalcInProgress:o}])=>{let p=X([]),q=X(0),r=Z(),s=X(0);K(f.topItemsIndexes,p);let t=Y(S(ab(n,o,ac(i,aC),ac(e),ac(d),ac(j),k,ac(p),ac(b),ac(c),ac(s),a),P(([a,b,,c,,,,,,,,d])=>{let e=d&&d.length!==c;return a&&!b&&!e}),Q(([,,[a,b],c,d,e,f,g,h,i,j,k])=>{var l,m,n,o,p;let{offsetTree:r,sizeTree:s}=d,t=J(q);if(0===c)return{...a8,totalCount:c};if(0===a&&0===b)return 0===t?{...a8,totalCount:c}:ba(t,e,d,h,i,k||[]);if(ap(s))return t>0?null:a9(function(a,b,c){if(aG(b)){let d=aK(a,b);return[{index:ar(b.groupOffsetTree,d)[0],offset:0,size:0},{data:null==c?void 0:c[0],index:d,offset:0,size:0}]}return[{data:null==c?void 0:c[0],index:a,offset:0,size:0}]}(aZ(e,c),d,k),[],c,i,d,h);let u=[];if(g.length>0){let a=g[0],b=g[g.length-1],c=0;for(let d of at(s,a,b)){let e=d.value,f=Math.max(d.start,a),g=Math.min(d.end,b);for(let a=f;a<=g;a++)u.push({data:null==k?void 0:k[a],index:a,offset:c,size:e}),c+=e}}if(!f)return a9([],u,c,i,d,h);let v=g.length>0?g[g.length-1]+1:0,w=function(a,b,c,d=0){let e,f;return d>0&&(b=Math.max(b,a[aE(a,d,aH)].offset)),ao((e=aE(a,b,aI),f=aE(a,c,aI,e),a.slice(e,f+1)),aP)}(r,a,b,v);if(0===w.length)return null;let x=c-1,y=((c=>{for(let d of w){let e=d.value,f=e.offset,g=d.start,h=e.size;if(e.offset<a){let b=(g+=Math.floor((a-e.offset+i)/(h+i)))-d.start;f+=b*h+b*i}g<v&&(f+=(v-g)*h,g=v);let j=Math.min(d.end,x);for(let a=g;a<=j&&!(f>=b);a++)c.push({data:null==k?void 0:k[a],index:a,offset:f,size:h}),f+=h+i}})(p=[]),p),z=bc(j,"top"),A=bc(j,a3);if(y.length>0&&(z>0||A>0)){let a=y[0],b=y[y.length-1];if(z>0&&a.index>v){let b=Math.min(z,a.index-v),c=[],d=a.offset;for(let e=a.index-1;e>=a.index-b;e--){let b=null!=(m=null==(l=at(s,e,e)[0])?void 0:l.value)?m:a.size;d-=b+i,c.unshift({data:null==k?void 0:k[e],index:e,offset:d,size:b})}y.unshift(...c)}if(A>0&&b.index<x){let a=Math.min(A,x-b.index),c=b.offset+b.size+i;for(let d=b.index+1;d<=b.index+a;d++){let a=null!=(o=null==(n=at(s,d,d)[0])?void 0:n.value)?o:b.size;y.push({data:null==k?void 0:k[d],index:d,offset:c,size:a}),c+=a+i}}}return a9(y,u,c,i,d,h)}),P(a=>null!==a),O()),a8);K(S(a,P(E),Q(a=>null==a?void 0:a.length)),e),K(S(t,Q(a=>a.topListHeight)),l),K(l,h),K(S(t,Q(a=>[a.top,a.bottom])),g),K(S(t,Q(a=>a.items)),r);let u=$(S(t,P(({items:a})=>a.length>0),W(e,a),P(([{items:a},b])=>a[a.length-1].originalIndex===b-1),Q(([,a,b])=>[a-1,b]),O(aC),Q(([a])=>a))),v=$(S(t,V(200),P(({items:a,topItems:b})=>a.length>0&&a[0].originalIndex===b.length),Q(({items:a})=>a[0].index),O())),w=$(S(t,P(({items:a})=>a.length>0),Q(({items:a})=>{let b=0,c=a.length-1;for(;"group"===a[b].type&&b<c;)b++;for(;"group"===a[c].type&&c>b;)c--;return{endIndex:a[c].index,startIndex:a[b].index}}),O(aB)));return{endReached:u,initialItemCount:q,itemsRendered:r,listState:t,minOverscanItemCount:s,rangeChanged:w,startReached:v,topItemsIndexes:p,...m}},H(aR,aT,a7,a$,aX,a2,aU,aD),{singleton:!0}),be=_(([{fixedFooterHeight:a,fixedHeaderHeight:b,footerHeight:c,headerHeight:d},{listState:e}])=>{let f=Z(),g=Y(S(ab(c,a,d,b,e),Q(([a,b,c,d,e])=>a+b+c+d+e.offsetBottom+e.bottom)),0);return K(ac(g),f),{totalListHeight:g,totalListHeightChanged:f}},H(am,bd),{singleton:!0}),bf=_(([{viewportHeight:a},{totalListHeight:b}])=>{let c=X(!1),d=Y(S(ab(c,a,b),P(([a])=>a),Q(([,a,b])=>Math.max(0,a-b)),V(0),O()),0);return{alignToBottom:c,paddingTopAddition:d}},H(am,be),{singleton:!0}),bg=_(()=>({context:X(null)})),bh=({itemBottom:a,itemTop:b,locationParams:{align:c,behavior:d,...e},viewportBottom:f,viewportTop:g})=>b<g?{...e,align:null!=c?c:"start",behavior:d}:a>f?{...e,align:null!=c?c:"end",behavior:d}:null,bi=_(([{gap:a,sizes:b,totalCount:c},{fixedFooterHeight:d,fixedHeaderHeight:e,headerHeight:f,scrollingInProgress:g,scrollTop:h,viewportHeight:i},{scrollToIndex:j}])=>{let k=Z();return K(S(k,W(b,i,c,f,e,d,h),W(a),Q(([[a,b,c,d,e,f,h,i],j])=>{let{align:k,behavior:l,calculateViewLocation:m=bh,done:n,...o}=a,p=aL(a,b,d-1),q=aJ(p,b.offsetTree,j)+e+f,r=m({itemBottom:q+ar(b.sizeTree,p)[1],itemTop:q,locationParams:{align:k,behavior:l,...o},viewportBottom:i+c-h,viewportTop:i+f});return r?n&&L(S(g,P(a=>!a),U(J(g)?1:2)),n):n&&n(),r}),P(a=>null!==a)),j),{scrollIntoView:k}},H(aR,am,aX,bd,ag),{singleton:!0});function bj(a){return!!a&&("smooth"===a?"smooth":"auto")}let bk=_(([{listRefresh:a,totalCount:b,fixedItemSize:c,data:d},{atBottomState:e,isAtBottom:f},{scrollToIndex:g},{scrolledToInitialItem:h},{didMount:i,propsReady:j},{log:k},{scrollingInProgress:l},{context:m},{scrollIntoView:n}])=>{let o=X(!1),p=Z(),q=null;function r(a){g(0,{align:"end",behavior:a,index:"LAST"})}function s(a){setTimeout(L(e,b=>{!a||b.atBottom||"SIZE_INCREASED"!==b.notAtBottomBecause||q||(J(k)("scrolling to bottom due to increased size",{},ae.DEBUG),r("auto"))}),100)}S(ab(S(ac(b),U(1)),i),W(ac(o),f,h,l),Q(([[a,b],c,d,e,f])=>{let g,h=b&&e,i="auto";return h&&(g=d||f,i="function"==typeof c?bj(c(g)):g&&bj(c),h=h&&!!i),{followOutputBehavior:i,shouldFollow:h,totalCount:a}}),P(({shouldFollow:a})=>a))(1,({followOutputBehavior:b,totalCount:d})=>{q&&(q(),q=null),J(c)?requestAnimationFrame(()=>{J(k)("following output to ",{totalCount:d},ae.DEBUG),r(b)}):q=L(a,()=>{J(k)("following output to ",{totalCount:d},ae.DEBUG),r(b),q=null})}),S(ab(ac(o),b,j),P(([a,,b])=>a&&b),T(({value:a},[,b])=>({refreshed:a===b,value:b}),{refreshed:!1,value:0}),P(({refreshed:a})=>a),W(o,b))(1,([,a])=>{J(h)&&s(!1!==a)}),p(1,()=>{s(!1!==J(o))}),ab(ac(o),e)(1,([a,b])=>{a&&!b.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===b.notAtBottomBecause&&r("auto")});let t=X(null),u=Z();return K(ad(S(ac(d),Q(a=>{var b;return null!=(b=null==a?void 0:a.length)?b:0})),S(ac(b))),u),S(ab(S(u,U(1)),i),W(ac(t),h,l,m),Q(([[a,b],c,d,e,f])=>b&&d&&(null==c?void 0:c({context:f,totalCount:a,scrollingInProgress:e}))),P(a=>!!a),V(0))(1,b=>{q&&(q(),q=null),J(c)?requestAnimationFrame(()=>{J(k)("scrolling into view",{}),n(0,b)}):q=L(a,()=>{J(k)("scrolling into view",{}),n(0,b),q=null})}),{autoscrollToBottom:p,followOutput:o,scrollIntoViewOnChange:t}},H(aR,a2,aX,a$,aU,ag,am,bg,bi)),bl=_(([{data:a,firstItemIndex:b,gap:c,sizes:d},{initialTopMostItemIndex:e},{initialItemCount:f,listState:g},{didMount:h}])=>(K(S(h,W(f),P(([,a])=>0!==a),W(e,d,b,c,a),Q(([[,a],b,c,d,e,f=[]])=>ba(a,b,c,d,e,f))),g),{}),H(aR,a$,bd,aU),{singleton:!0}),bm=_(([{didMount:a},{scrollTo:b},{listState:c}])=>{let d=X(0);return S(a,W(d),P(([,a])=>0!==a),Q(([,a])=>({top:a})))(1,a=>{L(S(c,U(1),P(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{b(0,a)})})}),{initialScrollTop:d}},H(aU,am,bd),{singleton:!0}),bn=_(([{scrollVelocity:a}])=>{let b=X(!1),c=Z(),d=X(!1);return K(S(a,W(d,b,c),P(([a,b])=>!!b),Q(([a,b,c,d])=>{let{enter:e,exit:f}=b;if(c){if(f(a,d))return!1}else if(e(a,d))return!0;return c}),O()),b),S(ab(b,a,c),W(d))(1,([[a,b,c],d])=>{a&&d&&d.change&&d.change(b,c)}),{isSeeking:b,scrollSeekConfiguration:d,scrollSeekRangeChanged:c,scrollVelocity:a}},H(a2),{singleton:!0}),bo=_(([{scrollContainerState:a,scrollTo:b}])=>{let c=Z(),d=Z(),e=Z(),f=X(!1),g=X(void 0);return K(S(ab(c,d),Q(([{scrollHeight:a,scrollTop:b,viewportHeight:c},{offsetTop:d}])=>({scrollHeight:a,scrollTop:Math.max(0,b-d),viewportHeight:c}))),a),K(S(b,W(d),Q(([a,{offsetTop:b}])=>({...a,top:a.top+b}))),e),{customScrollParent:g,useWindowScroll:f,windowScrollContainerState:c,windowScrollTo:e,windowViewportRect:d}},H(am)),bp=_(([{sizeRanges:a,sizes:b},{headerHeight:c,scrollTop:d},{initialTopMostItemIndex:e},{didMount:f},{useWindowScroll:g,windowScrollContainerState:h,windowViewportRect:i}])=>{let j=Z(),k=X(void 0),l=X(null),m=X(null);return K(h,l),K(i,m),S(j,W(b,d,g,l,m,c))(1,([a,b,c,d,e,f,g])=>{let h=au(b.sizeTree).map(({k:a,v:b},c,d)=>{let e=d[c+1];return{endIndex:e?e.k-1:1/0,size:b,startIndex:a}});d&&null!==e&&null!==f&&(c=e.scrollTop-f.offsetTop),a({ranges:h,scrollTop:c-=g})}),K(S(k,P(E),Q(bq)),e),K(S(f,W(k),P(([,a])=>void 0!==a),O(),Q(([,a])=>a.ranges)),a),{getState:j,restoreStateFrom:k}},H(aR,am,a$,aU,bo));function bq(a){return{align:"start",index:0,offset:a.scrollTop}}let br=_(([{topItemsIndexes:a}])=>{let b=X(0);return K(S(b,P(a=>a>=0),Q(a=>Array.from({length:a}).map((a,b)=>b))),a),{topItemCount:b}},H(bd));function bs(a){let b=!1,c;return()=>(b||(b=!0,c=a()),c)}let bt=bs(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),bu=_(([{deviation:a,scrollBy:b,scrollingInProgress:c,scrollTop:d},{isAtBottom:e,isScrolling:f,lastJumpDueToItemResize:g,scrollDirection:h},{listState:i},{beforeUnshiftWith:j,gap:k,shiftWithOffset:l,sizes:m},{log:n},{recalcInProgress:o}])=>{let p=$(S(i,W(g),T(([,a,b,c],[{bottom:d,items:e,offsetBottom:f,totalCount:g},h])=>{let i=d+f,j=0;return b===g&&a.length>0&&e.length>0&&(0===e[0].originalIndex&&0===a[0].originalIndex||0!=(j=i-c)&&(j+=h)),[j,e,g,i]},[0,[],0,0]),P(([a])=>0!==a),W(d,h,c,e,n,o),P(([,a,b,c,,,d])=>!d&&!c&&0!==a&&"up"===b),Q(([[a],,,,,b])=>(b("Upward scrolling compensation",{amount:a},ae.DEBUG),a))));function q(c){c>0?(b(0,{behavior:"auto",top:-c}),a(0,0)):(a(0,0),b(0,{behavior:"auto",top:-c}))}return S(p,W(a,f))(1,([b,c,d])=>{d&&bt()?a(0,c-b):q(-b)}),S(ab(Y(f,!1),a,o),P(([a,b,c])=>!a&&!c&&0!==b),Q(([a,b])=>b),V(1))(1,q),K(S(l,Q(a=>({top:-a}))),b),S(j,W(m,k),Q(([a,{groupIndices:b,lastSize:c,sizeTree:d},e])=>{if(0===b.length)return a*(c+e);{let f=0,g=aq(d,0),h=0,i=0;for(;h<a;){h++,f+=g;let d=b.length===i+1?1/0:b[i+1]-b[i]-1;h+d>a&&(f-=g,d=a-h+1),h+=d,f+=d*(c+e),i++}return f}}))(1,c=>{a(0,c),requestAnimationFrame(()=>{b(0,{top:c}),requestAnimationFrame(()=>{a(0,0),o(0,!1)})})}),{deviation:a}},H(am,a2,bd,aR,ag,aD)),bv=_(([a,b,c,d,e,f,g,h,i,j,k])=>({...a,...b,...c,...d,...e,...f,...g,...h,...i,...j,...k}),H(a7,bl,aU,bn,be,bm,bf,bo,bi,ag,bg)),bw=_(([{data:a,defaultItemSize:b,firstItemIndex:c,fixedItemSize:d,fixedGroupSize:e,gap:f,groupIndices:g,heightEstimates:h,itemSize:i,sizeRanges:j,sizes:k,statefulTotalCount:l,totalCount:m,trackItemSizes:n},{initialItemFinalLocationReached:o,initialTopMostItemIndex:p,scrolledToInitialItem:q},r,s,t,u,{scrollToIndex:v},w,{topItemCount:x},{groupCounts:y},z])=>{let{listState:A,minOverscanItemCount:B,topItemsIndexes:C,rangeChanged:D,...E}=u;return K(D,z.scrollSeekRangeChanged),K(S(z.windowViewportRect,Q(a=>a.visibleHeight)),r.viewportHeight),{data:a,defaultItemHeight:b,firstItemIndex:c,fixedItemHeight:d,fixedGroupHeight:e,gap:f,groupCounts:y,heightEstimates:h,initialItemFinalLocationReached:o,initialTopMostItemIndex:p,scrolledToInitialItem:q,sizeRanges:j,topItemCount:x,topItemsIndexes:C,totalCount:m,...t,groupIndices:g,itemSize:i,listState:A,minOverscanItemCount:B,scrollToIndex:v,statefulTotalCount:l,trackItemSizes:n,rangeChanged:D,...E,...z,...r,sizes:k,...s}},H(aR,a$,am,bp,bk,bd,aX,bu,br,aT,bv)),bx="u">typeof document?f.default.useLayoutEffect:f.default.useEffect;function by(a,b,d){let e=Object.keys(b.required||{}),g=Object.keys(b.optional||{}),h=Object.keys(b.methods||{}),i=Object.keys(b.events||{}),j=f.default.createContext({});function k(a,c){for(let d of(a.propsReady&&(0,a.propsReady)(0,!1),e))(0,a[b.required[d]])(0,c[d]);for(let d of g)d in c&&(0,a[b.optional[d]])(0,c[d]);a.propsReady&&(0,a.propsReady)(0,!0)}function l(a){return i.reduce((c,d)=>{var e;let f,g,h;return c[d]=(e=a[b.events[d]],h=()=>null==f?void 0:f(),function(a,b){switch(a){case 1:return b?g===b?void 0:(h(),g=b,f=e(1,b)):(h(),F);case 2:h(),g=null;return}}),c},{})}return{Component:f.default.forwardRef((m,n)=>{var o;let{children:p,...q}=m,[r]=f.default.useState(()=>{var b;let c,d;return c=new Map,k(b=(d=({constructor:a,dependencies:b,id:e,singleton:f})=>{if(f&&c.has(e))return c.get(e);let g=a(b.map(a=>d(a)));return f&&c.set(e,g),g})(a),q),b}),[s]=f.default.useState(()=>l(r));return bx(()=>{for(let a of i)a in q&&(0,s[a])(1,q[a]);return()=>{Object.values(s).map(I)}},[q,s,r]),bx(()=>{k(r,q)}),f.default.useImperativeHandle(n,(o=h.reduce((a,c)=>(a[c]=a=>{(0,r[b.methods[c]])(0,a)},a),{}),()=>o)),(0,c.jsx)(j.Provider,{value:r,children:d?(0,c.jsx)(d,{...function(a,b){let c={},d={},e=0,f=a.length;for(;e<f;)d[a[e]]=1,e+=1;for(let a in b)Object.hasOwn(d,a)||(c[a]=b[a]);return c}([...e,...g,...i],q),children:p}):p})}),useEmitter:(a,b)=>{let c=f.default.useContext(j)[a];bx(()=>c(1,b),[b,c])},useEmitterValue:f.default.version.startsWith("18")?a=>{let b=f.default.useContext(j)[a],c=f.default.useCallback(a=>b(1,a),[b]);return f.default.useSyncExternalStore(c,()=>J(b),()=>J(b))}:a=>{let b=f.default.useContext(j)[a],[c,d]=f.default.useState(()=>J(b));return bx(()=>b(1,a=>{a!==c&&d(()=>a)}),[b,c]),c},usePublisher:a=>{let b=f.default.useContext(j);return f.default.useCallback(c=>{(0,b[a])(0,c)},[b,a])}}}let bz=f.default.createContext(void 0),bA=f.default.createContext(void 0),bB="u">typeof document?f.default.useLayoutEffect:f.default.useEffect;function bC(a){return"self"in a}function bD(a,b,c,d=F,e,g){let h=f.default.useRef(null),i=f.default.useRef(null),j=f.default.useRef(null),k=f.default.useCallback(c=>{let d,e,f,h=c.target;if("body"in h||bC(h)){let a=bC(h)?h:h.defaultView;f=g?a.scrollX:a.scrollY,d=g?a.document.documentElement.scrollWidth:a.document.documentElement.scrollHeight,e=g?a.innerWidth:a.innerHeight}else f=g?h.scrollLeft:h.scrollTop,d=g?h.scrollWidth:h.scrollHeight,e=g?h.offsetWidth:h.offsetHeight;let k=()=>{a({scrollHeight:d,scrollTop:Math.max(f,0),viewportHeight:e})};c.suppressFlushSync?k():B.default.flushSync(k),null!==i.current&&(f===i.current||f<=0||f===d-e)&&(i.current=null,b(!0),j.current&&(clearTimeout(j.current),j.current=null))},[a,b,g]);return f.default.useEffect(()=>{let a=e||h.current;return d(e||h.current),k({suppressFlushSync:!0,target:a}),a.addEventListener("scroll",k,{passive:!0}),()=>{d(null),a.removeEventListener("scroll",k)}},[h,k,c,d,e]),{scrollByCallback:function(a){g&&(a={behavior:a.behavior,left:a.top}),h.current.scrollBy(a)},scrollerRef:h,scrollToCallback:function(c){let d,e,f,k=h.current;if(!k||(g?"offsetWidth"in k&&0===k.offsetWidth:"offsetHeight"in k&&0===k.offsetHeight))return;let l="smooth"===c.behavior;bC(k)?(e=Math.max(aF(k.document.documentElement,g?"width":"height"),g?k.document.documentElement.scrollWidth:k.document.documentElement.scrollHeight),d=g?k.innerWidth:k.innerHeight,f=g?window.scrollX:window.scrollY):(e=k[g?"scrollWidth":"scrollHeight"],d=aF(k,g?"width":"height"),f=k[g?"scrollLeft":"scrollTop"]);let m=e-d;if(c.top=Math.ceil(Math.max(Math.min(m,c.top),0)),a_(d,e)||c.top===f){a({scrollHeight:e,scrollTop:f,viewportHeight:d}),l&&b(!0);return}l?(i.current=c.top,j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{j.current=null,i.current=null,b(!0)},1e3)):i.current=null,g&&(c={behavior:c.behavior,left:c.top}),k.scrollTo(c)}}}let bE="-webkit-sticky",bF="sticky",bG=bs(()=>{if(typeof document>"u")return bF;let a=document.createElement("div");return a.style.position=bE,a.style.position===bE?bE:bF});function bH(a){return a}let bI=_(()=>{let a=X(a=>`Item ${a}`),b=X(a=>`Group ${a}`),c=X({}),d=X(bH),e=X("div"),f=X(F),g=(a,b=null)=>Y(S(c,Q(b=>b[a]),O()),b);return{components:c,computeItemKey:d,EmptyPlaceholder:g("EmptyPlaceholder"),FooterComponent:g("Footer"),GroupComponent:g("Group","div"),groupContent:b,HeaderComponent:g("Header"),HeaderFooterTag:e,ItemComponent:g("Item","div"),itemContent:a,ListComponent:g("List","div"),ScrollerComponent:g("Scroller","div"),scrollerRef:f,ScrollSeekPlaceholder:g("ScrollSeekPlaceholder"),TopItemListComponent:g("TopItemList")}}),bJ=_(([a,b])=>({...a,...b}),H(bw,bI)),bK=({height:a})=>(0,c.jsx)("div",{style:{height:a}}),bL={overflowAnchor:"none",position:bG(),zIndex:1},bM={overflowAnchor:"none"},bN={...bM,display:"inline-block",height:"100%"},bO=f.default.memo(function({showTopList:a=!1}){let b=b1("listState"),d=b2("sizeRanges"),e=b1("useWindowScroll"),g=b1("customScrollParent"),h=b2("windowScrollContainerState"),i=b2("scrollContainerState"),j=b1("itemContent"),k=b1("context"),l=b1("groupContent"),m=b1("trackItemSizes"),n=b1("itemSize"),o=b1("log"),p=b2("gap"),q=b1("horizontalDirection"),{callbackRef:r}=aj(d,n,m,a?F:g||e?h:i,o,p,g,q,b1("skipAnimationFrameInResizeObserver")),[s,t]=f.default.useState(0);b0("deviation",a=>{s!==a&&t(a)});let u=b1("EmptyPlaceholder"),v=b1("ScrollSeekPlaceholder")||bK,w=b1("ListComponent"),x=b1("ItemComponent"),y=b1("GroupComponent"),z=b1("computeItemKey"),A=b1("isSeeking"),B=b1("groupIndices").length>0,C=b1("alignToBottom"),D=b1("initialItemFinalLocationReached"),E=a?{}:{boxSizing:"border-box",...q?{display:"inline-block",height:"100%",marginLeft:0!==s?s:C?"auto":0,paddingLeft:b.offsetTop,paddingRight:b.offsetBottom,whiteSpace:"nowrap"}:{marginTop:0!==s?s:C?"auto":0,paddingBottom:b.offsetBottom,paddingTop:b.offsetTop},...D?{}:{visibility:"hidden"}};return!a&&0===b.totalCount&&u?(0,c.jsx)(u,{...bT(u,k)}):(0,c.jsx)(w,{...bT(w,k),"data-testid":a?"virtuoso-top-item-list":"virtuoso-item-list",ref:r,style:E,children:(a?b.topItems:b.items).map(a=>{let c=a.originalIndex,d=z(c+b.firstItemIndex,a.data,k);return A?(0,f.createElement)(v,{...bT(v,k),height:a.size,index:a.index,key:d,type:a.type||"item",..."group"===a.type?{}:{groupIndex:a.groupIndex}}):"group"===a.type?(0,f.createElement)(y,{...bT(y,k),"data-index":c,"data-item-index":a.index,"data-known-size":a.size,key:d,style:bL},l(a.index,k)):(0,f.createElement)(x,{...bT(x,k),...bU(x,a.data),"data-index":c,"data-item-group-index":a.groupIndex,"data-item-index":a.index,"data-known-size":a.size,key:d,style:q?bN:bM},B?j(a.index,a.groupIndex,a.data,k):j(a.index,a.data,k))})})}),bP={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},bQ={outline:"none",overflowX:"auto",position:"relative"},bR=a=>({height:"100%",position:"absolute",top:0,width:"100%",...a?{display:"flex",flexDirection:"column"}:{}}),bS={position:bG(),top:0,width:"100%",zIndex:1};function bT(a,b){if("string"!=typeof a)return{context:b}}function bU(a,b){return{item:"string"==typeof a?void 0:b}}let bV=f.default.memo(function(){let a=b1("HeaderComponent"),b=b2("headerHeight"),d=b1("HeaderFooterTag"),e=ah(f.default.useMemo(()=>a=>{b(aF(a,"height"))},[b]),!0,b1("skipAnimationFrameInResizeObserver")),g=b1("context");return a?(0,c.jsx)(d,{ref:e,children:(0,c.jsx)(a,{...bT(a,g)})}):null}),bW=f.default.memo(function(){let a=b1("FooterComponent"),b=b2("footerHeight"),d=b1("HeaderFooterTag"),e=ah(f.default.useMemo(()=>a=>{b(aF(a,"height"))},[b]),!0,b1("skipAnimationFrameInResizeObserver")),g=b1("context");return a?(0,c.jsx)(d,{ref:e,children:(0,c.jsx)(a,{...bT(a,g)})}):null});function bX({useEmitter:a,useEmitterValue:b,usePublisher:d}){return f.default.memo(function({children:e,style:f,context:g,...h}){let i=d("scrollContainerState"),j=b("ScrollerComponent"),k=d("smoothScrollTargetReached"),l=b("scrollerRef"),m=b("horizontalDirection")||!1,{scrollByCallback:n,scrollerRef:o,scrollToCallback:p}=bD(i,k,j,l,void 0,m);return a("scrollTo",p),a("scrollBy",n),(0,c.jsx)(j,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:o,style:{...m?bQ:bP,...f},tabIndex:0,...h,...bT(j,g),children:e})})}function bY({useEmitter:a,useEmitterValue:b,usePublisher:d}){return f.default.memo(function({children:e,style:g,context:h,...i}){let j=d("windowScrollContainerState"),k=b("ScrollerComponent"),l=d("smoothScrollTargetReached"),m=b("totalListHeight"),n=b("deviation"),o=b("customScrollParent"),p=f.default.useRef(null),{scrollByCallback:q,scrollerRef:r,scrollToCallback:s}=bD(j,l,k,b("scrollerRef"),o);return bB(()=>{var a;return r.current=o||(null==(a=p.current)?void 0:a.ownerDocument.defaultView),()=>{r.current=null}},[r,o]),a("windowScrollTo",s),a("scrollBy",q),(0,c.jsx)(k,{ref:p,"data-virtuoso-scroller":!0,style:{position:"relative",...g,...0!==m?{height:m+n}:{}},...i,...bT(k,h),children:e})})}let bZ=({children:a})=>{let b=f.default.useContext(bz),d=b2("viewportHeight"),e=b2("fixedItemHeight"),g=b1("alignToBottom"),h=b1("horizontalDirection"),i=ah(f.default.useMemo(()=>D(d,a=>aF(a,h?"width":"height")),[d,h]),!0,b1("skipAnimationFrameInResizeObserver"));return f.default.useEffect(()=>{b&&(d(b.viewportHeight),e(b.itemHeight))},[b,d,e]),(0,c.jsx)("div",{"data-viewport-type":"element",ref:i,style:bR(g),children:a})},b$=({children:a})=>{let b=f.default.useContext(bz),d=b2("windowViewportRect"),e=b2("fixedItemHeight"),g=al(d,b1("customScrollParent"),b1("skipAnimationFrameInResizeObserver")),h=b1("alignToBottom");return f.default.useEffect(()=>{b&&(e(b.itemHeight),d({offsetTop:0,visibleHeight:b.viewportHeight,visibleWidth:100}))},[b,d,e]),(0,c.jsx)("div",{"data-viewport-type":"window",ref:g,style:bR(h),children:a})},b_=({children:a})=>{let b=b1("TopItemListComponent")||"div",d=b1("headerHeight"),e={...bS,marginTop:`${d}px`},f=b1("context");return(0,c.jsx)(b,{style:e,...bT(b,f),children:a})},{useEmitter:b0,useEmitterValue:b1,usePublisher:b2}=by(bJ,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},f.default.memo(function(a){let b=b1("useWindowScroll"),d=b1("topItemsIndexes").length>0,e=b1("customScrollParent"),f=b1("context");return(0,c.jsxs)(e||b?b4:b3,{...a,context:f,children:[d&&(0,c.jsx)(b_,{children:(0,c.jsx)(bO,{showTopList:!0})}),(0,c.jsxs)(e||b?b$:bZ,{children:[(0,c.jsx)(bV,{}),(0,c.jsx)(bO,{}),(0,c.jsx)(bW,{})]})]})})),b3=bX({useEmitter:b0,useEmitterValue:b1,usePublisher:b2}),b4=bY({useEmitter:b0,useEmitterValue:b1,usePublisher:b2}),b5=_(()=>{let a=X(a=>(0,c.jsxs)("td",{children:["Item $",a]})),b=X(null),d=X(a=>(0,c.jsxs)("td",{colSpan:1e3,children:["Group ",a]})),e=X(null),f=X(null),g=X({}),h=X(bH),i=X(F),j=(a,b=null)=>Y(S(g,Q(b=>b[a]),O()),b);return{components:g,computeItemKey:h,context:b,EmptyPlaceholder:j("EmptyPlaceholder"),FillerRow:j("FillerRow"),fixedFooterContent:f,fixedHeaderContent:e,itemContent:a,groupContent:d,ScrollerComponent:j("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:j("ScrollSeekPlaceholder"),TableBodyComponent:j("TableBody","tbody"),TableComponent:j("Table","table"),TableFooterComponent:j("TableFoot","tfoot"),TableHeadComponent:j("TableHead","thead"),TableRowComponent:j("TableRow","tr"),GroupComponent:j("Group","tr")}}),b6=_(([a,b])=>({...a,...b}),H(bw,b5)),b7=({height:a})=>(0,c.jsx)("tr",{children:(0,c.jsx)("td",{style:{height:a}})}),b8=({height:a})=>(0,c.jsx)("tr",{children:(0,c.jsx)("td",{style:{border:0,height:a,padding:0}})}),b9={overflowAnchor:"none"},ca={position:bG(),zIndex:2,overflowAnchor:"none"},cb=f.default.memo(function({showTopList:a=!1}){let b=cg("listState"),d=cg("computeItemKey"),e=cg("firstItemIndex"),g=cg("context"),h=cg("isSeeking"),i=cg("fixedHeaderHeight"),j=cg("groupIndices").length>0,k=cg("itemContent"),l=cg("groupContent"),m=cg("ScrollSeekPlaceholder")||b7,n=cg("GroupComponent"),o=cg("TableRowComponent"),p=(a?b.topItems:[]).reduce((a,b,c)=>(0===c?a.push(b.size):a.push(a[c-1]+b.size),a),[]),q=(a?b.topItems:b.items).map(b=>{let c=b.originalIndex,q=d(c+e,b.data,g),r=a?0===c?0:p[c-1]:0;return h?(0,f.createElement)(m,{...bT(m,g),height:b.size,index:b.index,key:q,type:b.type||"item"}):"group"===b.type?(0,f.createElement)(n,{...bT(n,g),"data-index":c,"data-item-index":b.index,"data-known-size":b.size,key:q,style:{...ca,top:i}},l(b.index,g)):(0,f.createElement)(o,{...bT(o,g),...bU(o,b.data),"data-index":c,"data-item-index":b.index,"data-known-size":b.size,"data-item-group-index":b.groupIndex,key:q,style:a?{...ca,top:i+r}:b9},j?k(b.index,b.groupIndex,b.data,g):k(b.index,b.data,g))});return(0,c.jsx)(c.Fragment,{children:q})}),cc=f.default.memo(function(){let a=cg("listState"),b=cg("topItemsIndexes").length>0,d=ch("sizeRanges"),e=cg("useWindowScroll"),g=cg("customScrollParent"),h=ch("windowScrollContainerState"),i=ch("scrollContainerState"),j=cg("trackItemSizes"),{callbackRef:k,ref:l}=aj(d,cg("itemSize"),j,g||e?h:i,cg("log"),void 0,g,!1,cg("skipAnimationFrameInResizeObserver")),[m,n]=f.default.useState(0);cf("deviation",a=>{m!==a&&(l.current.style.marginTop=`${a}px`,n(a))});let o=cg("EmptyPlaceholder"),p=cg("FillerRow")||b8,q=cg("TableBodyComponent"),r=cg("paddingTopAddition"),s=cg("statefulTotalCount"),t=cg("context");if(0===s&&o)return(0,c.jsx)(o,{...bT(o,t)});let u=(b?a.topItems:[]).reduce((a,b)=>a+b.size,0),v=a.offsetTop+r+m-u,w=a.offsetBottom,x=v>0?(0,c.jsx)(p,{context:t,height:v},"padding-top"):null,y=w>0?(0,c.jsx)(p,{context:t,height:w},"padding-bottom"):null;return(0,c.jsxs)(q,{"data-testid":"virtuoso-item-list",ref:k,...bT(q,t),children:[x,b&&(0,c.jsx)(cb,{showTopList:!0}),(0,c.jsx)(cb,{}),y]})}),cd=({children:a})=>{let b=f.default.useContext(bz),d=ch("viewportHeight"),e=ch("fixedItemHeight"),g=ah(f.default.useMemo(()=>D(d,a=>aF(a,"height")),[d]),!0,cg("skipAnimationFrameInResizeObserver"));return f.default.useEffect(()=>{b&&(d(b.viewportHeight),e(b.itemHeight))},[b,d,e]),(0,c.jsx)("div",{"data-viewport-type":"element",ref:g,style:bR(!1),children:a})},ce=({children:a})=>{let b=f.default.useContext(bz),d=ch("windowViewportRect"),e=ch("fixedItemHeight"),g=al(d,cg("customScrollParent"),cg("skipAnimationFrameInResizeObserver"));return f.default.useEffect(()=>{b&&(e(b.itemHeight),d({offsetTop:0,visibleHeight:b.viewportHeight,visibleWidth:100}))},[b,d,e]),(0,c.jsx)("div",{"data-viewport-type":"window",ref:g,style:bR(!1),children:a})},{useEmitter:cf,useEmitterValue:cg,usePublisher:ch}=by(b6,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},f.default.memo(function(a){let b=cg("useWindowScroll"),d=cg("customScrollParent"),e=ch("fixedHeaderHeight"),g=ch("fixedFooterHeight"),h=cg("fixedHeaderContent"),i=cg("fixedFooterContent"),j=cg("context"),k=ah(f.default.useMemo(()=>D(e,a=>aF(a,"height")),[e]),!0,cg("skipAnimationFrameInResizeObserver")),l=ah(f.default.useMemo(()=>D(g,a=>aF(a,"height")),[g]),!0,cg("skipAnimationFrameInResizeObserver")),m=d||b?cj:ci,n=d||b?ce:cd,o=cg("TableComponent"),p=cg("TableHeadComponent"),q=cg("TableFooterComponent"),r=h?(0,c.jsx)(p,{ref:k,style:{position:"sticky",top:0,zIndex:2},...bT(p,j),children:h()},"TableHead"):null,s=i?(0,c.jsx)(q,{ref:l,style:{bottom:0,position:"sticky",zIndex:1},...bT(q,j),children:i()},"TableFoot"):null;return(0,c.jsx)(m,{...a,...bT(m,j),children:(0,c.jsx)(n,{children:(0,c.jsxs)(o,{style:{borderSpacing:0,overflowAnchor:"none"},...bT(o,j),children:[r,(0,c.jsx)(cc,{},"TableBody"),s]})})})})),ci=bX({useEmitter:cf,useEmitterValue:cg,usePublisher:ch}),cj=bY({useEmitter:cf,useEmitterValue:cg,usePublisher:ch}),ck={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},cl={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:cm,floor:cn,max:co,min:cp,round:cq}=Math;function cr(a,b,c){return Array.from({length:b-a+1}).map((b,d)=>({data:null===c?null:c[d+a],index:d+a}))}function cs(a,b){return a&&a.width===b.width&&a.height===b.height}function ct(a,b){return a&&a.column===b.column&&a.row===b.row}let cu=_(([{increaseViewportBy:a,listBoundary:b,overscan:c,visibleRange:d},{footerHeight:e,headerHeight:f,scrollBy:g,scrollContainerState:h,scrollTo:i,scrollTop:j,smoothScrollTargetReached:k,viewportHeight:l},m,n,{didMount:o,propsReady:p},{customScrollParent:q,useWindowScroll:r,windowScrollContainerState:s,windowScrollTo:t,windowViewportRect:u},v])=>{let w=X(0),x=X(0),y=X(ck),z=X({height:0,width:0}),A=X({height:0,width:0}),B=Z(),C=Z(),D=X(0),E=X(null),F=X({column:0,row:0}),G=Z(),H=Z(),I=X(!1),J=X(0),M=X(!0),N=X(!1),T=X(!1);S(o,W(J),P(([a,b])=>!!b))(1,()=>{M(0,!1)}),S(ab(o,M,A,z,J,N),P(([a,b,c,d,,e])=>a&&!b&&0!==c.height&&0!==d.height&&!e))(1,([,,,,a])=>{N(0,!0),aY(1,()=>{B(0,a)}),L(S(j),()=>{b(0,[0,0]),M(0,!0)})}),K(S(H,P(a=>null!=a&&a.scrollTop>0),R(0)),x),S(o,W(H),P(([,a])=>null!=a))(1,([,a])=>{a&&(z(0,a.viewport),A(0,a.item),F(0,a.gap),a.scrollTop>0&&(I(0,!0),L(S(j,U(1)),a=>{I(0,!1)}),i(0,{top:a.scrollTop})))}),K(S(z,Q(({height:a})=>a)),l),K(S(ab(ac(z,cs),ac(A,cs),ac(F,(a,b)=>a&&a.column===b.column&&a.row===b.row),ac(j)),Q(([a,b,c,d])=>({gap:c,item:b,scrollTop:d,viewport:a}))),G),K(S(ab(ac(w),d,ac(F,ct),ac(A,cs),ac(z,cs),ac(E),ac(x),ac(I),ac(M),ac(J)),P(([,,,,,,,a])=>!a),Q(([a,[b,c],d,e,f,g,h,,i,j])=>{let k,l,{column:m,row:n}=d,{height:o,width:p}=e,{width:q}=f;if(0===h&&(0===a||0===q))return ck;if(0===p){var r;let b=aZ(j,a),c=b+Math.max(h-1,0);return r=cr(b,c,g),{...cl,items:r}}let s=cv(q,p,m);i?0===b&&0===c&&h>0?(k=0,l=h-1):(k=s*cn((b+n)/(o+n)),l=cp(a-1,co(l=s*cm((c+n)/(o+n))-1,s-1)),k=cp(l,co(0,k))):(k=0,l=-1);let t=cr(k,l,g),{bottom:u,top:v}=cw(f,d,e,t),w=cm(a/s);return{bottom:u,itemHeight:o,items:t,itemWidth:p,offsetBottom:w*o+(w-1)*n-u,offsetTop:v,top:v}})),y),K(S(E,P(a=>null!==a),Q(a=>a.length)),w),K(S(ab(z,A,y,F),P(([a,b,{items:c}])=>c.length>0&&0!==b.height&&0!==a.height),Q(([a,b,{items:c},d])=>{let{bottom:e,top:f}=cw(a,d,b,c);return[f,e]}),O(aC)),b);let _=X(!1);K(S(j,W(_),Q(([a,b])=>b||0!==a)),_);let aa=$(S(ab(y,w),P(([{items:a}])=>a.length>0),W(_),P(([[a,b],c])=>{let d=a.items[a.items.length-1].index===b-1;return(c||a.bottom>0&&a.itemHeight>0&&0===a.offsetBottom&&a.items.length===b)&&d}),Q(([[,a]])=>a-1),O())),ad=$(S(ac(y),P(({items:a})=>a.length>0&&0===a[0].index),R(0),O())),ae=$(S(ac(y),W(I),P(([{items:a},b])=>a.length>0&&!b),Q(([{items:a}])=>({endIndex:a[a.length-1].index,startIndex:a[0].index})),O(aB),V(0)));K(ae,n.scrollSeekRangeChanged),K(S(B,W(z,A,w,F),Q(([a,b,c,d,e])=>{let f=aW(a),{align:g,behavior:h,offset:i}=f,j=f.index;"LAST"===j&&(j=d-1);let k=cx(b,e,c,j=co(0,j,cp(d-1,j)));return"end"===g?k=cq(k-b.height+c.height):"center"===g&&(k=cq(k-b.height/2+c.height/2)),i&&(k+=i),{behavior:h,top:k}})),i);let af=Y(S(y,Q(a=>a.offsetBottom+a.bottom)),0);return K(S(u,Q(a=>({height:a.visibleHeight,width:a.visibleWidth}))),z),{customScrollParent:q,data:E,deviation:D,footerHeight:e,gap:F,headerHeight:f,increaseViewportBy:a,initialItemCount:x,itemDimensions:A,overscan:c,restoreStateFrom:H,scrollBy:g,scrollContainerState:h,scrollHeight:C,scrollTo:i,scrollToIndex:B,scrollTop:j,smoothScrollTargetReached:k,totalCount:w,useWindowScroll:r,viewportDimensions:z,windowScrollContainerState:s,windowScrollTo:t,windowViewportRect:u,...n,gridState:y,horizontalDirection:T,initialTopMostItemIndex:J,totalListHeight:af,...m,endReached:aa,propsReady:p,rangeChanged:ae,startReached:ad,stateChanged:G,stateRestoreInProgress:I,...v}},H(a7,am,a2,bn,aU,bo,ag));function cv(a,b,c){return co(1,cn((a+c)/(cn(b)+c)))}function cw(a,b,c,d){let{height:e}=c;if(void 0===e||0===d.length)return{bottom:0,top:0};let f=cx(a,b,c,d[0].index);return{bottom:cx(a,b,c,d[d.length-1].index)+e,top:f}}function cx(a,b,c,d){let e=cn(d/cv(a.width,c.width,b.column)),f=e*c.height+co(0,e-1)*b.row;return f>0?f+b.row:f}let cy=_(()=>{let a=X(a=>`Item ${a}`),b=X({}),c=X(null),d=X("virtuoso-grid-item"),e=X("virtuoso-grid-list"),f=X(bH),g=X("div"),h=X(F),i=(a,c=null)=>Y(S(b,Q(b=>b[a]),O()),c),j=X(!1),k=X(!1);return K(ac(k),j),{components:b,computeItemKey:f,context:c,FooterComponent:i("Footer"),HeaderComponent:i("Header"),headerFooterTag:g,itemClassName:d,ItemComponent:i("Item","div"),itemContent:a,listClassName:e,ListComponent:i("List","div"),readyStateChanged:j,reportReadyState:k,ScrollerComponent:i("Scroller","div"),scrollerRef:h,ScrollSeekPlaceholder:i("ScrollSeekPlaceholder","div")}}),cz=_(([a,b])=>({...a,...b}),H(cu,cy)),cA=f.default.memo(function(){let a=cH("gridState"),b=cH("listClassName"),d=cH("itemClassName"),e=cH("itemContent"),g=cH("computeItemKey"),h=cH("isSeeking"),i=cI("scrollHeight"),j=cH("ItemComponent"),k=cH("ListComponent"),l=cH("ScrollSeekPlaceholder"),m=cH("context"),n=cI("itemDimensions"),o=cI("gap"),p=cH("log"),q=cH("stateRestoreInProgress"),r=cI("reportReadyState"),s=ah(f.default.useMemo(()=>a=>{i(a.parentElement.parentElement.scrollHeight);let b=a.firstChild;if(b){let{height:a,width:c}=b.getBoundingClientRect();n({height:a,width:c})}o({column:cL("column-gap",getComputedStyle(a).columnGap,p),row:cL("row-gap",getComputedStyle(a).rowGap,p)})},[i,n,o,p]),!0,!1);return bB(()=>{a.itemHeight>0&&a.itemWidth>0&&r(!0)},[a]),q?null:(0,c.jsx)(k,{className:b,ref:s,...bT(k,m),"data-testid":"virtuoso-item-list",style:{paddingBottom:a.offsetBottom,paddingTop:a.offsetTop},children:a.items.map(b=>{let i=g(b.index,b.data,m);return h?(0,c.jsx)(l,{...bT(l,m),height:a.itemHeight,index:b.index,width:a.itemWidth},i):(0,f.createElement)(j,{...bT(j,m),className:d,"data-index":b.index,key:i},e(b.index,b.data,m))})})}),cB=f.default.memo(function(){let a=cH("HeaderComponent"),b=cI("headerHeight"),d=cH("headerFooterTag"),e=ah(f.default.useMemo(()=>a=>{b(aF(a,"height"))},[b]),!0,!1),g=cH("context");return a?(0,c.jsx)(d,{ref:e,children:(0,c.jsx)(a,{...bT(a,g)})}):null}),cC=f.default.memo(function(){let a=cH("FooterComponent"),b=cI("footerHeight"),d=cH("headerFooterTag"),e=ah(f.default.useMemo(()=>a=>{b(aF(a,"height"))},[b]),!0,!1),g=cH("context");return a?(0,c.jsx)(d,{ref:e,children:(0,c.jsx)(a,{...bT(a,g)})}):null}),cD=({children:a})=>{let b=f.default.useContext(bA),d=cI("itemDimensions"),e=cI("viewportDimensions"),g=ah(f.default.useMemo(()=>a=>{e(a.getBoundingClientRect())},[e]),!0,!1);return f.default.useEffect(()=>{b&&(e({height:b.viewportHeight,width:b.viewportWidth}),d({height:b.itemHeight,width:b.itemWidth}))},[b,e,d]),(0,c.jsx)("div",{ref:g,style:bR(!1),children:a})},cE=({children:a})=>{let b=f.default.useContext(bA),d=cI("windowViewportRect"),e=cI("itemDimensions"),g=al(d,cH("customScrollParent"),!1);return f.default.useEffect(()=>{b&&(e({height:b.itemHeight,width:b.itemWidth}),d({offsetTop:0,visibleHeight:b.viewportHeight,visibleWidth:b.viewportWidth}))},[b,d,e]),(0,c.jsx)("div",{ref:g,style:bR(!1),children:a})},{Component:cF,useEmitter:cG,useEmitterValue:cH,usePublisher:cI}=by(cz,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},f.default.memo(function({...a}){let b=cH("useWindowScroll"),d=cH("customScrollParent"),e=d||b?cK:cJ,f=d||b?cE:cD,g=cH("context");return(0,c.jsx)(e,{...a,...bT(e,g),children:(0,c.jsxs)(f,{children:[(0,c.jsx)(cB,{}),(0,c.jsx)(cA,{}),(0,c.jsx)(cC,{})]})})})),cJ=bX({useEmitter:cG,useEmitterValue:cH,usePublisher:cI}),cK=bY({useEmitter:cG,useEmitterValue:cH,usePublisher:cI});function cL(a,b,c){return"normal"===b||null!=b&&b.endsWith("px")||c(`${a} was not resolved to pixel value correctly`,b,ae.WARN),"normal"===b?0:parseInt(null!=b?b:"0",10)}var cM=a.i(488466),cN=a.i(499527);let cO=new Map,cP=new Map,cQ=(0,f.memo)(({src:a,alt:b,fill:d,className:e,sizes:g,width:h,height:i,onGenerateCachedImageUrl:j,fallback:k})=>{let[l,m]=(0,f.useState)(()=>a&&cO.get(a)||null),[n,o]=(0,f.useState)(()=>!a||!cO.has(a)),[p,q]=(0,f.useState)(null);return((0,f.useEffect)(()=>{if(!a)return void setTimeout(()=>{o(!1)},0);let b=cO.get(a);if(b)return void setTimeout(()=>{m(b),o(!1)},0);let c=!1;return(async()=>{try{o(!0),q(null);let b=cP.get(a);b||(b=j(a),cP.set(a,b),b.finally(()=>{cP.delete(a)}));let d=await b;c||(cO.set(a,d),m(d),o(!1))}catch(a){c||(q(a instanceof Error?a:Error("Failed to load image")),o(!1))}})(),()=>{c=!0}},[a,j]),n)?(0,c.jsx)("div",{className:e,children:(0,c.jsx)("div",{className:"bg-base-200 h-full w-full animate-pulse"})}):p||!l?k?(0,c.jsx)(c.Fragment,{children:k}):(0,c.jsx)("div",{className:`flex h-full w-full items-center justify-center ${e||""}`,children:(0,c.jsx)("div",{className:"text-base-content/30",children:(0,c.jsx)("svg",{className:"h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}):d?(0,c.jsx)(cN.default,{src:l,alt:b,fill:!0,className:e,sizes:g}):(0,c.jsx)(cN.default,{src:l,alt:b,width:h,height:i,className:e,sizes:g})},(a,b)=>a.src===b.src&&a.alt===b.alt&&a.fill===b.fill&&a.className===b.className&&a.sizes===b.sizes&&a.width===b.width&&a.height===b.height),cR="http://opds-spec.org/acquisition",cS=["http://opds-spec.org/image","http://opds-spec.org/cover"],cT=["http://opds-spec.org/image/thumbnail","http://opds-spec.org/thumbnail"],cU=Symbol("summary"),cV=Symbol("content");function cW({publication:a,baseURL:b,onClick:d,resolveURL:e,onGenerateCachedImageUrl:g}){let h=(0,p.useTranslation)(),i=(0,f.useMemo)(()=>(0,y.groupByArray)(a.links,a=>a.rel),[a.links]),j=(0,f.useMemo)(()=>{let b=a.images?.filter(a=>cT.some(b=>a.rel?.includes(b)));return b?.[0]||a.images?.[0]},[a.images]),k=(0,f.useMemo)(()=>{let b=a.images?.filter(a=>cS.some(b=>a.rel?.includes(b)));return b?.[0]},[a.images])||j,l=k?e(k.href,b):null,m=(0,f.useMemo)(()=>a.metadata?.author?.map(a=>"string"==typeof a?a:a.name).join(", "),[a.metadata?.author]),n=(0,f.useMemo)(()=>{let b=a.links?.find(a=>a.properties?.price);if(b?.properties?.price){let{currency:a,value:c}=b.properties.price;return`${a} ${c}`}return i.has(cR+"/open-access")?h("Open Access"):null},[a.links,i]);return(0,c.jsxs)("div",{role:"none",onClick:d,className:"card bg-base-100 cursor-pointer transition-shadow",children:[(0,c.jsx)("figure",{className:"bg-base-200 relative aspect-[28/41] rounded-none shadow-md",children:(0,c.jsx)(cQ,{src:l,alt:a.metadata?.title||"Book cover",fill:!0,className:"object-cover",sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",onGenerateCachedImageUrl:g})}),(0,c.jsxs)("div",{className:"py-3",children:[(0,c.jsx)("h3",{className:"card-title line-clamp-1 text-sm",children:a.metadata?.title||"Untitled"}),m&&(0,c.jsx)("p",{className:"text-base-content/70 line-clamp-1 text-xs",children:m}),n&&(0,c.jsx)("div",{className:"card-actions mt-2 justify-end",children:(0,c.jsx)("div",{className:"badge badge-outline badge-sm",children:n})})]})]})}function cX({item:a,baseURL:b,onClick:d,resolveURL:e}){let f=(0,p.useTranslation)(),g=e(a.href||"",b),h=a[cU];return(0,c.jsx)("div",{role:"none",onClick:()=>d(g),className:"card bg-base-100 border-base-300 hover:bg-base-200/30 cursor-pointer rounded-lg border shadow-sm transition-shadow",children:(0,c.jsx)("div",{className:"card-body flex justify-center p-4",children:(0,c.jsxs)("div",{className:"flex items-start gap-3",children:[(0,c.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,c.jsx)("h3",{title:a.title||f("Untitled"),className:"line-clamp-1 text-sm font-semibold",children:a.title||f("Untitled")}),a.properties?.numberOfItems&&(0,c.jsx)("p",{className:"text-base-content/60 text-xs",children:f("{{count}} items",{count:a.properties.numberOfItems})}),h&&(0,c.jsx)("p",{title:h,className:"text-base-content/70 mt-1 line-clamp-1 text-xs",children:h})]}),(0,c.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,c.jsx)(cM.IoChevronForward,{className:"text-base-content/40 h-5 w-5 flex-shrink-0"})})]})})})}let cY="grid grid-cols-3 gap-4 px-4 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6";function cZ({feed:a,baseURL:b,resolveURL:d,onNavigate:e,onPublicationSelect:g,onGenerateCachedImageUrl:h}){let i=(0,p.useTranslation)(),j=(0,f.useMemo)(()=>(0,y.groupByArray)(a.links,a=>a.rel),[a.links]),k=(0,f.useMemo)(()=>["first","previous","next","last"].map(a=>j.get(a)),[j]),l=a.facets&&a.facets.length>0,m=a=>{a&&a.length>0&&e(d(a[0]?.href||"",b))},n=a=>{e(d(a,b))},o=(0,f.useCallback)(e=>(0,c.jsx)(cW,{publication:a.publications[e],baseURL:b,onClick:()=>g(-1,e),resolveURL:d,onGenerateCachedImageUrl:h}),[a.publications,b,g,d,h]);return(0,c.jsxs)("div",{className:"flex h-full flex-col",children:[(0,c.jsxs)("div",{className:"opds-header flex-shrink-0 px-4 py-6",children:[a.metadata?.title&&(0,c.jsx)("h1",{className:"mb-2 text-xl font-bold",children:a.metadata.title}),a.metadata?.subtitle&&(0,c.jsx)("p",{className:"text-base-content/70 text-sm",children:a.metadata.subtitle})]}),(0,c.jsxs)("div",{className:"flex min-h-0 flex-1 gap-6",children:[l&&(0,c.jsx)("aside",{className:"hidden w-64 flex-shrink-0 overflow-y-auto lg:block",children:(0,c.jsxs)("div",{className:"px-4",children:[(0,c.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,c.jsx)(cM.IoFilter,{className:"h-5 w-5"}),(0,c.jsx)("h2",{className:"text-lg font-semibold",children:"Filters"})]}),(0,c.jsx)("div",{className:"space-y-6",children:a.facets?.map((a,e)=>(0,c.jsxs)("section",{children:[a.metadata?.title&&(0,c.jsx)("h3",{className:"text-base-content/70 mb-2 text-sm font-medium",children:a.metadata.title}),(0,c.jsx)("ul",{className:"space-y-1",children:a.links.map((a,e)=>{let f="self"===a.rel||a.rel?.includes("self"),g=d(a.href,b);return(0,c.jsx)("li",{children:(0,c.jsx)("button",{onClick:()=>n(g),className:`w-full rounded px-3 py-1.5 text-left text-sm transition-colors ${f?"bg-primary text-primary-content font-medium":"hover:bg-base-200"}`,children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"truncate",children:a.title||"Untitled"}),a.properties?.numberOfItems&&(0,c.jsx)("span",{className:"ml-2 text-xs opacity-70",children:a.properties.numberOfItems})]})})},e)})})]},e))})]})}),(0,c.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col",children:[a.navigation&&a.navigation.length>0&&(0,c.jsx)("section",{className:"opds-navigation flex-shrink-0 pb-6",children:(0,c.jsx)("div",{className:"grid grid-cols-2 gap-4 px-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 max-[450px]:grid-cols-1",children:a.navigation.map((a,e)=>(0,c.jsx)(cX,{item:a,baseURL:b,onClick:n,resolveURL:d},e))})}),a.publications&&a.publications.length>0&&(0,c.jsx)("section",{className:"opds-publications min-h-0 flex-1",children:(0,c.jsx)(cF,{style:{height:"100%"},totalCount:a.publications.length,listClassName:cY,itemContent:o})}),a.groups?.map((a,e)=>(0,c.jsxs)("section",{className:"mb-12 flex-shrink-0",children:[a.metadata&&(0,c.jsxs)("div",{className:"mb-4 flex items-center justify-between px-4",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold",children:a.metadata.title}),a.links&&a.links.length>0&&(0,c.jsx)("button",{onClick:()=>{let c=a.links[0];n(d(c?.href||"",b))},className:"btn btn-sm btn-ghost",children:i("View All")})]}),a.navigation&&(0,c.jsx)("div",{className:`opds-navigation ${cY}`,children:a.navigation.map((a,e)=>(0,c.jsx)(cX,{item:a,baseURL:b,onClick:n,resolveURL:d},e))}),a.publications&&(0,c.jsx)("div",{className:`opds-publications ${cY}`,children:a.publications.map((a,f)=>(0,c.jsx)(cW,{publication:a,baseURL:b,onClick:()=>g(e,f),resolveURL:d,onGenerateCachedImageUrl:h},f))})]},e)),k.some(a=>a&&a.length>0)&&(0,c.jsxs)("nav",{className:"flex flex-shrink-0 justify-center gap-2 py-4",children:[(0,c.jsxs)("button",{onClick:()=>m(k[0]),disabled:!k[0],className:"btn btn-sm",title:i("First"),children:[(0,c.jsx)(cM.IoChevronBack,{className:"h-4 w-4"}),(0,c.jsx)(cM.IoChevronBack,{className:"-ml-3 h-4 w-4"})]}),(0,c.jsxs)("button",{onClick:()=>m(k[1]),disabled:!k[1],className:"btn btn-sm",title:i("Previous"),children:[(0,c.jsx)(cM.IoChevronBack,{className:"h-4 w-4"}),i("Previous")]}),(0,c.jsxs)("button",{onClick:()=>m(k[2]),disabled:!k[2],className:"btn btn-sm",title:i("Next"),children:[i("Next"),(0,c.jsx)(cM.IoChevronForward,{className:"h-4 w-4"})]}),(0,c.jsxs)("button",{onClick:()=>m(k[3]),disabled:!k[3],className:"btn btn-sm",title:i("Last"),children:[(0,c.jsx)(cM.IoChevronForward,{className:"h-4 w-4"}),(0,c.jsx)(cM.IoChevronForward,{className:"-ml-3 h-4 w-4"})]})]})]})]})]})}var c$=a.i(593604),c_=a.i(858589),c0=a.i(966027),c1=a.i(627910);function c2({publication:a,baseURL:b,resolveURL:e,onDownload:h,onGenerateCachedImageUrl:i}){let j=(0,p.useTranslation)(),k=(0,g.useRouter)(),[l,m]=(0,f.useState)(!1),[n,o]=(0,f.useState)(null),[q,r]=(0,f.useState)(null),s=(0,f.useMemo)(()=>(0,y.groupByArray)(a.links,a=>a.rel),[a.links]),t=(0,f.useMemo)(()=>{let b=a.images?.filter(a=>cS.some(b=>a.rel?.includes(b)));return b?.[0]||a.images?.[0]},[a.images]),u=t?e(t.href,b):null,v=(0,f.useMemo)(()=>a.metadata?.author?.map(a=>"string"==typeof a?a:a.name),[a.metadata?.author]),z=(0,f.useMemo)(()=>{let a=[];for(let[b,c]of Array.from(s.entries()))b?.startsWith(cR)&&a.push({rel:b,links:c});return a},[s]),A=async(a,b)=>{if(n)return void(0,c_.navigateToReader)(k,[n.hash]);m(!0),r(null);try{let c=await h(a,b,a=>{if(a.total>0){let b=Math.floor(a.progress/a.total*100);r(b)}});c&&o(c),w.eventDispatcher.dispatch("toast",{type:"success",message:j("Download completed")})}catch(b){console.error("Download failed:",b),w.eventDispatcher.dispatch("toast",{type:"error",message:j("Download failed")+`:
${a}`})}finally{m(!1),r(null)}},B=a=>a===cR+"/open-access"?j("Open Access"):a===cR+"/borrow"?j("Borrow"):a===cR+"/buy"?j("Buy"):a===cR+"/subscribe"?j("Subscribe"):a===cR+"/sample"?j("Sample"):j("Download"),C=a.metadata?.[cV],D=a.metadata?.description;return(0,c.jsxs)("div",{className:"flex w-full flex-col px-6 py-6",children:[(0,c.jsxs)("div",{className:"mb-6 flex w-full flex-row items-start gap-6 max-[320px]:flex-col",children:[(0,c.jsx)("div",{className:"h-44 flex-shrink-0 sm:h-56 md:h-64",children:(0,c.jsx)("div",{className:"bg-base-200 relative aspect-[28/41] h-full overflow-hidden rounded-none shadow-lg",children:(0,c.jsx)(cQ,{src:u,alt:a.metadata?.title||"Book cover",fill:!0,className:"object-cover",sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",onGenerateCachedImageUrl:i})})}),(0,c.jsxs)("div",{className:"flex h-44 min-w-0 flex-col justify-between max-[320px]:h-32 sm:h-56 md:h-64",children:[(0,c.jsxs)("div",{className:"flex flex-col",children:[a.metadata?.subtitle&&(0,c.jsx)("p",{className:"text-base-content/60 mb-1 text-sm",children:a.metadata.subtitle}),(0,c.jsx)("h1",{className:"mb-2 text-base font-bold",children:a.metadata?.title||"Untitled"}),v&&v.length>0&&(0,c.jsx)("p",{className:"text-base-content/70 text-sm",children:v.join(", ")})]}),z.length>0&&(0,c.jsxs)("div",{className:"flex flex-wrap gap-2",children:[z.map(({rel:a,links:b})=>(0,c.jsx)("div",{className:"flex gap-1",children:1===b.length||n?(0,c.jsx)("button",{onClick:()=>A(b[0].href,b[0].type),disabled:l,className:(0,d.default)("btn btn-primary min-w-20 rounded-3xl",n&&"btn-success"),children:n?j("Open & Read"):B(a)}):(0,c.jsx)(c0.default,{label:j("Download"),className:"dropdown-bottom flex justify-center",buttonClassName:(0,d.default)("btn btn-ghost btn-primary min-w-20 rounded-3xl p-0 hover:bg-transparent",n&&"btn-success"),disabled:l,toggleButton:(0,c.jsx)("div",{children:n?j("Open"):B(a)}),children:(0,c.jsx)("div",{className:(0,d.default)("delete-menu dropdown-content dropdown-center no-triangle","border-base-300 !bg-base-200 z-20 mt-2 max-w-[80vw] shadow-2xl"),children:b.map((a,b)=>(0,c.jsx)(c1.default,{noIcon:!0,transient:!0,label:a.title||(0,x.getFileExtFromMimeType)(a.type||"").toUpperCase()||b.toString(),onClick:()=>A(a.href,a.type)},b))})})},a)),(0,c.jsx)("div",{className:"flex h-12 w-12 items-center justify-center",children:l&&q&&q>0&&(0,c.jsxs)("div",{className:"radial-progress flex items-center justify-center",style:{"--value":q,"--size":"2.5rem",fontSize:"0.6rem",lineHeight:"0.8rem"},"aria-valuenow":q||0,role:"progressbar",children:[q,"%"]})})]})]})]}),(0,c.jsxs)("div",{className:"max-w-xl items-start space-y-6",children:[(C||D)&&(0,c.jsx)("div",{className:"prose prose-sm max-w-none",children:C?(0,c.jsx)("div",{dangerouslySetInnerHTML:{__html:("html"===C.type||C.type,C.value)}}):(0,c.jsx)("p",{children:D})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("style",{children:`
              .table :where(th, td) {
                padding: 10px 0px;
              }
            `}),(0,c.jsx)("table",{className:"table text-sm",children:(0,c.jsxs)("tbody",{children:[a.metadata?.publisher&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"w-32",children:j("Publisher")}),(0,c.jsx)("td",{children:"string"==typeof a.metadata.publisher?a.metadata.publisher:Array.isArray(a.metadata.publisher)?a.metadata.publisher.map(a=>"string"==typeof a?a:a.name).join(", "):a.metadata.publisher.name})]}),a.metadata?.published&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:j("Published")}),(0,c.jsx)("td",{children:(0,c$.formatDate)(a.metadata.published,!0)})]}),a.metadata?.language&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:j("Language")}),(0,c.jsx)("td",{children:Array.isArray(a.metadata.language)?a.metadata.language.map(a=>(0,c$.formatLanguage)(a)).join(", "):(0,c$.formatLanguage)(a.metadata.language)})]}),a.metadata?.identifier&&(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:j("Identifier")}),(0,c.jsx)("td",{children:(0,c.jsx)("code",{className:"text-xs",children:a.metadata.identifier})})]})]})})]}),a.metadata?.subject&&a.metadata.subject.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"mb-3 text-sm font-semibold",children:j("Tags")}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:a.metadata.subject.map((a,b)=>{let d="string"==typeof a?a:a.name||a.code||j("Tag");return(0,c.jsxs)("div",{className:"badge badge-outline max-w-full gap-1",children:[(0,c.jsx)(cM.IoPricetag,{className:"h-3 min-h-3 w-3 min-w-3"}),(0,c.jsx)("div",{className:"truncate",title:d,children:d})]},b)})})]})]})]})}function c3({search:a,baseURL:b,onNavigate:d,resolveURL:e}){let g=(0,p.useTranslation)(),[h,i]=(0,f.useState)(()=>{let b={};return a.params?.forEach(a=>{"count"===a.name?b[a.name]="20":"startPage"===a.name?b[a.name]="1":b[a.name]=a.value||""}),b}),j=a=>({searchTerms:g("Title, Author, Tag, etc..."),query:g("Query"),title:g("Title"),author:g("Author"),publisher:g("Publisher"),language:g("Language"),subject:g("Subject"),count:g("Count"),startPage:g("Start Page")})[a]||a;return(0,c.jsxs)("div",{className:"container mx-auto max-w-md px-4 py-12",children:[(0,c.jsxs)("div",{className:"mb-8 text-center",children:[(0,c.jsx)("h1",{className:"mb-2 text-xl font-bold",children:a.metadata?.title||g("Search")}),a.metadata?.description&&(0,c.jsx)("p",{className:"text-base-content/70",children:a.metadata.description})]}),(0,c.jsxs)("form",{onSubmit:c=>{c.preventDefault();let f=new Map;for(let b of a.params||[]){let a=h[b.name]||"",c=b.ns??null;f.has(c)?f.get(c).set(b.name,a):f.set(c,new Map([[b.name,a]]))}d(e(a.search(f),b),!0)},className:"space-y-4",children:[(a.params||[]).map(b=>(0,c.jsxs)("div",{className:"form-control",children:[(0,c.jsx)("label",{className:"label",children:(0,c.jsxs)("span",{className:"label-text font-medium",children:[j(b.name),b.required&&(0,c.jsx)("span",{className:"text-error ml-1",children:"*"})]})}),(0,c.jsx)("input",{type:"searchTerms"===b.name||"query"===b.name?"search":"text",value:h[b.name]||"",onChange:a=>{var c,d;return c=b.name,d=a.target.value,void i(a=>({...a,[c]:d}))},required:b.required,placeholder:`${g("Enter {{terms}}",{terms:j(b.name).toLowerCase()})}`,className:"input input-bordered w-full",autoFocus:"searchTerms"===b.name||"query"===b.name||a.params[0]?.name===b.name})]},`${b.ns||"default"}-${b.name}`)),(0,c.jsx)("div",{className:"pt-4",children:(0,c.jsxs)("button",{type:"submit",className:"btn btn-primary w-full",children:[(0,c.jsx)(cM.IoSearch,{className:"h-5 w-5"}),g("Search")]})})]})]})}var c4=a.i(157142),c5=a.i(584807),c6=a.i(191601),c7=a.i(516320),c8=a.i(940333);function c9({searchTerm:a,onBack:b,onForward:e,onGoStart:h,onSearch:i,canGoBack:k,canGoForward:l,hasSearch:m=!1}){let n=(0,p.useTranslation)(),o=(0,g.useRouter)(),{appService:q}=(0,j.useEnv)(),{settings:s}=(0,r.useSettingsStore)(),t=s.globalViewSettings,u=(0,f.useRef)(null),[v,w]=(0,f.useState)(""),{isTrafficLightVisible:x}=(0,c6.useTrafficLight)();(0,f.useEffect)(()=>{w(a||"")},[a]),(0,f.useEffect)(()=>{m&&u.current&&u.current.focus()},[m]);let y=(0,f.useCallback)(()=>{(0,c_.navigateToLibrary)(o,"opds=true",{},!0)},[o]),z=(0,f.useCallback)((0,c7.debounce)(a=>{a&&i(a)},1e3),[i]);return(0,c.jsxs)("header",{className:(0,d.default)("navbar min-h-0 px-2","flex h-[48px] w-full items-center",q?.isMobile?"":"bg-base-100"),children:[(0,c.jsxs)("div",{className:(0,d.default)("justify-start gap-1 sm:gap-3",x&&"!pl-16"),children:[(0,c.jsxs)("div",{className:"flex gap-1",children:[b&&(0,c.jsx)("button",{className:"btn btn-ghost btn-sm px-1 disabled:bg-transparent",onClick:b,disabled:!k,title:n("Back"),children:(0,c.jsx)(cM.IoChevronBack,{className:"h-6 w-6"})}),e&&(0,c.jsx)("button",{className:"btn btn-ghost btn-sm px-1 disabled:bg-transparent",onClick:e,disabled:!l,title:n("Forward"),children:(0,c.jsx)(cM.IoChevronForward,{className:"h-6 w-6"})})]}),(0,c.jsx)("button",{className:"btn btn-ghost btn-sm px-1",onClick:h,title:n("Home"),children:(0,c.jsx)(cM.IoHome,{className:"h-5 w-5"})})]}),(0,c.jsx)("div",{className:"flex-grow px-3 sm:px-5",children:(0,c.jsxs)("div",{className:"relative flex w-full items-center",children:[(0,c.jsx)("span",{className:"text-base-content/50 absolute left-3",children:(0,c.jsx)(c4.FaSearch,{className:"h-4 w-4"})}),(0,c.jsx)("input",{type:"text",ref:u,value:v,placeholder:n("Search in OPDS Catalog..."),disabled:!m,onChange:a=>{let b=a.target.value;w(b),z(b)},spellCheck:"false",className:(0,d.default)("input rounded-badge h-9 w-full pl-10 pr-4 sm:h-7",t?.isEink?"border-1 border-base-content focus:border-base-content":"bg-base-300/45 border-none","font-sans text-sm font-light","placeholder:text-base-content/50 truncate","focus:outline-none focus:ring-0")}),(0,c.jsx)("div",{className:"text-base-content/50 absolute right-2 flex items-center space-x-2 sm:space-x-4",children:v&&(0,c.jsx)("button",{type:"button",onClick:()=>{w(""),h()},className:"text-base-content/40 hover:text-base-content/60 pe-1","aria-label":n("Clear Search"),children:(0,c.jsx)(c5.IoMdCloseCircle,{className:"h-4 w-4"})})})]})}),(0,c.jsx)("div",{className:"justify-end gap-2 px-1",children:(0,c.jsx)(c8.default,{className:"window-buttons flex h-full items-center",onClose:()=>{y()}})})]})}function da(){let a=(0,p.useTranslation)(),b=(0,g.useRouter)(),{appService:B}=(0,j.useEnv)(),{user:C}=(0,k.useAuth)(),{libraryLoaded:D}=(0,v.useLibrary)(),{safeAreaInsets:E,isRoundedWindow:F}=(0,o.useThemeStore)(),{settings:G}=(0,r.useSettingsStore)(),[H,I]=(0,f.useState)("loading"),[J,K]=(0,f.useState)({baseURL:"",currentURL:""}),[L,M]=(0,f.useState)(null),[N,O]=(0,f.useState)(null),[P,Q]=(0,f.useState)([]),[R,S]=(0,f.useState)(-1),T=(0,g.useSearchParams)(),U=T?.get("url")||"",V=T?.get("id")||"",W=(0,f.useRef)(void 0),X=(0,f.useRef)(void 0),Y=(0,f.useRef)(void 0),Z=(0,f.useRef)(!1),$=(0,f.useRef)(-1),_=(0,f.useRef)(!1),aa=(0,f.useRef)("");(0,u.useTheme)({systemUIVisible:!1}),(0,t.useTransferQueue)(D),(0,f.useEffect)(()=>{Y.current=J.startURL},[J.startURL]),(0,f.useEffect)(()=>{$.current=R},[R]);let ab=(0,f.useCallback)((a,b,c,d=null)=>{let e={url:a,state:b,viewMode:c,selectedPublication:d};Q(a=>[...a.slice(0,$.current+1),e]),S(a=>a+1)},[]),ac=(0,f.useCallback)((a,b,c)=>{if(c){let d={};a.params?.forEach(a=>{"count"===a.name?d[a.name]="20":"startPage"===a.name?d[a.name]="1":"searchTerms"===a.name?d[a.name]=c:d[a.name]=a.value||""});let e=new Map;for(let b of a.params||[]){let a=d[b.name]||"",c=b.ns??null;e.has(c)?e.get(c).set(b.name,a):e.set(c,new Map([[b.name,a]]))}let f=a.search(e);ae((0,y.resolveURL)(f,b),!0)}},[]),ad=(0,f.useCallback)(async(c,d={})=>{let{skipHistory:e=!1,isSearch:f=!1}=d;if(!Z.current){Z.current=!0,I("loading"),O(null);try{let d=(0,l.isWebAppPlatform)(),g=W.current||"",i=X.current||"",j=await (0,z.fetchWithAuth)(c,g,i,d);if(!j.ok)if(f&&404===j.status){let b=a("No search results found");w.eventDispatcher.dispatch("toast",{message:b,timeout:2e3,type:"warning"}),I("search");return}else{let c=a("Failed to load OPDS feed: {{status}} {{statusText}}",{status:j.status,statusText:j.statusText});throw w.eventDispatcher.dispatch("toast",{message:c,timeout:5e3,type:"error"}),setTimeout(()=>{b.back()},5e3),Error(c)}let k=Y.current||c,m=j.url,n=await j.text();if(n.startsWith("<")){let a=new DOMParser().parseFromString(n,y.MIME.XML),{documentElement:{localName:d}}=a;if("feed"===d){let b={feed:(0,h.getFeed)(a),baseURL:m,currentURL:c,startURL:k||m};K(b),I("feed"),M(null),e||ab(c,b,"feed",null)}else if("entry"===d){let b={publication:(0,h.getPublication)(a.documentElement),baseURL:m,currentURL:c,startURL:k||m};K(b),I("publication"),M(null),e||ab(c,b,"publication",null)}else if("OpenSearchDescription"===d){let b=(0,h.getOpenSearch)(a),d={search:b,baseURL:m,currentURL:c,startURL:k||m};K(d),aa.current?ac(b,m,aa.current):(I("search"),M(null)),e||ab(c,d,"search",null)}else{let a=j.headers.get("Content-Type")??y.MIME.HTML,c=(0,y.parseMediaType)(a)?.mediaType??y.MIME.HTML,d=new DOMParser().parseFromString(n,c);if(!d.head)throw b.back(),Error(`Failed to load OPDS feed: ${j.status} ${j.statusText}`);let e=Array.from(d.head.querySelectorAll("link")).find(a=>(0,h.isOPDSCatalog)(a.getAttribute("type")??""));if(!e)throw b.back(),Error("Document has no link to OPDS feeds");let f=e.getAttribute("href");if(f){let a=(0,y.resolveURL)(f,m);ad(a)}}}else{let a={feed:JSON.parse(n),baseURL:m,currentURL:c,startURL:k||m};K(a),I("feed"),M(null),e||ab(c,a,"feed",null)}}catch(a){console.error(a),O(a),I("error")}finally{Z.current=!1}}},[a,b,ac,ab]);(0,f.useEffect)(()=>{if(U&&!_.current){let{username:a,password:b}=G.opdsCatalogs?.find(a=>a.id===V)||{};a||b?(W.current=a,X.current=b):(W.current=null,X.current=null),D&&ad(U)}else _.current?_.current=!1:(I("error"),O(Error("No OPDS URL provided")))},[U,V,G,D,ad]);let ae=(0,f.useCallback)((a,b=!1)=>{let c=new URL(window.location.href);c.searchParams.set("url",a),window.history.pushState({},"",c.toString()),ad(a,{isSearch:b})},[ad]),af=(0,f.useMemo)(()=>!!J.feed?.links?.find(y.isSearchLink),[J.feed]),ag=(0,f.useCallback)(()=>{Y.current&&ae(Y.current),aa.current=""},[Y,ae]),ah=(0,f.useCallback)(b=>{if(!J.feed)return;aa.current=b;let c=J.feed.links?.find(y.isSearchLink);if(c&&c.href){let b=(0,y.resolveURL)(c.href,J.baseURL);if(c.type===y.MIME.OPENSEARCH)ae(b,!0);else if(c.type===y.MIME.ATOM){let c={metadata:{title:a("Search"),description:J.feed.metadata?.title?a("Search in {{title}}",{title:J.feed.metadata.title}):void 0},params:[{name:"searchTerms",required:!0}],search:a=>{let c=a.get(null),d=c?.get("searchTerms")||"";return decodeURIComponent(b).replace("{searchTerms}",encodeURIComponent(d))}},d={feed:J.feed,search:c,baseURL:J.baseURL,currentURL:J.currentURL,startURL:J.startURL};K(d),M(null),I("search"),ab(J.currentURL,d,"search",null)}}},[a,J,ae,ab]),ai=(0,f.useCallback)(async(a,b,c)=>{if(B&&D)try{let d=(0,y.resolveURL)(a,J.baseURL),e=(0,y.parseMediaType)(b);if(e?.mediaType===y.MIME.HTML)return void((0,l.isWebAppPlatform)()?window.open(d,"_blank"):await (0,i.openUrl)(d));{let a=W.current||"",b=X.current||"",f=(0,z.needsProxy)(d),g=f?(0,z.getProxiedURL)(d,"",!0):d,h={"User-Agent":A.READEST_OPDS_USER_AGENT,Accept:"*/*"};if(a||b){let c=await (0,z.probeAuth)(d,a,b,f);c&&(h.Authorization=c,g=f?(0,z.getProxiedURL)(d,c,!0):d)}let i=decodeURIComponent(new URL(d).pathname),j=(0,x.getFileExtFromMimeType)(e?.mediaType)||(0,y.getFileExtFromPath)(i),k=i.replaceAll("/","_"),l=j?`${k}.${j}`:k,n=await B?.resolveFilePath(l,"Cache");console.log("Downloading to:",d,n);let o=await (0,m.downloadFile)({appService:B,dst:n,cfp:"",url:g,headers:h,singleThreaded:!0,skipSslVerification:!0,onProgress:c}),p=await (0,z.probeFilename)(o);if(p){let a=await B?.resolveFilePath(p,"Cache");await B?.copyFile(n,a,"None"),await B?.deleteFile(n,"None"),console.log("Renamed downloaded file to:",a),n=a}let{library:r,setLibrary:t}=q.useLibraryStore.getState(),u=await B.importBook(n,r);return C&&u&&!u.uploadedAt&&G.autoUpload&&setTimeout(()=>{s.transferManager.queueUpload(u)},3e3),t(r),B.saveLibraryBooks(r),u}}catch(a){throw console.error("Download error:",a),a}},[C,J.baseURL,B,D]),aj=(0,f.useCallback)(async a=>{if(!B)return a;let b=W.current||"",c=X.current||"";if(!b&&!c)return a;let d=`img_${(0,e.md5)(a)}.png`,f=await B.resolveFilePath("","Cache"),g=`${f}/${d}`;if(await B.exists(g,"None"))return await B.getImageURL(g);{let d=(0,z.needsProxy)(a),e=d?(0,z.getProxiedURL)(a,"",!0):a,f={};if(b||c){let g=await (0,z.probeAuth)(a,b,c,d);g&&(f.Authorization=g,e=d?(0,z.getProxiedURL)(a,g,!0):a)}return await (0,m.downloadFile)({appService:B,dst:g,cfp:"",url:e,singleThreaded:!0,skipSslVerification:!0,headers:f}),await B.getImageURL(g)}},[B]),ak=(0,f.useCallback)(()=>{if(R>0){let a=R-1,b=P[a];if(!b)return;_.current=!0,S(a),K(b.state),I(b.viewMode),M(b.selectedPublication);let c=new URL(window.location.href);c.searchParams.set("url",b.url),window.history.replaceState({},"",c.toString())}},[P,R]),al=(0,f.useCallback)(()=>{if(R<P.length-1){let a=R+1,b=P[a];if(!b)return;_.current=!0,S(a),K(b.state),I(b.viewMode),M(b.selectedPublication);let c=new URL(window.location.href);c.searchParams.set("url",b.url),window.history.replaceState({},"",c.toString())}},[P,R]),am=(0,f.useCallback)((a,b)=>{M({groupIndex:a,itemIndex:b}),I("publication"),Q(c=>{let d=c[$.current];if(!d)return c;let e={url:d.url,state:d.state,viewMode:"publication",selectedPublication:{groupIndex:a,itemIndex:b}};return[...c.slice(0,$.current+1),e]}),S(a=>a+1)},[]),an=R>0,ao=R<P.length-1,ap=L&&J.feed?J.feed.groups?.[L.groupIndex]?.publications?.[L.itemIndex]||J.feed.publications?.[L.itemIndex]:J.publication;return(0,c.jsxs)("div",{className:(0,d.default)("bg-base-100 flex h-screen select-none flex-col",B?.hasRoundedWindow&&F&&"window-border rounded-window"),children:[(0,c.jsx)("div",{className:"relative top-0 z-40 w-full",style:{paddingTop:`${E?.top||0}px`},children:(0,c.jsx)(c9,{searchTerm:aa.current,onBack:ak,onForward:al,onGoStart:ag,onSearch:ah,canGoBack:an,canGoForward:ao,hasSearch:af})}),(0,c.jsxs)("main",{className:"flex-1 overflow-auto",children:["loading"===H&&(0,c.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"loading loading-spinner loading-lg mb-4"}),(0,c.jsx)("h1",{className:"text-base font-semibold",children:a("Loading...")})]})}),"error"===H&&(0,c.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,c.jsxs)("div",{className:"max-w-md text-center",children:[(0,c.jsx)("h1",{className:"text-error mb-4 text-xl font-bold",children:a("Cannot Load Page")}),(0,c.jsx)("p",{className:"text-base-content/70 mb-4",children:N?.message||a("An error occurred")}),(0,c.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:a("Reload Page")})]})}),"feed"===H&&J.feed&&(0,c.jsx)(cZ,{feed:J.feed,baseURL:J.baseURL,onNavigate:ae,onPublicationSelect:am,resolveURL:y.resolveURL,onGenerateCachedImageUrl:aj,isOPDSCatalog:h.isOPDSCatalog}),"publication"===H&&ap&&(0,c.jsx)(c2,{publication:ap,baseURL:J.baseURL,onDownload:ai,resolveURL:y.resolveURL,onGenerateCachedImageUrl:aj}),"search"===H&&J.search&&(0,c.jsx)(c3,{search:J.search,baseURL:J.baseURL,onNavigate:ae,resolveURL:y.resolveURL})]}),(0,c.jsx)(n.Toast,{})]})}a.s(["default",()=>da],603953)}];

//# sourceMappingURL=apps_readest-app_src_app_opds_page_tsx_df973817._.js.map