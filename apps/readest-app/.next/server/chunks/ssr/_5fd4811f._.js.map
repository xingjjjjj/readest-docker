{"version":3,"sources":["../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/internal/constants.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/internal/debug.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/internal/re.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/internal/parse-options.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/internal/identifiers.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/classes/semver.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/parse.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/valid.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/clean.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/inc.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/diff.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/major.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/minor.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/patch.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/prerelease.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/compare.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/rcompare.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/compare-loose.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/compare-build.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/sort.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/rsort.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/gt.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/lt.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/eq.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/neq.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/gte.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/lte.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/cmp.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/coerce.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/internal/lrucache.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/classes/range.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/classes/comparator.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/functions/satisfies.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/to-comparators.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/max-satisfying.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/min-satisfying.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/min-version.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/valid.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/outside.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/gtr.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/ltr.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/intersects.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/simplify.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/ranges/subset.js","../../../../../../node_modules/.pnpm/semver%407.7.2/node_modules/semver/index.js","../../../../../../node_modules/.pnpm/%40tauri-apps%2Bplugin-updater%402.9.0/node_modules/%40tauri-apps/plugin-updater/dist-js/index.js","../../../../../../node_modules/.pnpm/%40tauri-apps%2Bplugin-shell%402.3.4/node_modules/%40tauri-apps/plugin-shell/dist-js/index.js","../../../../../../apps/readest-app/src/hooks/useTranslator.ts","../../../../../../apps/readest-app/src/services/translators/types.ts","../../../../../../apps/readest-app/src/services/translators/cache.ts","../../../../../../apps/readest-app/src/services/translators/polish.ts","../../../../../../apps/readest-app/src/services/translators/preprocess.ts","../../../../../../apps/readest-app/src/services/translators/providers/deepl.ts","../../../../../../apps/readest-app/src/services/translators/providers/azure.ts","../../../../../../apps/readest-app/src/services/translators/providers/google.ts","../../../../../../apps/readest-app/src/services/translators/providers/yandex.ts","../../../../../../apps/readest-app/src/services/translators/providers/index.ts","../../../../../../apps/readest-app/src/helpers/updater.ts","../../../../../../apps/readest-app/src/components/UpdaterWindow.tsx","../../../../../../apps/readest-app/src/components/Dialog.tsx","../../../../../../apps/readest-app/src/hooks/useDrag.ts","../../../../../../apps/readest-app/src/store/deviceStore.ts","../../../../../../node_modules/.pnpm/%40tauri-apps%2Bplugin-haptics%402.3.2/node_modules/%40tauri-apps/plugin-haptics/dist-js/index.js","../../../../../../apps/readest-app/src/components/Spinner.tsx"],"sourcesContent":["'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","'use strict'\n\nconst parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","'use strict'\n\nconst parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","'use strict'\n\nconst SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","'use strict'\n\nconst parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","'use strict'\n\nconst parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","'use strict'\n\nconst compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","'use strict'\n\nconst compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","'use strict'\n\nconst compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","'use strict'\n\nconst compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","'use strict'\n\nconst compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","'use strict'\n\nconst compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","'use strict'\n\nconst compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","'use strict'\n\nconst compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","'use strict'\n\nconst compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","'use strict'\n\nconst eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","'use strict'\n\nclass LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","'use strict'\n\nconst SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","'use strict'\n\nconst ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","'use strict'\n\nconst Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","'use strict'\n\nconst Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","'use strict'\n\nconst Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","'use strict'\n\n// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","'use strict'\n\nconst outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","'use strict'\n\nconst Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","'use strict'\n\n// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","'use strict'\n\nconst Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","'use strict'\n\n// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","import { Resource, Channel, invoke } from '@tauri-apps/api/core';\n\n// Copyright 2019-2023 Tauri Programme within The Commons Conservancy\n// SPDX-License-Identifier: Apache-2.0\n// SPDX-License-Identifier: MIT\nclass Update extends Resource {\n    constructor(metadata) {\n        super(metadata.rid);\n        this.available = true;\n        this.currentVersion = metadata.currentVersion;\n        this.version = metadata.version;\n        this.date = metadata.date;\n        this.body = metadata.body;\n        this.rawJson = metadata.rawJson;\n    }\n    /** Download the updater package */\n    async download(onEvent, options) {\n        convertToRustHeaders(options);\n        const channel = new Channel();\n        if (onEvent) {\n            channel.onmessage = onEvent;\n        }\n        const downloadedBytesRid = await invoke('plugin:updater|download', {\n            onEvent: channel,\n            rid: this.rid,\n            ...options\n        });\n        this.downloadedBytes = new Resource(downloadedBytesRid);\n    }\n    /** Install downloaded updater package */\n    async install() {\n        if (!this.downloadedBytes) {\n            throw new Error('Update.install called before Update.download');\n        }\n        await invoke('plugin:updater|install', {\n            updateRid: this.rid,\n            bytesRid: this.downloadedBytes.rid\n        });\n        // Don't need to call close, we did it in rust side already\n        this.downloadedBytes = undefined;\n    }\n    /** Downloads the updater package and installs it */\n    async downloadAndInstall(onEvent, options) {\n        convertToRustHeaders(options);\n        const channel = new Channel();\n        if (onEvent) {\n            channel.onmessage = onEvent;\n        }\n        await invoke('plugin:updater|download_and_install', {\n            onEvent: channel,\n            rid: this.rid,\n            ...options\n        });\n    }\n    async close() {\n        await this.downloadedBytes?.close();\n        await super.close();\n    }\n}\n/** Check for updates, resolves to `null` if no updates are available */\nasync function check(options) {\n    convertToRustHeaders(options);\n    const metadata = await invoke('plugin:updater|check', {\n        ...options\n    });\n    return metadata ? new Update(metadata) : null;\n}\n/**\n * Converts the headers in options to be an {@linkcode Array<[string, string]>} which is what the Rust side expects\n */\nfunction convertToRustHeaders(options) {\n    if (options?.headers) {\n        options.headers = Array.from(new Headers(options.headers).entries());\n    }\n}\n\nexport { Update, check };\n","import { invoke, Channel } from '@tauri-apps/api/core';\n\n// Copyright 2019-2023 Tauri Programme within The Commons Conservancy\n// SPDX-License-Identifier: Apache-2.0\n// SPDX-License-Identifier: MIT\n/**\n * Access the system shell.\n * Allows you to spawn child processes and manage files and URLs using their default application.\n *\n * ## Security\n *\n * This API has a scope configuration that forces you to restrict the programs and arguments that can be used.\n *\n * ### Restricting access to the {@link open | `open`} API\n *\n * On the configuration object, `open: true` means that the {@link open} API can be used with any URL,\n * as the argument is validated with the `^((mailto:\\w+)|(tel:\\w+)|(https?://\\w+)).+` regex.\n * You can change that regex by changing the boolean value to a string, e.g. `open: ^https://github.com/`.\n *\n * ### Restricting access to the {@link Command | `Command`} APIs\n *\n * The plugin permissions object has a `scope` field that defines an array of CLIs that can be used.\n * Each CLI is a configuration object `{ name: string, cmd: string, sidecar?: bool, args?: boolean | Arg[] }`.\n *\n * - `name`: the unique identifier of the command, passed to the {@link Command.create | Command.create function}.\n * If it's a sidecar, this must be the value defined on `tauri.conf.json > bundle > externalBin`.\n * - `cmd`: the program that is executed on this configuration. If it's a sidecar, this value is ignored.\n * - `sidecar`: whether the object configures a sidecar or a system program.\n * - `args`: the arguments that can be passed to the program. By default no arguments are allowed.\n *   - `true` means that any argument list is allowed.\n *   - `false` means that no arguments are allowed.\n *   - otherwise an array can be configured. Each item is either a string representing the fixed argument value\n *     or a `{ validator: string }` that defines a regex validating the argument value.\n *\n * #### Example scope configuration\n *\n * CLI: `git commit -m \"the commit message\"`\n *\n * Capability:\n * ```json\n * {\n *   \"permissions\": [\n *     {\n *       \"identifier\": \"shell:allow-execute\",\n *       \"allow\": [\n *         {\n *           \"name\": \"run-git-commit\",\n *           \"cmd\": \"git\",\n *           \"args\": [\"commit\", \"-m\", { \"validator\": \"\\\\S+\" }]\n *         }\n *       ]\n *     }\n *   ]\n * }\n * ```\n * Usage:\n * ```typescript\n * import { Command } from '@tauri-apps/plugin-shell'\n * Command.create('run-git-commit', ['commit', '-m', 'the commit message'])\n * ```\n *\n * Trying to execute any API with a program not configured on the scope results in a promise rejection due to denied access.\n *\n * @module\n */\n/**\n * @since 2.0.0\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass EventEmitter {\n    constructor() {\n        /** @ignore */\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-explicit-any\n        this.eventListeners = Object.create(null);\n    }\n    /**\n     * Alias for `emitter.on(eventName, listener)`.\n     *\n     * @since 2.0.0\n     */\n    addListener(eventName, listener) {\n        return this.on(eventName, listener);\n    }\n    /**\n     * Alias for `emitter.off(eventName, listener)`.\n     *\n     * @since 2.0.0\n     */\n    removeListener(eventName, listener) {\n        return this.off(eventName, listener);\n    }\n    /**\n     * Adds the `listener` function to the end of the listeners array for the\n     * event named `eventName`. No checks are made to see if the `listener` has\n     * already been added. Multiple calls passing the same combination of `eventName`and `listener` will result in the `listener` being added, and called, multiple\n     * times.\n     *\n     * Returns a reference to the `EventEmitter`, so that calls can be chained.\n     *\n     * @since 2.0.0\n     */\n    on(eventName, listener) {\n        if (eventName in this.eventListeners) {\n            // eslint-disable-next-line security/detect-object-injection\n            this.eventListeners[eventName].push(listener);\n        }\n        else {\n            // eslint-disable-next-line security/detect-object-injection\n            this.eventListeners[eventName] = [listener];\n        }\n        return this;\n    }\n    /**\n     * Adds a **one-time**`listener` function for the event named `eventName`. The\n     * next time `eventName` is triggered, this listener is removed and then invoked.\n     *\n     * Returns a reference to the `EventEmitter`, so that calls can be chained.\n     *\n     * @since 2.0.0\n     */\n    once(eventName, listener) {\n        const wrapper = (arg) => {\n            this.removeListener(eventName, wrapper);\n            listener(arg);\n        };\n        return this.addListener(eventName, wrapper);\n    }\n    /**\n     * Removes the all specified listener from the listener array for the event eventName\n     * Returns a reference to the `EventEmitter`, so that calls can be chained.\n     *\n     * @since 2.0.0\n     */\n    off(eventName, listener) {\n        if (eventName in this.eventListeners) {\n            // eslint-disable-next-line security/detect-object-injection\n            this.eventListeners[eventName] = this.eventListeners[eventName].filter((l) => l !== listener);\n        }\n        return this;\n    }\n    /**\n     * Removes all listeners, or those of the specified eventName.\n     *\n     * Returns a reference to the `EventEmitter`, so that calls can be chained.\n     *\n     * @since 2.0.0\n     */\n    removeAllListeners(event) {\n        if (event) {\n            // eslint-disable-next-line security/detect-object-injection\n            delete this.eventListeners[event];\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            this.eventListeners = Object.create(null);\n        }\n        return this;\n    }\n    /**\n     * @ignore\n     * Synchronously calls each of the listeners registered for the event named`eventName`, in the order they were registered, passing the supplied arguments\n     * to each.\n     *\n     * @returns `true` if the event had listeners, `false` otherwise.\n     *\n     * @since 2.0.0\n     */\n    emit(eventName, arg) {\n        if (eventName in this.eventListeners) {\n            // eslint-disable-next-line security/detect-object-injection\n            const listeners = this.eventListeners[eventName];\n            for (const listener of listeners)\n                listener(arg);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Returns the number of listeners listening to the event named `eventName`.\n     *\n     * @since 2.0.0\n     */\n    listenerCount(eventName) {\n        if (eventName in this.eventListeners)\n            // eslint-disable-next-line security/detect-object-injection\n            return this.eventListeners[eventName].length;\n        return 0;\n    }\n    /**\n     * Adds the `listener` function to the _beginning_ of the listeners array for the\n     * event named `eventName`. No checks are made to see if the `listener` has\n     * already been added. Multiple calls passing the same combination of `eventName`and `listener` will result in the `listener` being added, and called, multiple\n     * times.\n     *\n     * Returns a reference to the `EventEmitter`, so that calls can be chained.\n     *\n     * @since 2.0.0\n     */\n    prependListener(eventName, listener) {\n        if (eventName in this.eventListeners) {\n            // eslint-disable-next-line security/detect-object-injection\n            this.eventListeners[eventName].unshift(listener);\n        }\n        else {\n            // eslint-disable-next-line security/detect-object-injection\n            this.eventListeners[eventName] = [listener];\n        }\n        return this;\n    }\n    /**\n     * Adds a **one-time**`listener` function for the event named `eventName` to the_beginning_ of the listeners array. The next time `eventName` is triggered, this\n     * listener is removed, and then invoked.\n     *\n     * Returns a reference to the `EventEmitter`, so that calls can be chained.\n     *\n     * @since 2.0.0\n     */\n    prependOnceListener(eventName, listener) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const wrapper = (arg) => {\n            this.removeListener(eventName, wrapper);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            listener(arg);\n        };\n        return this.prependListener(eventName, wrapper);\n    }\n}\n/**\n * @since 2.0.0\n */\nclass Child {\n    constructor(pid) {\n        this.pid = pid;\n    }\n    /**\n     * Writes `data` to the `stdin`.\n     *\n     * @param data The message to write, either a string or a byte array.\n     * @example\n     * ```typescript\n     * import { Command } from '@tauri-apps/plugin-shell';\n     * const command = Command.create('node');\n     * const child = await command.spawn();\n     * await child.write('message');\n     * await child.write([0, 1, 2, 3, 4, 5]);\n     * ```\n     *\n     * @returns A promise indicating the success or failure of the operation.\n     *\n     * @since 2.0.0\n     */\n    async write(data) {\n        await invoke('plugin:shell|stdin_write', {\n            pid: this.pid,\n            buffer: data\n        });\n    }\n    /**\n     * Kills the child process.\n     *\n     * @returns A promise indicating the success or failure of the operation.\n     *\n     * @since 2.0.0\n     */\n    async kill() {\n        await invoke('plugin:shell|kill', {\n            cmd: 'killChild',\n            pid: this.pid\n        });\n    }\n}\n/**\n * The entry point for spawning child processes.\n * It emits the `close` and `error` events.\n * @example\n * ```typescript\n * import { Command } from '@tauri-apps/plugin-shell';\n * const command = Command.create('node');\n * command.on('close', data => {\n *   console.log(`command finished with code ${data.code} and signal ${data.signal}`)\n * });\n * command.on('error', error => console.error(`command error: \"${error}\"`));\n * command.stdout.on('data', line => console.log(`command stdout: \"${line}\"`));\n * command.stderr.on('data', line => console.log(`command stderr: \"${line}\"`));\n *\n * const child = await command.spawn();\n * console.log('pid:', child.pid);\n * ```\n *\n * @since 2.0.0\n *\n */\nclass Command extends EventEmitter {\n    /**\n     * @ignore\n     * Creates a new `Command` instance.\n     *\n     * @param program The program name to execute.\n     * It must be configured in your project's capabilities.\n     * @param args Program arguments.\n     * @param options Spawn options.\n     */\n    constructor(program, args = [], options) {\n        super();\n        /** Event emitter for the `stdout`. Emits the `data` event. */\n        this.stdout = new EventEmitter();\n        /** Event emitter for the `stderr`. Emits the `data` event. */\n        this.stderr = new EventEmitter();\n        this.program = program;\n        this.args = typeof args === 'string' ? [args] : args;\n        this.options = options ?? {};\n    }\n    /**\n     * Creates a command to execute the given program.\n     * @example\n     * ```typescript\n     * import { Command } from '@tauri-apps/plugin-shell';\n     * const command = Command.create('my-app', ['run', 'tauri']);\n     * const output = await command.execute();\n     * ```\n     *\n     * @param program The program to execute.\n     * It must be configured in your project's capabilities.\n     */\n    static create(program, args = [], options) {\n        return new Command(program, args, options);\n    }\n    /**\n     * Creates a command to execute the given sidecar program.\n     * @example\n     * ```typescript\n     * import { Command } from '@tauri-apps/plugin-shell';\n     * const command = Command.sidecar('my-sidecar');\n     * const output = await command.execute();\n     * ```\n     *\n     * @param program The program to execute.\n     * It must be configured in your project's capabilities.\n     */\n    static sidecar(program, args = [], options) {\n        const instance = new Command(program, args, options);\n        instance.options.sidecar = true;\n        return instance;\n    }\n    /**\n     * Executes the command as a child process, returning a handle to it.\n     *\n     * @returns A promise resolving to the child process handle.\n     *\n     * @since 2.0.0\n     */\n    async spawn() {\n        const program = this.program;\n        const args = this.args;\n        const options = this.options;\n        if (typeof args === 'object') {\n            Object.freeze(args);\n        }\n        const onEvent = new Channel();\n        onEvent.onmessage = (event) => {\n            switch (event.event) {\n                case 'Error':\n                    this.emit('error', event.payload);\n                    break;\n                case 'Terminated':\n                    this.emit('close', event.payload);\n                    break;\n                case 'Stdout':\n                    this.stdout.emit('data', event.payload);\n                    break;\n                case 'Stderr':\n                    this.stderr.emit('data', event.payload);\n                    break;\n            }\n        };\n        return await invoke('plugin:shell|spawn', {\n            program,\n            args,\n            options,\n            onEvent\n        }).then((pid) => new Child(pid));\n    }\n    /**\n     * Executes the command as a child process, waiting for it to finish and collecting all of its output.\n     * @example\n     * ```typescript\n     * import { Command } from '@tauri-apps/plugin-shell';\n     * const output = await Command.create('echo', 'message').execute();\n     * assert(output.code === 0);\n     * assert(output.signal === null);\n     * assert(output.stdout === 'message');\n     * assert(output.stderr === '');\n     * ```\n     *\n     * @returns A promise resolving to the child process output.\n     *\n     * @since 2.0.0\n     */\n    async execute() {\n        const program = this.program;\n        const args = this.args;\n        const options = this.options;\n        if (typeof args === 'object') {\n            Object.freeze(args);\n        }\n        return await invoke('plugin:shell|execute', {\n            program,\n            args,\n            options\n        });\n    }\n}\n/**\n * Opens a path or URL with the system's default app,\n * or the one specified with `openWith`.\n *\n * The `openWith` value must be one of `firefox`, `google chrome`, `chromium` `safari`,\n * `open`, `start`, `xdg-open`, `gio`, `gnome-open`, `kde-open` or `wslview`.\n *\n * @example\n * ```typescript\n * import { open } from '@tauri-apps/plugin-shell';\n * // opens the given URL on the default browser:\n * await open('https://github.com/tauri-apps/tauri');\n * // opens the given URL using `firefox`:\n * await open('https://github.com/tauri-apps/tauri', 'firefox');\n * // opens a file using the default program:\n * await open('/path/to/file');\n * ```\n *\n * @param path The path or URL to open.\n * This value is matched against the string regex defined on `tauri.conf.json > plugins > shell > open`,\n * which defaults to `^((mailto:\\w+)|(tel:\\w+)|(https?://\\w+)).+`.\n * @param openWith The app to open the file or URL with.\n * Defaults to the system default application for the specified path type.\n *\n * @since 2.0.0\n */\nasync function open(path, openWith) {\n    await invoke('plugin:shell|open', {\n        path,\n        with: openWith\n    });\n}\n\nexport { Child, Command, EventEmitter, open };\n","'use client';\n\nimport { useState, useCallback, useEffect } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { ErrorCodes, getTranslator, getTranslators, TranslatorName } from '@/services/translators';\nimport { getFromCache, storeInCache, UseTranslatorOptions } from '@/services/translators';\nimport { polish, preprocess } from '@/services/translators';\nimport { eventDispatcher } from '@/utils/event';\nimport { getLocale } from '@/utils/misc';\nimport { useTranslation } from './useTranslation';\n\nexport function useTranslator({\n  provider = 'deepl',\n  sourceLang = 'AUTO',\n  targetLang = 'EN',\n  enablePolishing = true,\n  enablePreprocessing = true,\n}: UseTranslatorOptions = {}) {\n  const _ = useTranslation();\n  const { token } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [selectedProvider, setSelectedProvider] = useState(provider);\n  const [translator, setTransltor] = useState(() => getTranslator(provider));\n  const [translators] = useState(() => getTranslators());\n\n  useEffect(() => {\n    setLoading(false);\n  }, [provider, sourceLang, targetLang]);\n\n  useEffect(() => {\n    const availableTranslators = getTranslators().filter(\n      (t) => (t.authRequired ? !!token : true) && !t.quotaExceeded,\n    );\n    const selectedTranslator =\n      availableTranslators.find((t) => t.name === provider) || availableTranslators[0]!;\n    const selectedProviderName = selectedTranslator.name as TranslatorName;\n    setTransltor(getTranslator(selectedProviderName));\n    setSelectedProvider(selectedProviderName);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [provider]);\n\n  const translate = useCallback(\n    async (\n      input: string[],\n      options?: { source?: string; target?: string; useCache?: boolean },\n    ): Promise<string[]> => {\n      const sourceLanguage = options?.source || sourceLang;\n      const targetLanguage = options?.target || targetLang || getLocale();\n      const useCache = options?.useCache ?? false;\n      const textsToTranslate = enablePreprocessing ? preprocess(input) : input;\n\n      if (textsToTranslate.length === 0 || textsToTranslate.every((t) => !t?.trim())) {\n        return textsToTranslate;\n      }\n\n      const textsNeedingTranslation: string[] = [];\n      const indicesNeedingTranslation: number[] = [];\n\n      await Promise.all(\n        textsToTranslate.map(async (text, index) => {\n          if (!text?.trim()) return;\n\n          const cachedTranslation = await getFromCache(\n            text,\n            sourceLanguage,\n            targetLanguage,\n            selectedProvider,\n          );\n          if (cachedTranslation) return;\n\n          textsNeedingTranslation.push(text);\n          indicesNeedingTranslation.push(index);\n        }),\n      );\n\n      if (textsNeedingTranslation.length === 0) {\n        const results = await Promise.all(\n          textsToTranslate.map((text) =>\n            getFromCache(text, sourceLanguage, targetLanguage, selectedProvider).then(\n              (cached) => cached || text,\n            ),\n          ),\n        );\n\n        return enablePolishing ? polish(results, targetLanguage) : results;\n      }\n\n      setLoading(true);\n\n      try {\n        const translator = translators.find((t) => t.name === selectedProvider);\n        if (!translator) {\n          throw new Error(`No translator found for provider: ${selectedProvider}`);\n        }\n        const translatedTexts = await translator.translate(\n          textsNeedingTranslation,\n          sourceLanguage,\n          targetLanguage,\n          token,\n          useCache,\n        );\n\n        await Promise.all(\n          textsNeedingTranslation.map(async (text, index) => {\n            return storeInCache(\n              text,\n              translatedTexts[index] || '',\n              sourceLanguage,\n              targetLanguage,\n              selectedProvider,\n            );\n          }),\n        );\n\n        const results = [...textsToTranslate];\n        indicesNeedingTranslation.forEach((originalIndex, translationIndex) => {\n          results[originalIndex] = translatedTexts[translationIndex] || '';\n        });\n\n        await Promise.all(\n          results.map(async (_, index) => {\n            if (!indicesNeedingTranslation.includes(index)) {\n              const originalText = textsToTranslate[index];\n              if (!originalText?.trim()) return;\n\n              const cachedTranslation = await getFromCache(\n                originalText,\n                sourceLanguage,\n                targetLanguage,\n                selectedProvider,\n              );\n\n              if (cachedTranslation) {\n                results[index] = cachedTranslation;\n              }\n            }\n          }),\n        );\n\n        setLoading(false);\n        return enablePolishing ? polish(results, targetLanguage) : results;\n      } catch (err) {\n        if (err instanceof Error && err.message.includes(ErrorCodes.DAILY_QUOTA_EXCEEDED)) {\n          eventDispatcher.dispatch('toast', {\n            timeout: 5000,\n            message: _(\n              'Daily translation quota reached. Upgrade your plan to continue using AI translations.',\n            ),\n            type: 'error',\n          });\n          setSelectedProvider('azure');\n        }\n        setLoading(false);\n        throw err instanceof Error ? err : new Error(String(err));\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [selectedProvider, sourceLang, targetLang, translator, token],\n  );\n\n  return {\n    translate,\n    translator,\n    translators,\n    loading,\n  };\n}\n","import { TranslatorName } from './providers';\n\nexport interface TranslationProvider {\n  name: string;\n  label: string;\n  authRequired?: boolean;\n  quotaExceeded?: boolean;\n  translate: (\n    texts: string[],\n    sourceLang: string,\n    targetLang: string,\n    token?: string | null,\n    useCache?: boolean,\n  ) => Promise<string[]>;\n}\n\nexport interface TranslationCache {\n  [key: string]: string;\n}\n\nexport interface UseTranslatorOptions {\n  provider?: TranslatorName;\n  sourceLang?: string;\n  targetLang?: string;\n  enablePolishing?: boolean;\n  enablePreprocessing?: boolean;\n}\n\nexport const ErrorCodes = {\n  UNAUTHORIZED: 'Unauthorized',\n  DEEPL_API_ERROR: 'DeepL API Error',\n  DAILY_QUOTA_EXCEEDED: 'Daily Quota Exceeded',\n  INTERNAL_SERVER_ERROR: 'Internal Server Error',\n};\n","import { TranslationCache } from './types';\n\nconst DB_NAME = 'TranslationCache';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'translations';\n\ninterface CacheEntry {\n  key: string;\n  translation: string;\n  timestamp: number;\n  provider: string;\n  sourceLang: string;\n  targetLang: string;\n  originalText: string;\n}\n\nconst memoryCache: TranslationCache = {};\nconst memoryTimestamps: Record<string, number> = {};\n\nconst openDatabase = (): Promise<IDBDatabase> => {\n  return new Promise((resolve, reject) => {\n    if (!window.indexedDB) {\n      console.warn('IndexedDB not supported. Using in-memory cache only.');\n      reject(new Error('IndexedDB not supported'));\n      return;\n    }\n\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n\n    request.onerror = (event) => {\n      console.error('IndexedDB error:', event);\n      reject(new Error('Could not open IndexedDB'));\n    };\n\n    request.onsuccess = (event) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = (event) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n\n      if (!db.objectStoreNames.contains(STORE_NAME)) {\n        const store = db.createObjectStore(STORE_NAME, { keyPath: 'key' });\n        store.createIndex('provider', 'provider', { unique: false });\n        store.createIndex('timestamp', 'timestamp', { unique: false });\n      }\n    };\n  });\n};\n\nexport const loadCacheFromDB = async (\n  options: {\n    maxAge?: number;\n    maxEntries?: number;\n    onlyLoadProviders?: string[];\n    onlyLoadLanguages?: { source?: string[]; target?: string[] };\n  } = {},\n): Promise<void> => {\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n\n    let request: IDBRequest;\n    if (options.onlyLoadProviders && options.onlyLoadProviders.length > 0) {\n      const providerPromises = options.onlyLoadProviders.map((provider) => {\n        return new Promise<CacheEntry[]>((resolve) => {\n          const providerIndex = store.index('provider');\n          const request = providerIndex.getAll(provider);\n\n          request.onsuccess = () => {\n            resolve(request.result);\n          };\n\n          request.onerror = () => {\n            resolve([]);\n          };\n        });\n      });\n\n      const allEntries = (await Promise.all(providerPromises)).flat();\n      processLoadedEntries(allEntries, options);\n    } else {\n      request = store.getAll();\n\n      request.onsuccess = () => {\n        const entries = request.result as CacheEntry[];\n        processLoadedEntries(entries, options);\n      };\n\n      request.onerror = (event) => {\n        console.error('Error loading cache from IndexedDB:', event);\n      };\n    }\n\n    transaction.oncomplete = () => {\n      db.close();\n    };\n  } catch (error) {\n    console.error('Failed to load cache from IndexedDB:', error);\n  }\n};\n\nconst processLoadedEntries = (\n  entries: CacheEntry[],\n  options: {\n    maxAge?: number;\n    maxEntries?: number;\n    onlyLoadLanguages?: { source?: string[]; target?: string[] };\n  },\n): void => {\n  let filteredEntries = entries;\n\n  if (options.maxAge) {\n    const cutoff = Date.now() - options.maxAge;\n    filteredEntries = filteredEntries.filter((entry) => entry.timestamp >= cutoff);\n  }\n\n  if (options.onlyLoadLanguages) {\n    if (options.onlyLoadLanguages.source && options.onlyLoadLanguages.source.length > 0) {\n      filteredEntries = filteredEntries.filter((entry) =>\n        options.onlyLoadLanguages!.source!.includes(entry.sourceLang),\n      );\n    }\n\n    if (options.onlyLoadLanguages.target && options.onlyLoadLanguages.target.length > 0) {\n      filteredEntries = filteredEntries.filter((entry) =>\n        options.onlyLoadLanguages!.target!.includes(entry.targetLang),\n      );\n    }\n  }\n\n  if (options.maxEntries && filteredEntries.length > options.maxEntries) {\n    filteredEntries.sort((a, b) => b.timestamp - a.timestamp);\n    filteredEntries = filteredEntries.slice(0, options.maxEntries);\n  }\n\n  filteredEntries.forEach((entry) => {\n    memoryCache[entry.key] = entry.translation;\n    memoryTimestamps[entry.key] = entry.timestamp;\n  });\n\n  // console.log(`Loaded ${filteredEntries.length} translations into memory cache`);\n};\n\nexport const getCacheKey = (\n  text: string,\n  sourceLang: string,\n  targetLang: string,\n  provider: string,\n): string => {\n  return `${provider}:${sourceLang}:${targetLang}:${text}`;\n};\n\nexport const getFromCache = async (\n  text: string,\n  sourceLang: string,\n  targetLang: string,\n  provider: string,\n): Promise<string | null> => {\n  if (!text?.trim()) return null;\n\n  const key = getCacheKey(text, sourceLang, targetLang, provider);\n\n  if (memoryCache[key]) {\n    return memoryCache[key];\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n    const request = store.get(key);\n\n    return new Promise((resolve) => {\n      request.onsuccess = () => {\n        const entry = request.result as CacheEntry;\n        if (entry) {\n          memoryCache[key] = entry.translation;\n          memoryTimestamps[key] = entry.timestamp;\n          resolve(entry.translation);\n        } else {\n          resolve(null);\n        }\n      };\n\n      request.onerror = () => {\n        resolve(null);\n      };\n\n      transaction.oncomplete = () => {\n        db.close();\n      };\n    });\n  } catch (error) {\n    console.error('Error accessing IndexedDB:', error);\n    return null;\n  }\n};\n\nexport const storeInCache = async (\n  text: string,\n  translation: string,\n  sourceLang: string,\n  targetLang: string,\n  provider: string,\n): Promise<void> => {\n  if (!text?.trim() || !translation) return;\n\n  const key = getCacheKey(text, sourceLang, targetLang, provider);\n  const timestamp = Date.now();\n\n  memoryCache[key] = translation;\n  memoryTimestamps[key] = timestamp;\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n\n    const entry: CacheEntry = {\n      key,\n      translation,\n      timestamp,\n      provider,\n      sourceLang,\n      targetLang,\n      originalText: text,\n    };\n\n    store.put(entry);\n\n    return new Promise((resolve, reject) => {\n      transaction.oncomplete = () => {\n        db.close();\n        resolve();\n      };\n\n      transaction.onerror = (event) => {\n        console.error('Error storing in IndexedDB:', event);\n        reject(new Error('Failed to store in IndexedDB'));\n      };\n    });\n  } catch (error) {\n    console.error('Error accessing IndexedDB:', error);\n  }\n};\n\nexport interface CacheFilterOptions {\n  provider?: string;\n  maxAge?: number;\n}\n\nexport const clearCache = async (filter?: CacheFilterOptions): Promise<number> => {\n  let deletedCount = 0;\n\n  if (!filter) {\n    const count = Object.keys(memoryCache).length;\n    Object.keys(memoryCache).forEach((key) => {\n      delete memoryCache[key];\n      delete memoryTimestamps[key];\n    });\n    deletedCount = count;\n  } else {\n    const keysToDelete: string[] = [];\n\n    Object.keys(memoryCache).forEach((key) => {\n      let shouldDelete = true;\n\n      if (filter.provider) {\n        const parts = key.split(':');\n        const provider = parts[0];\n\n        if (filter.provider && provider !== filter.provider) {\n          shouldDelete = false;\n        }\n      }\n\n      if (shouldDelete && filter.maxAge && memoryTimestamps[key]) {\n        const timestamp = memoryTimestamps[key];\n        if (Date.now() - timestamp < filter.maxAge) {\n          shouldDelete = false;\n        }\n      }\n\n      if (shouldDelete) {\n        keysToDelete.push(key);\n      }\n    });\n\n    keysToDelete.forEach((key) => {\n      delete memoryCache[key];\n      delete memoryTimestamps[key];\n    });\n\n    deletedCount = keysToDelete.length;\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n\n    if (!filter) {\n      store.clear();\n    } else {\n      const request = store.getAll();\n\n      request.onsuccess = () => {\n        const entries = request.result as CacheEntry[];\n        const filteredEntries = entries.filter((entry) => {\n          if (filter.provider && entry.provider !== filter.provider) {\n            return false;\n          }\n\n          if (filter.maxAge && Date.now() - entry.timestamp >= filter.maxAge) {\n            return true;\n          }\n\n          return true;\n        });\n\n        filteredEntries.forEach((entry) => {\n          store.delete(entry.key);\n        });\n      };\n    }\n\n    return new Promise((resolve) => {\n      transaction.oncomplete = () => {\n        db.close();\n        resolve(deletedCount);\n      };\n\n      transaction.onerror = () => {\n        db.close();\n        resolve(deletedCount);\n      };\n    });\n  } catch (error) {\n    console.error('Error clearing IndexedDB cache:', error);\n    return deletedCount;\n  }\n};\n\nexport const getCacheStats = async (\n  includeDB: boolean = false,\n): Promise<{\n  memoryCacheEntries: number;\n  memoryCacheSizeInBytes: number;\n  dbCacheEntries?: number;\n  dbCacheSizeInBytes?: number;\n  totalEntries?: number;\n  totalSizeInBytes?: number;\n}> => {\n  const memoryCacheEntries = Object.keys(memoryCache).length;\n\n  let memoryCacheSizeInBytes = 0;\n  for (const key in memoryCache) {\n    memoryCacheSizeInBytes += key.length;\n\n    const value = memoryCache[key] || '';\n    memoryCacheSizeInBytes += value.length;\n  }\n\n  if (!includeDB) {\n    return { memoryCacheEntries, memoryCacheSizeInBytes };\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n    const countRequest = store.count();\n\n    return new Promise((resolve) => {\n      countRequest.onsuccess = () => {\n        const dbCacheEntries = countRequest.result;\n\n        const getAllRequest = store.getAll();\n\n        getAllRequest.onsuccess = () => {\n          const entries = getAllRequest.result as CacheEntry[];\n\n          let dbCacheSizeInBytes = 0;\n          entries.forEach((entry) => {\n            const entryString = JSON.stringify(entry);\n            dbCacheSizeInBytes += entryString.length;\n          });\n\n          const totalEntries =\n            memoryCacheEntries + dbCacheEntries - Math.min(memoryCacheEntries, dbCacheEntries);\n\n          const totalSizeInBytes = memoryCacheSizeInBytes + dbCacheSizeInBytes;\n\n          resolve({\n            memoryCacheEntries,\n            memoryCacheSizeInBytes,\n            dbCacheEntries,\n            dbCacheSizeInBytes,\n            totalEntries,\n            totalSizeInBytes,\n          });\n        };\n      };\n\n      transaction.oncomplete = () => {\n        db.close();\n      };\n\n      transaction.onerror = () => {\n        db.close();\n        resolve({\n          memoryCacheEntries,\n          memoryCacheSizeInBytes,\n        });\n      };\n    });\n  } catch (error) {\n    console.error('Error getting IndexedDB stats:', error);\n    return { memoryCacheEntries, memoryCacheSizeInBytes };\n  }\n};\n\nexport const pruneCache = async (\n  options: {\n    maxAge?: number;\n    maxEntries?: number;\n    maxSizeInBytes?: number;\n    dryRun?: boolean;\n  } = {},\n): Promise<number> => {\n  const { maxAge, maxEntries, maxSizeInBytes, dryRun = false } = options;\n\n  if (!maxAge && !maxEntries && !maxSizeInBytes) {\n    return 0;\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, dryRun ? 'readonly' : 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n    const getAllRequest = store.getAll();\n\n    return new Promise((resolve) => {\n      getAllRequest.onsuccess = () => {\n        const entries = getAllRequest.result as CacheEntry[];\n        const entriesToPrune: CacheEntry[] = [];\n\n        if (maxAge) {\n          const cutoffTime = Date.now() - maxAge;\n          const agedEntries = entries.filter((entry) => entry.timestamp < cutoffTime);\n          entriesToPrune.push(...agedEntries);\n        }\n\n        if (maxEntries && entries.length > maxEntries) {\n          const sortedEntries = [...entries].sort((a, b) => a.timestamp - b.timestamp);\n          const excessEntries = sortedEntries.slice(0, entries.length - maxEntries);\n\n          const prunedKeys = new Set(entriesToPrune.map((e) => e.key));\n          excessEntries.forEach((entry) => {\n            if (!prunedKeys.has(entry.key)) {\n              entriesToPrune.push(entry);\n            }\n          });\n        }\n\n        if (maxSizeInBytes) {\n          let currentSize = 0;\n          entries.forEach((entry) => {\n            const entryString = JSON.stringify(entry);\n            currentSize += entryString.length;\n          });\n\n          if (currentSize > maxSizeInBytes) {\n            const remainingEntries = entries\n              .filter((entry) => !entriesToPrune.some((e) => e.key === entry.key))\n              .sort((a, b) => a.timestamp - b.timestamp);\n\n            let sizeToRemove = currentSize - maxSizeInBytes;\n            const prunedKeys = new Set(entriesToPrune.map((e) => e.key));\n\n            for (const entry of remainingEntries) {\n              if (sizeToRemove <= 0) break;\n\n              if (!prunedKeys.has(entry.key)) {\n                const entryString = JSON.stringify(entry);\n                const entrySize = entryString.length * 2;\n\n                entriesToPrune.push(entry);\n                prunedKeys.add(entry.key);\n                sizeToRemove -= entrySize;\n              }\n            }\n          }\n        }\n\n        const pruneCount = entriesToPrune.length;\n\n        if (!dryRun && pruneCount > 0) {\n          entriesToPrune.forEach((entry) => {\n            store.delete(entry.key);\n\n            delete memoryCache[entry.key];\n            delete memoryTimestamps[entry.key];\n          });\n        }\n\n        resolve(pruneCount);\n      };\n\n      getAllRequest.onerror = () => {\n        resolve(0);\n      };\n\n      transaction.oncomplete = () => {\n        db.close();\n      };\n    });\n  } catch (error) {\n    console.error('Error pruning cache:', error);\n    return 0;\n  }\n};\n\nexport const initCache = async (\n  options: {\n    preload?: boolean;\n    preloadOptions?: {\n      maxAge?: number;\n      maxEntries?: number;\n      onlyLoadProviders?: string[];\n      onlyLoadLanguages?: { source?: string[]; target?: string[] };\n    };\n    autoPrune?: boolean;\n    pruneInterval?: number;\n    pruneOptions?: {\n      maxAge?: number;\n      maxEntries?: number;\n      maxSizeInBytes?: number;\n    };\n  } = {},\n): Promise<() => void> => {\n  const {\n    preload = true,\n    preloadOptions = {\n      maxAge: 30 * 24 * 60 * 60 * 1000,\n      maxEntries: 10000,\n    },\n    autoPrune = true,\n    pruneInterval = 60 * 60 * 1000,\n    pruneOptions = {\n      maxAge: 90 * 24 * 60 * 60 * 1000,\n      maxEntries: 100000,\n      maxSizeInBytes: 10 * 1024 * 1024,\n    },\n  } = options;\n\n  if (preload) {\n    await loadCacheFromDB(preloadOptions);\n  }\n\n  let intervalId: number | null = null;\n\n  if (autoPrune) {\n    await pruneCache(pruneOptions);\n\n    intervalId = window.setInterval(async () => {\n      await pruneCache(pruneOptions);\n    }, pruneInterval);\n  }\n\n  return () => {\n    if (intervalId !== null) {\n      clearInterval(intervalId);\n    }\n  };\n};\n\nlet cleanupFunction: (() => void) | null = null;\n\nif (typeof window !== 'undefined') {\n  initCache().then((cleanup) => {\n    cleanupFunction = cleanup;\n  });\n\n  window.addEventListener('beforeunload', () => {\n    if (cleanupFunction) {\n      cleanupFunction();\n    }\n  });\n}\n","export type Polisher = (text: string) => string;\n\nconst languagePolishers: Record<string, Polisher> = {\n  // Chinese - fix punctuation spacing\n  zh: (text: string) =>\n    text\n      .replace(/--/g, '')\n      .replace(/\\s+([])/g, '$1')\n      .replace(/([])\\s+/g, '$1'),\n\n  // Spanish - fix punctuation spacing\n  es: (text: string) =>\n    text.replace(/\\?([A-Z])/g, '? $1').replace(/\\!([A-Z])/g, '! $1'),\n\n  // French - fix punctuation spacing\n  fr: (text: string) => text.replace(/\\s+([!?:;])/g, ' $1').replace(/([!?:;])\\s+/g, '$1 '),\n\n  // Japanese - fix punctuation spacing\n  ja: (text: string) => text.replace(/\\s+([])/g, '$1').replace(/([])\\s+/g, '$1'),\n};\n\nexport const basicPolish: Polisher = (text: string) => {\n  return text\n    .replace(/\\s+/g, ' ') // Multiple spaces to single space\n    .replace(/\\s+([.,!?;:])/g, '$1') // Remove space before punctuation\n    .trim();\n};\n\nexport function getPolisher(targetLang: string): Polisher {\n  const langCode = targetLang.split('-')[0]!.toLowerCase();\n  const languagePolisher = languagePolishers[langCode];\n\n  if (languagePolisher) {\n    return (text: string) => {\n      const basicPolished = basicPolish(text);\n      const polished = languagePolisher(basicPolished);\n      return polished;\n    };\n  }\n\n  return basicPolish;\n}\n\nexport function polish(texts: string[], targetLang: string): string[] {\n  const polisher = getPolisher(targetLang);\n  return texts.map(polisher);\n}\n","export type Preprocessor = (text: string) => string;\nexport type TextSubstitutions = Record<string, string>;\n\nconst defaultSubstitutions: TextSubstitutions = {\n  Cover: 'The Cover',\n  Dedication: 'Dedication Page',\n  Acknowledgements: 'The Acknowledgements',\n};\n\nexport const basicSubstitute = (text: string, substitutions: TextSubstitutions): string => {\n  const allSubstitutions = { ...defaultSubstitutions, ...substitutions };\n\n  if (Object.keys(allSubstitutions).length === 0) {\n    return text;\n  }\n\n  if (allSubstitutions[text]) {\n    return allSubstitutions[text];\n  }\n\n  return text;\n};\n\nexport function createPreprocessor(substitutions: TextSubstitutions = {}): Preprocessor {\n  return (text: string) => basicSubstitute(text, substitutions);\n}\n\nexport function preprocess(texts: string[], substitutions: TextSubstitutions = {}): string[] {\n  const preprocessor = createPreprocessor(substitutions);\n  return texts.map(preprocessor);\n}\n","import { getAPIBaseUrl } from '@/services/environment';\nimport { stubTranslation as _ } from '@/utils/misc';\nimport { ErrorCodes, TranslationProvider } from '../types';\nimport { UserPlan } from '@/types/quota';\nimport { getSubscriptionPlan } from '@/utils/access';\nimport { normalizeToShortLang } from '@/utils/lang';\nimport { DEFAULT_DAILY_TRANSLATION_QUOTA } from '@/services/constants';\nimport { saveDailyUsage } from '../utils';\n\nconst DEEPL_API_ENDPOINT = getAPIBaseUrl() + '/deepl/translate';\n\nexport const deeplProvider: TranslationProvider = {\n  name: 'deepl',\n  label: _('DeepL'),\n  authRequired: true,\n  quotaExceeded: false,\n  translate: async (\n    text: string[],\n    sourceLang: string,\n    targetLang: string,\n    token?: string | null,\n    useCache: boolean = false,\n  ): Promise<string[]> => {\n    const authRequired = deeplProvider.authRequired;\n\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n    };\n\n    let userPlan: UserPlan = 'free';\n    if (token) {\n      userPlan = getSubscriptionPlan(token);\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    if (authRequired && !token) {\n      throw new Error('Authentication token is required for DeepL translation');\n    }\n\n    const body = JSON.stringify({\n      text: text,\n      source_lang: normalizeToShortLang(sourceLang).toUpperCase(),\n      target_lang: normalizeToShortLang(targetLang).toUpperCase(),\n      use_cache: useCache,\n    });\n\n    const quota = DEFAULT_DAILY_TRANSLATION_QUOTA[userPlan];\n    try {\n      const response = await fetch(DEEPL_API_ENDPOINT, { method: 'POST', headers, body });\n\n      if (!response.ok) {\n        const data = await response.json();\n        if (data && data.error && data.error === ErrorCodes.DAILY_QUOTA_EXCEEDED) {\n          saveDailyUsage(quota);\n          deeplProvider.quotaExceeded = true;\n          throw new Error(ErrorCodes.DAILY_QUOTA_EXCEEDED);\n        }\n        throw new Error(`Translation failed with status ${response.status}`);\n      }\n\n      const data = await response.json();\n      if (!data || !data.translations) {\n        throw new Error('Invalid response from translation service');\n      }\n\n      return text.map((line, i) => {\n        if (!line?.trim().length) {\n          return line;\n        }\n        const translation = data.translations?.[i];\n        if (translation?.daily_usage) {\n          saveDailyUsage(translation.daily_usage);\n          deeplProvider.quotaExceeded = data.daily_usage >= quota;\n        }\n        return translation?.text || line;\n      });\n    } catch (error) {\n      throw error;\n    }\n  },\n};\n","import { stubTranslation as _ } from '@/utils/misc';\nimport { fetch as tauriFetch } from '@tauri-apps/plugin-http';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { TranslationProvider } from '../types';\nimport { normalizeToFullLang } from '@/utils/lang';\n\ninterface TokenCache {\n  token: string;\n  expiresAt: number;\n}\n\nlet tokenCache: TokenCache | null = null;\n\nconst getAuthToken = async (): Promise<string> => {\n  const now = Date.now();\n\n  if (tokenCache && tokenCache.expiresAt > now) {\n    return tokenCache.token;\n  }\n\n  try {\n    const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n    const tokenResponse = await fetch('https://edge.microsoft.com/translate/auth', {\n      method: 'GET',\n      headers: {\n        'User-Agent': 'Mozilla/5.0',\n      },\n    });\n\n    if (!tokenResponse.ok) {\n      throw new Error(`Failed to get auth token: ${tokenResponse.status}`);\n    }\n\n    const token = await tokenResponse.text();\n    const expiresAt = now + 8 * 60 * 1000;\n\n    tokenCache = {\n      token,\n      expiresAt,\n    };\n\n    return token;\n  } catch (error) {\n    console.error('Error getting Microsoft translation auth token:', error);\n    throw error;\n  }\n};\n\nexport const azureProvider: TranslationProvider = {\n  name: 'azure',\n  label: _('Azure Translator'),\n  translate: async (text: string[], sourceLang: string, targetLang: string): Promise<string[]> => {\n    if (!text.length) return [];\n\n    const results: string[] = [];\n    const msSourceLang = sourceLang ? normalizeToFullLang(sourceLang) : '';\n    const msTargetLang = normalizeToFullLang(targetLang);\n\n    const translationPromises = text.map(async (line, index) => {\n      if (!line?.trim().length) {\n        results[index] = line;\n        return;\n      }\n\n      const url = 'https://api-edge.cognitive.microsofttranslator.com/translate';\n      const params = new URLSearchParams({\n        to: msTargetLang,\n        'api-version': '3.0',\n      });\n      if (msSourceLang && msSourceLang.toLowerCase() !== 'auto') {\n        params.append('from', msSourceLang);\n      }\n\n      const token = await getAuthToken();\n      const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n      const response = await fetch(`${url}?${params.toString()}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify([{ Text: line }]),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Translation failed with status ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (Array.isArray(data) && data.length > 0 && data[0].translations) {\n        results[index] = data[0].translations[0].text || line;\n      } else {\n        results[index] = line;\n      }\n    });\n\n    await Promise.all(translationPromises);\n\n    return results;\n  },\n};\n","import { stubTranslation as _ } from '@/utils/misc';\nimport { fetch as tauriFetch } from '@tauri-apps/plugin-http';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { normalizeToShortLang } from '@/utils/lang';\nimport { TranslationProvider } from '../types';\n\nexport const googleProvider: TranslationProvider = {\n  name: 'google',\n  label: _('Google Translate'),\n  translate: async (text: string[], sourceLang: string, targetLang: string): Promise<string[]> => {\n    if (!text.length) return [];\n\n    const results: string[] = [];\n\n    const translationPromises = text.map(async (line, index) => {\n      if (!line?.trim().length) {\n        results[index] = line;\n        return;\n      }\n\n      const url = new URL('https://translate.googleapis.com/translate_a/single');\n      url.searchParams.append('client', 'gtx');\n      url.searchParams.append('dt', 't');\n      url.searchParams.append('sl', normalizeToShortLang(sourceLang).toLowerCase() || 'auto');\n      url.searchParams.append('tl', normalizeToShortLang(targetLang).toLowerCase());\n      url.searchParams.append('q', line);\n\n      const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n      const response = await fetch(url.toString());\n\n      if (!response.ok) {\n        throw new Error(`Translation failed with status ${response.status}`);\n      }\n\n      const data = await response.json();\n      if (Array.isArray(data) && Array.isArray(data[0])) {\n        const translatedText = data[0]\n          .filter((segment) => Array.isArray(segment) && segment[0])\n          .map((segment) => segment[0])\n          .join('');\n\n        results[index] = translatedText || line;\n      } else {\n        results[index] = line;\n      }\n    });\n\n    await Promise.all(translationPromises);\n\n    return results;\n  },\n};\n","import { stubTranslation as _ } from '@/utils/misc';\nimport { fetch as tauriFetch } from '@tauri-apps/plugin-http';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { normalizeToShortLang } from '@/utils/lang';\nimport { TranslationProvider } from '../types';\n\n/**\n * Based on https://translate.toil.cc/v2/docs API specification\n */\nasync function translateSingleTextForService(\n  text: string,\n  lang: string,\n  service: string,\n): Promise<string[]> {\n  const fetchImpl = isTauriAppPlatform() ? tauriFetch : window.fetch;\n  const url = 'https://translate.toil.cc/v2/translate/';\n\n  const request = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      lang: lang,\n      service: service,\n      text: text,\n    })\n  };\n\n  const response = await fetchImpl(url, request);\n\n  if (!response.ok) {\n    const response_json = JSON.stringify(await response.json());\n    throw new Error(`${service} failed with status ${response.status}\\n${text.length}\\n${JSON.stringify(request)}\\n${response_json}`);\n  }\n\n  const data = await response.json();\n  if (\n    data &&\n    Array.isArray(data.translations)\n  ) {\n    return data.translations;\n  } else {\n    // fallback: return original texts if translation failed\n    return [text];\n  }\n};\n\nexport const yandexProvider: TranslationProvider = {\n  name: 'yandex',\n  label: _('Yandex Translate'),\n  authRequired: false,\n  translate: async (texts: string[], sourceLang: string, targetLang: string): Promise<string[]> => {\n    if (!texts.length) return [];\n\n    /**\n      Possible options:\n      - yandexcloud: often returns 500: {\"error\":\"The text couldn't be translated, because Forbidden\"}\n      - yandexgpt: often better than others\n      - yandextranslate\n      - yandexbrowser\n    */\n    const service = \"yandexgpt\";\n\n    // Yandex does not accept \"auto\" language\n    const source_lang = sourceLang == \"AUTO\" ? \"en\" : normalizeToShortLang(sourceLang).toLowerCase();\n    const target_lang = normalizeToShortLang(targetLang).toLowerCase();\n    const lang = `${source_lang}-${target_lang}`;\n\n    const responses = await Promise.all(texts.map(async text => {\n      return await translateSingleTextForService(text, lang, service)\n    }));\n\n    const translatedTexts = responses.flat();\n    return translatedTexts;\n  }\n};\n","import { TranslationProvider } from '../types';\nimport { deeplProvider } from './deepl';\nimport { azureProvider } from './azure';\nimport { googleProvider } from './google';\nimport { yandexProvider } from './yandex';\n\nfunction createTranslator<T extends string>(\n  name: T,\n  implementation: TranslationProvider,\n): TranslationProvider & { name: T } {\n  if (name !== implementation.name) {\n    throw Error(\n      `Translator name \"${name}\" does not match implementation name \"${implementation.name}\"`,\n    );\n  }\n  return implementation as TranslationProvider & { name: T };\n}\n\nconst deeplTranslator = createTranslator('deepl', deeplProvider);\nconst azureTranslator = createTranslator('azure', azureProvider);\nconst googleTranslator = createTranslator('google', googleProvider);\nconst yandexTranslator = createTranslator('yandex', yandexProvider);\n\nconst availableTranslators = [\n  deeplTranslator,\n  azureTranslator,\n  googleTranslator,\n  yandexTranslator,\n  // Add more translators here\n];\n\nexport type TranslatorName = (typeof availableTranslators)[number]['name'];\n\nexport const getTranslator = (name: TranslatorName): TranslationProvider | undefined => {\n  return availableTranslators.find((translator) => translator.name === name);\n};\n\nexport const getTranslators = (): TranslationProvider[] => {\n  return availableTranslators;\n};\n","import semver from 'semver';\nimport { check } from '@tauri-apps/plugin-updater';\nimport { type as osType } from '@tauri-apps/plugin-os';\nimport { fetch } from '@tauri-apps/plugin-http';\nimport { WebviewWindow } from '@tauri-apps/api/webviewWindow';\nimport { TranslationFunc } from '@/hooks/useTranslation';\nimport { setUpdaterWindowVisible } from '@/components/UpdaterWindow';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { getAppVersion } from '@/utils/version';\nimport {\n  CHECK_UPDATE_INTERVAL_SEC,\n  READEST_CHANGELOG_FILE,\n  READEST_UPDATER_FILE,\n} from '@/services/constants';\n\nconst LAST_CHECK_KEY = 'lastAppUpdateCheck';\n\nconst showUpdateWindow = (latestVersion: string) => {\n  const win = new WebviewWindow('updater', {\n    url: `/updater?latestVersion=${latestVersion}`,\n    title: 'Software Update',\n    width: 626,\n    height: 406,\n    center: true,\n    resizable: true,\n  });\n  win.once('tauri://created', () => {\n    console.log('new window created');\n  });\n  win.once('tauri://error', (e) => {\n    console.error('error creating window', e);\n  });\n};\n\nexport const checkForAppUpdates = async (\n  _: TranslationFunc,\n  isAutoCheck = true,\n): Promise<boolean> => {\n  const lastCheck = localStorage.getItem(LAST_CHECK_KEY);\n  const now = Date.now();\n  if (isAutoCheck && lastCheck && now - parseInt(lastCheck, 10) < CHECK_UPDATE_INTERVAL_SEC * 1000)\n    return false;\n  localStorage.setItem(LAST_CHECK_KEY, now.toString());\n\n  console.log('Checking for updates');\n  const OS_TYPE = osType();\n  if (['macos', 'windows', 'linux'].includes(OS_TYPE)) {\n    const update = await check();\n    if (update) {\n      showUpdateWindow(update.version);\n    }\n    return !!update;\n  } else if (OS_TYPE === 'android') {\n    try {\n      const response = await fetch(READEST_UPDATER_FILE, { connectTimeout: 5000 });\n      const data = await response.json();\n      const isNewer = semver.gt(data.version, getAppVersion());\n      if (isNewer && ('android-arm64' in data.platforms || 'android-universal' in data.platforms)) {\n        setUpdaterWindowVisible(true, data.version!, getAppVersion());\n      }\n      return isNewer;\n    } catch (err) {\n      console.warn('Failed to fetch Android update info', err);\n      throw new Error('Failed to fetch Android update info');\n    }\n  }\n\n  return false;\n};\n\nconst LAST_SHOWN_RELEASE_NOTES_KEY = 'lastShownReleaseNotesVersion';\n\nexport const setLastShownReleaseNotesVersion = (version: string) => {\n  localStorage.setItem(LAST_SHOWN_RELEASE_NOTES_KEY, version);\n};\n\nexport const getLastShownReleaseNotesVersion = () => {\n  return localStorage.getItem(LAST_SHOWN_RELEASE_NOTES_KEY) || '';\n};\n\nexport const checkAppReleaseNotes = async (isAutoCheck = true) => {\n  const currentVersion = getAppVersion();\n  const lastShownVersion = getLastShownReleaseNotesVersion();\n  if ((lastShownVersion && semver.gt(currentVersion, lastShownVersion)) || !isAutoCheck) {\n    try {\n      const fetchFunc = isTauriAppPlatform() ? fetch : window.fetch;\n      const res = await fetchFunc(READEST_CHANGELOG_FILE);\n      if (res.ok) {\n        setUpdaterWindowVisible(true, currentVersion, lastShownVersion, false);\n        return true;\n      }\n    } catch (err) {\n      console.warn('Failed to fetch release notes', err);\n    }\n  } else if (!lastShownVersion) {\n    setLastShownReleaseNotesVersion(currentVersion);\n  }\n  return false;\n};\n","'use client';\n\nimport clsx from 'clsx';\nimport semver from 'semver';\nimport Image from 'next/image';\nimport { useEnv } from '@/context/EnvContext';\nimport { useEffect, useState } from 'react';\nimport { type as osType, arch as osArch } from '@tauri-apps/plugin-os';\nimport { check, Update } from '@tauri-apps/plugin-updater';\nimport { relaunch, exit } from '@tauri-apps/plugin-process';\nimport { fetch as tauriFetch } from '@tauri-apps/plugin-http';\nimport { Command } from '@tauri-apps/plugin-shell';\nimport { invoke } from '@tauri-apps/api/core';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { useTranslator } from '@/hooks/useTranslator';\nimport { useTranslation } from '@/hooks/useTranslation';\nimport { useSearchParams } from 'next/navigation';\nimport { getAppVersion } from '@/utils/version';\nimport { tauriDownload } from '@/utils/transfer';\nimport { installPackage } from '@/utils/bridge';\nimport { join } from '@tauri-apps/api/path';\nimport { getLocale } from '@/utils/misc';\nimport { setLastShownReleaseNotesVersion } from '@/helpers/updater';\nimport { READEST_UPDATER_FILE, READEST_CHANGELOG_FILE } from '@/services/constants';\nimport Dialog from '@/components/Dialog';\nimport Link from './Link';\n\ninterface ReleaseNotes {\n  releases: Record<\n    string,\n    {\n      date: string;\n      notes: string[];\n    }\n  >;\n}\n\ninterface Changelog {\n  version: string;\n  date: string;\n  notes: string[];\n}\n\ntype DownloadEvent =\n  | {\n      event: 'Started';\n      data: {\n        contentLength?: number;\n      };\n    }\n  | {\n      event: 'Progress';\n      data: {\n        chunkLength: number;\n      };\n    }\n  | {\n      event: 'Finished';\n    };\n\ninterface GenericUpdate {\n  currentVersion: string;\n  version: string;\n  date?: string;\n  body?: string;\n  downloadAndInstall?(onEvent?: (progress: DownloadEvent) => void): Promise<void>;\n}\n\nexport const UpdaterContent = ({\n  latestVersion,\n  lastVersion,\n  checkUpdate = true,\n}: {\n  latestVersion?: string;\n  lastVersion?: string;\n  checkUpdate?: boolean;\n}) => {\n  const _ = useTranslation();\n  const [targetLang, setTargetLang] = useState('EN');\n  const { translate } = useTranslator({\n    provider: 'azure',\n    sourceLang: 'AUTO',\n    targetLang,\n  });\n  const { appService } = useEnv();\n  const searchParams = useSearchParams();\n  const currentVersion = getAppVersion();\n  const [newVersion, setNewVersion] = useState(\n    latestVersion ?? searchParams?.get('latestVersion') ?? '',\n  );\n  const [oldVersion, setOldVersion] = useState(\n    lastVersion ?? searchParams?.get('lastVersion') ?? '',\n  );\n  const [update, setUpdate] = useState<GenericUpdate | Update | null>(null);\n  const [changelogs, setChangelogs] = useState<Changelog[]>([]);\n  const [progress, setProgress] = useState<number | null>(null);\n  const [contentLength, setContentLength] = useState<number | null>(null);\n  const [isDownloading, setIsDownloading] = useState(false);\n  const [downloaded, setDownloaded] = useState<number | null>(null);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    setTargetLang(getLocale());\n  }, []);\n\n  useEffect(() => {\n    const checkDesktopUpdate = async () => {\n      const update = await check();\n      if (update) {\n        setUpdate(update);\n      }\n    };\n    const checkAndroidUpdate = async () => {\n      if (!appService) return;\n      const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n      const response = await fetch(READEST_UPDATER_FILE);\n      const data = await response.json();\n      if (semver.gt(data.version, currentVersion)) {\n        const OS_ARCH = osArch();\n        const platformKey = OS_ARCH === 'aarch64' ? 'android-arm64' : 'android-universal';\n        const arch = OS_ARCH === 'aarch64' ? 'arm64' : 'universal';\n        const downloadUrl = data.platforms[platformKey]?.url as string;\n        const apkFilePath = await appService.resolveFilePath(\n          `Readest_${data.version}_${arch}.apk`,\n          'Cache',\n        );\n        setUpdate({\n          currentVersion,\n          version: data.version,\n          date: data.pub_date,\n          body: data.notes,\n          downloadAndInstall: async (onEvent) => {\n            await new Promise<void>(async (resolve, reject) => {\n              let downloaded = 0;\n              let total = 0;\n              await tauriDownload(downloadUrl, apkFilePath, (progress) => {\n                if (!onEvent) return;\n                if (!total && progress.total) {\n                  total = progress.total;\n                  onEvent({\n                    event: 'Started',\n                    data: { contentLength: total },\n                  });\n                } else if (downloaded > 0 && progress.progress === progress.total) {\n                  console.log('APK downloaded to', apkFilePath);\n                  onEvent?.({ event: 'Finished' });\n                  setTimeout(() => {\n                    resolve();\n                  }, 1000);\n                }\n\n                onEvent({\n                  event: 'Progress',\n                  data: { chunkLength: progress.progress - downloaded },\n                });\n                downloaded = progress.progress;\n              }).catch((error) => {\n                console.error('Download failed:', error);\n                reject(error);\n              });\n            });\n\n            const res = await installPackage({\n              path: apkFilePath,\n            });\n            if (res.success) {\n              console.log('APK installed successfully');\n            } else {\n              console.error('Failed to install APK:', res.error);\n            }\n          },\n        } as GenericUpdate);\n      }\n    };\n    const checkWindowsPortableUpdate = async () => {\n      if (!appService) return;\n      const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n      const response = await fetch(READEST_UPDATER_FILE);\n      const data = await response.json();\n      if (semver.gt(data.version, currentVersion)) {\n        const OS_ARCH = osArch();\n        const platformKey =\n          OS_ARCH === 'x86_64' ? 'windows-x86_64-portable' : 'windows-aarch64-portable';\n        const arch = OS_ARCH === 'x86_64' ? 'x64' : 'arm64';\n        const downloadUrl = data.platforms[platformKey]?.url as string;\n        const execDir = await invoke<string>('get_executable_dir');\n        const exeFileName = `Readest_${data.version}_${arch}-portable.exe`;\n        const exeFilePath = await join(execDir, exeFileName);\n        setUpdate({\n          currentVersion,\n          version: data.version,\n          date: data.pub_date,\n          body: data.notes,\n          downloadAndInstall: async (onEvent) => {\n            await new Promise<void>(async (resolve, reject) => {\n              let downloaded = 0;\n              let total = 0;\n              await tauriDownload(downloadUrl, exeFilePath, (progress) => {\n                if (!onEvent) return;\n                if (!total && progress.total) {\n                  total = progress.total;\n                  onEvent({\n                    event: 'Started',\n                    data: { contentLength: total },\n                  });\n                } else if (downloaded > 0 && progress.progress === progress.total) {\n                  console.log('Portable EXE downloaded to', exeFilePath);\n                  onEvent?.({ event: 'Finished' });\n                  setTimeout(() => {\n                    resolve();\n                  }, 1000);\n                }\n\n                onEvent({\n                  event: 'Progress',\n                  data: { chunkLength: progress.progress - downloaded },\n                });\n                downloaded = progress.progress;\n              }).catch((error) => {\n                console.error('Download failed:', error);\n                reject(error);\n              });\n            });\n\n            try {\n              console.log('Launching new executable:', exeFilePath);\n              const command = Command.create('start-readest', ['/C', 'start', '', exeFilePath]);\n              await command.spawn();\n              console.log('New executable launched, exiting current app...');\n              setTimeout(async () => {\n                await exit(0);\n              }, 500);\n            } catch (error) {\n              console.error('Failed to launch new executable:', error);\n            }\n          },\n        } as GenericUpdate);\n      }\n    };\n    const checkForUpdates = async () => {\n      const OS_TYPE = osType();\n      if (appService?.isPortableApp && OS_TYPE === 'windows') {\n        checkWindowsPortableUpdate();\n      } else if (['macos', 'windows', 'linux'].includes(OS_TYPE)) {\n        checkDesktopUpdate();\n      } else if (OS_TYPE === 'android') {\n        checkAndroidUpdate();\n      }\n    };\n    if (appService?.hasUpdater && checkUpdate) {\n      checkForUpdates();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [appService?.hasUpdater]);\n\n  useEffect(() => {\n    if (latestVersion) {\n      setNewVersion(latestVersion);\n    }\n    if (lastVersion) {\n      setOldVersion(lastVersion);\n    }\n    if (!checkUpdate) {\n      setUpdate({\n        currentVersion,\n        version: latestVersion,\n        date: '',\n        body: '',\n      } as GenericUpdate);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [latestVersion, lastVersion, checkUpdate]);\n\n  useEffect(() => {\n    const fetchChangelogs = async (fromVersion: string): Promise<Changelog[]> => {\n      try {\n        const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n        const res = await fetch(READEST_CHANGELOG_FILE);\n        const data: ReleaseNotes = await res.json();\n        const releases = data.releases;\n\n        let entries = Object.entries(releases)\n          .filter(([ver]) => semver.gt(ver, fromVersion))\n          .sort(([a], [b]) => semver.rcompare(a, b));\n        entries = entries.length ? entries : Object.entries(releases).slice(0, 3);\n        return entries.map(([version, info]) => ({\n          version,\n          date: new Date(info.date).toLocaleDateString(),\n          notes: info.notes,\n        }));\n      } catch (error) {\n        console.error('Failed to fetch changelog:', error);\n        return [];\n      }\n    };\n    const parseNumberedList = (input: string): string[] => {\n      return input\n        .split(/(?:^|\\s)\\d+\\.\\s/)\n        .map((item) => item.trim())\n        .filter((item) => item.length > 0);\n    };\n    const updateChangelogs = async (update: GenericUpdate) => {\n      setNewVersion(update.version);\n      let changelogs = await fetchChangelogs(oldVersion || currentVersion);\n      if (changelogs.length === 0 && update.date && update.body) {\n        changelogs = [\n          {\n            version: update.version,\n            date: new Date(update.date).toLocaleDateString(),\n            notes: parseNumberedList(update.body ?? ''),\n          },\n        ];\n      }\n      if (!targetLang.toLowerCase().startsWith('en')) {\n        for (const entry of changelogs) {\n          try {\n            entry.notes = await translate(entry.notes, { useCache: true });\n          } catch (error) {\n            console.log('Failed to translate changelog:', error);\n          }\n        }\n      }\n\n      setChangelogs(changelogs);\n      setLastShownReleaseNotesVersion(newVersion);\n    };\n    if (update) {\n      updateChangelogs(update);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [update]);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const handleDownloadInstall = async () => {\n    if (!update) {\n      return;\n    }\n    let downloaded = 0;\n    let contentLength = 0;\n    let lastLogged = 0;\n    setProgress(0);\n    setIsDownloading(true);\n    await update.downloadAndInstall?.((event) => {\n      switch (event.event) {\n        case 'Started':\n          contentLength = event.data.contentLength!;\n          setContentLength(contentLength);\n          break;\n        case 'Progress':\n          downloaded += event.data.chunkLength;\n          setDownloaded(downloaded);\n          const percent = Math.floor((downloaded / contentLength) * 100);\n          setProgress(percent);\n          if (downloaded - lastLogged >= 1 * 1024 * 1024) {\n            console.log(`downloaded ${downloaded} bytes from ${contentLength}`);\n            lastLogged = downloaded;\n          }\n          break;\n        case 'Finished':\n          console.log('download finished');\n          setProgress(100);\n          break;\n      }\n    });\n    console.log('package installed');\n    if (!appService?.isAndroidApp && process.env['NODE_ENV'] === 'production') {\n      await relaunch();\n    }\n  };\n\n  if (!isMounted || !newVersion) {\n    return null;\n  }\n\n  return (\n    <div className='bg-base-100 flex min-h-screen justify-center'>\n      <div className='flex w-full max-w-2xl flex-col gap-4'>\n        <div className='flex flex-col justify-center gap-4 sm:flex-row sm:items-start'>\n          <div className='flex items-center justify-center'>\n            <Image src='/icon.png' alt='Logo' className='h-20 w-20' width={64} height={64} />\n          </div>\n\n          {checkUpdate ? (\n            <div className='text-base-content flex-grow text-sm'>\n              <h2 className='mb-4 text-center font-bold sm:text-start'>\n                {_('A new version of Readest is available!')}\n              </h2>\n              <p className='mb-2'>\n                {_('Readest {{newVersion}} is available (installed version {{currentVersion}}).', {\n                  newVersion,\n                  currentVersion,\n                })}\n              </p>\n              <p className='mb-2'>{_('Download and install now?')}</p>\n\n              <div className='flex w-full flex-row items-center justify-end gap-4'>\n                {progress !== null && (\n                  <div className='flex flex-grow flex-col'>\n                    <progress\n                      className='progress my-1 h-4 w-full'\n                      value={progress}\n                      max='100'\n                    ></progress>\n                    <p className='text-base-content/75 flex items-center justify-center text-sm'>\n                      {progress < 100\n                        ? _('Downloading {{downloaded}} of {{contentLength}}', {\n                            downloaded: downloaded\n                              ? `${Math.floor(downloaded / 1024 / 1024)} MB`\n                              : '0 MB',\n                            contentLength: contentLength\n                              ? `${Math.floor(contentLength / 1024 / 1024)} MB`\n                              : '0 MB',\n                          })\n                        : _('Download finished')}\n                    </p>\n                  </div>\n                )}\n\n                <div className='card-actions'>\n                  <button\n                    className={clsx(\n                      'btn btn-warning text-base-100 px-6 font-bold',\n                      (!update || isDownloading) && 'btn-disabled',\n                    )}\n                    onClick={handleDownloadInstall}\n                  >\n                    {_('DOWNLOAD & INSTALL')}\n                  </button>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className='text-base-content flex h-full flex-grow flex-col text-sm sm:flex-row'>\n              <div className='flex flex-col items-center justify-center gap-4 p-1 sm:items-start sm:gap-2'>\n                <h2 className='text-center font-bold sm:text-start'>\n                  {_('Version {{version}}', { version: currentVersion })}\n                </h2>\n\n                {changelogs.length > 0 && semver.gt(changelogs[0]!.version, currentVersion) ? (\n                  <div className='flex gap-2'>\n                    {(appService?.isIOSApp || appService?.isMacOSApp) && (\n                      <Link\n                        href='https://apps.apple.com/app/id6738622779'\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        className='btn btn-primary btn-sm'\n                      >\n                        {_('Check Update')}\n                      </Link>\n                    )}\n\n                    {appService?.isAndroidApp && (\n                      <Link\n                        href='https://play.google.com/store/apps/details?id=com.bilingify.readest'\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        className='btn btn-primary btn-sm'\n                      >\n                        {_('Check Update')}\n                      </Link>\n                    )}\n                  </div>\n                ) : (\n                  <div className='flex'>\n                    <p className='text-sm font-bold'>{_('Already the latest version')}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n        <div className='text-base-content text-sm'>\n          <h3 className='mb-2 font-bold'>{_('Changelog')}</h3>\n          <div className='not-eink:bg-base-200 not-eink:px-4 mb-4 rounded-lg pb-2 pt-4'>\n            {changelogs.length > 0 ? (\n              changelogs.map((entry: Changelog) => (\n                <div key={entry.version} className='mb-4'>\n                  <h4 className='mb-2 font-bold'>\n                    {entry.version} ({entry.date})\n                  </h4>\n                  <ul className='list-disc space-y-1 ps-6 text-sm'>\n                    {entry.notes.map((note: string, i: number) => (\n                      <li key={i}>{note}</li>\n                    ))}\n                  </ul>\n                </div>\n              ))\n            ) : (\n              <div className='flex h-56 w-full flex-col gap-4'>\n                <div className='skeleton h-4 w-28'></div>\n                <div className='skeleton h-4 w-full'></div>\n                <div className='skeleton h-4 w-full'></div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const setUpdaterWindowVisible = (\n  visible: boolean,\n  latestVersion: string,\n  lastVersion?: string,\n  checkUpdate = true,\n) => {\n  const dialog = document.getElementById('updater_window');\n  if (dialog) {\n    const event = new CustomEvent('setDialogVisibility', {\n      detail: { visible, latestVersion, lastVersion, checkUpdate },\n    });\n    dialog.dispatchEvent(event);\n  }\n};\n\nexport const UpdaterWindow = () => {\n  const _ = useTranslation();\n  const [latestVersion, setLatestVersion] = useState('');\n  const [lastVersion, setLastVersion] = useState('');\n  const [checkUpdate, setCheckUpdate] = useState(true);\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    const handleCustomEvent = (event: CustomEvent) => {\n      const { visible, latestVersion, lastVersion, checkUpdate } = event.detail;\n      setIsOpen(visible);\n      setCheckUpdate(checkUpdate);\n      if (latestVersion) {\n        setLatestVersion(latestVersion);\n      }\n      if (lastVersion) {\n        setLastVersion(lastVersion);\n      }\n    };\n\n    const el = document.getElementById('updater_window');\n    if (el) {\n      el.addEventListener('setDialogVisibility', handleCustomEvent as EventListener);\n    }\n\n    return () => {\n      if (el) {\n        el.removeEventListener('setDialogVisibility', handleCustomEvent as EventListener);\n      }\n    };\n  }, []);\n\n  return (\n    <Dialog\n      id='updater_window'\n      isOpen={isOpen}\n      title={checkUpdate ? _('Software Update') : _(\"What's New in Readest\")}\n      onClose={() => setIsOpen(false)}\n      boxClassName='sm:!w-[75%] sm:h-auto sm:!max-h-[85vh] sm:!max-w-2xl'\n    >\n      {isOpen && (\n        <UpdaterContent\n          latestVersion={latestVersion ?? undefined}\n          lastVersion={lastVersion ?? undefined}\n          checkUpdate={checkUpdate}\n        />\n      )}\n    </Dialog>\n  );\n};\n","'use client';\n\nimport clsx from 'clsx';\nimport React, { ReactNode, useEffect, useRef, useState } from 'react';\nimport { MdArrowBackIosNew, MdArrowForwardIos } from 'react-icons/md';\nimport { useEnv } from '@/context/EnvContext';\nimport { useDrag } from '@/hooks/useDrag';\nimport { useThemeStore } from '@/store/themeStore';\nimport { useTranslation } from '@/hooks/useTranslation';\nimport { useDeviceControlStore } from '@/store/deviceStore';\nimport { useResponsiveSize } from '@/hooks/useResponsiveSize';\nimport { impactFeedback } from '@tauri-apps/plugin-haptics';\nimport { getDirFromUILanguage } from '@/utils/rtl';\nimport { eventDispatcher } from '@/utils/event';\nimport { Overlay } from './Overlay';\n\nconst VELOCITY_THRESHOLD = 0.5;\nconst SNAP_THRESHOLD = 0.2;\n\ninterface DialogProps {\n  id?: string;\n  isOpen: boolean;\n  children: ReactNode;\n  snapHeight?: number;\n  header?: ReactNode;\n  title?: string;\n  className?: string;\n  bgClassName?: string;\n  boxClassName?: string;\n  contentClassName?: string;\n  onClose: () => void;\n}\n\nconst Dialog: React.FC<DialogProps> = ({\n  id,\n  isOpen,\n  children,\n  snapHeight,\n  header,\n  title,\n  className,\n  bgClassName,\n  boxClassName,\n  contentClassName,\n  onClose,\n}) => {\n  const _ = useTranslation();\n  const { appService } = useEnv();\n  const { systemUIVisible, statusBarHeight, safeAreaInsets } = useThemeStore();\n  const { acquireBackKeyInterception, releaseBackKeyInterception } = useDeviceControlStore();\n  const [isFullHeightInMobile, setIsFullHeightInMobile] = useState(!snapHeight);\n  const [isRtl] = useState(() => getDirFromUILanguage() === 'rtl');\n  const dialogRef = useRef<HTMLDialogElement>(null);\n  const previousActiveElementRef = useRef<HTMLElement | null>(null);\n  const iconSize22 = useResponsiveSize(22);\n  const isMobile = window.innerWidth < 640 || window.innerHeight < 640;\n\n  const handleKeyDown = (event: KeyboardEvent | CustomEvent) => {\n    if (event instanceof CustomEvent) {\n      if (event.detail.keyName === 'Back') {\n        onClose();\n        return true;\n      }\n    } else {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n      event.stopPropagation();\n    }\n    return false;\n  };\n\n  useEffect(() => {\n    if (!isOpen) {\n      if (previousActiveElementRef.current) {\n        previousActiveElementRef.current.focus();\n        previousActiveElementRef.current = null;\n      }\n      return;\n    }\n\n    previousActiveElementRef.current = document.activeElement as HTMLElement;\n\n    setIsFullHeightInMobile(!snapHeight && isMobile);\n    window.addEventListener('keydown', handleKeyDown);\n    if (dialogRef.current) {\n      dialogRef.current.addEventListener('keydown', handleKeyDown);\n    }\n    if (appService?.isAndroidApp) {\n      acquireBackKeyInterception();\n      eventDispatcher.onSync('native-key-down', handleKeyDown);\n    }\n\n    const timer = setTimeout(() => {\n      if (dialogRef.current) {\n        dialogRef.current.focus();\n      }\n    }, 100);\n    return () => {\n      clearTimeout(timer);\n      window.removeEventListener('keydown', handleKeyDown);\n      if (appService?.isAndroidApp) {\n        releaseBackKeyInterception();\n        eventDispatcher.offSync('native-key-down', handleKeyDown);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  const handleDragMove = (data: { clientY: number; deltaY: number }) => {\n    if (!isMobile || !dialogRef.current) return;\n\n    const modal = dialogRef.current.querySelector('.modal-box') as HTMLElement;\n    const overlay = dialogRef.current.querySelector('.overlay') as HTMLElement;\n\n    const heightFraction = data.clientY / window.innerHeight;\n    const newTop = Math.max(0.0, Math.min(1, heightFraction));\n\n    if (modal && overlay) {\n      modal.style.height = '100%';\n      modal.style.transform = `translateY(${newTop * 100}%)`;\n      overlay.style.opacity = `${1 - heightFraction}`;\n\n      setIsFullHeightInMobile(data.clientY < 44);\n      modal.style.transition = `padding-top 0.3s ease-out`;\n    }\n  };\n\n  const handleDragEnd = (data: { velocity: number; clientY: number }) => {\n    if (!isMobile || !dialogRef.current) return;\n    const modal = dialogRef.current.querySelector('.modal-box') as HTMLElement;\n    const overlay = dialogRef.current.querySelector('.overlay') as HTMLElement;\n    if (!modal || !overlay) return;\n\n    const snapUpper = snapHeight ? 1 - snapHeight - SNAP_THRESHOLD : 0.5;\n    const snapLower = snapHeight ? 1 - snapHeight + SNAP_THRESHOLD : 0.5;\n    if (\n      data.velocity > VELOCITY_THRESHOLD ||\n      (data.velocity >= 0 && data.clientY >= window.innerHeight * snapLower)\n    ) {\n      // dialog is dismissed\n      const transitionDuration = 0.15 / Math.max(data.velocity, 0.5);\n      modal.style.height = '100%';\n      modal.style.transition = `transform ${transitionDuration}s ease-out`;\n      modal.style.transform = 'translateY(100%)';\n      overlay.style.transition = `opacity ${transitionDuration}s ease-out`;\n      overlay.style.opacity = '0';\n      onClose();\n      setTimeout(() => {\n        modal.style.transform = 'translateY(0%)';\n      }, 300);\n    } else if (\n      snapHeight &&\n      data.clientY > window.innerHeight * snapUpper &&\n      data.clientY < window.innerHeight * snapLower\n    ) {\n      // dialog is snapped\n      overlay.style.transition = `opacity 0.3s ease-out`;\n      overlay.style.opacity = `${1 - snapHeight}`;\n      modal.style.height = `${snapHeight * 100}%`;\n      modal.style.bottom = '0';\n      modal.style.transition = `transform 0.3s ease-out`;\n      modal.style.transform = '';\n    } else {\n      // dialog is opened without snap\n      setIsFullHeightInMobile(true);\n      modal.style.height = '100%';\n      modal.style.transition = `transform 0.3s ease-out`;\n      modal.style.transform = `translateY(0%)`;\n      overlay.style.opacity = '0';\n    }\n    if (appService?.hasHaptics) {\n      impactFeedback('medium');\n    }\n  };\n\n  const handleDragKeyDown = () => {};\n\n  const { handleDragStart } = useDrag(handleDragMove, handleDragKeyDown, handleDragEnd);\n\n  return (\n    <dialog\n      ref={dialogRef}\n      id={id ?? 'dialog'}\n      tabIndex={-1}\n      open={isOpen}\n      aria-hidden={!isOpen}\n      className={clsx(\n        'modal sm:min-w-90 z-50 h-full w-full !items-start !bg-transparent sm:w-full sm:!items-center',\n        className,\n      )}\n      dir={isRtl ? 'rtl' : undefined}\n    >\n      <Overlay\n        className={clsx(\n          'dialog-overlay z-10 bg-black/50 sm:bg-black/50',\n          appService?.hasRoundedWindow && 'rounded-window',\n          bgClassName,\n        )}\n        onDismiss={onClose}\n      />\n      <div\n        className={clsx(\n          'modal-box settings-content absolute z-20 flex flex-col rounded-none rounded-tl-2xl rounded-tr-2xl p-0 sm:rounded-2xl',\n          'h-full max-h-full w-full max-w-full',\n          window.innerWidth < window.innerHeight\n            ? 'sm:h-[50%] sm:w-3/4'\n            : 'sm:h-[65%] sm:w-1/2 sm:max-w-[600px]',\n          boxClassName,\n        )}\n        style={{\n          paddingTop:\n            appService?.hasSafeAreaInset && isFullHeightInMobile\n              ? `${Math.max(safeAreaInsets?.top || 0, systemUIVisible ? statusBarHeight : 0)}px`\n              : '0px',\n          ...(isMobile ? { height: snapHeight ? `${snapHeight * 100}%` : '100%', bottom: 0 } : {}),\n        }}\n      >\n        {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n        <div\n          className={clsx(\n            'drag-handle h-10 max-h-10 min-h-10 w-full cursor-row-resize items-center justify-center',\n            'transition-padding-top flex duration-300 ease-out sm:hidden',\n          )}\n          onMouseDown={handleDragStart}\n          onTouchStart={handleDragStart}\n        >\n          <div className='bg-base-content/50 h-1 w-10 rounded-full'></div>\n        </div>\n        <div className='dialog-header sticky top-1 z-10 flex items-center justify-between px-2 sm:px-4'>\n          {header ? (\n            header\n          ) : (\n            <div className='flex h-11 w-full items-center justify-between'>\n              <button\n                aria-label={_('Close')}\n                onClick={onClose}\n                className={\n                  'btn btn-ghost btn-circle flex h-8 min-h-8 w-8 hover:bg-transparent focus:outline-none sm:hidden'\n                }\n              >\n                {isRtl ? (\n                  <MdArrowForwardIos size={iconSize22} />\n                ) : (\n                  <MdArrowBackIosNew size={iconSize22} />\n                )}\n              </button>\n              <div className='z-15 pointer-events-none absolute inset-0 flex h-11 items-center justify-center'>\n                <span className='line-clamp-1 text-center font-bold'>{title ?? ''}</span>\n              </div>\n              <button\n                aria-label={_('Close')}\n                onClick={onClose}\n                className={\n                  'bg-base-300/65 btn btn-ghost btn-circle ml-auto hidden h-6 min-h-6 w-6 focus:outline-none sm:flex'\n                }\n              >\n                <svg\n                  xmlns='http://www.w3.org/2000/svg'\n                  width='1em'\n                  height='1em'\n                  viewBox='0 0 24 24'\n                >\n                  <path\n                    fill='currentColor'\n                    d='M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12z'\n                  />\n                </svg>\n              </button>\n            </div>\n          )}\n        </div>\n\n        <div\n          className={clsx(\n            'text-base-content my-2 flex-grow overflow-y-auto px-6 sm:px-[10%]',\n            contentClassName,\n          )}\n        >\n          {children}\n        </div>\n      </div>\n    </dialog>\n  );\n};\n\nexport default Dialog;\n","'use client';\n\nimport { useCallback, useRef } from 'react';\n\nexport type DragKey = 'ArrowLeft' | 'ArrowRight' | 'ArrowUp' | 'ArrowDown';\n\nexport const useDrag = (\n  onDragMove: (data: { clientX: number; clientY: number; deltaX: number; deltaY: number }) => void,\n  onDragKeyDown: (data: { key: DragKey; step: number }) => void,\n  onDragEnd?: (data: {\n    velocity: number;\n    deltaT: number;\n    clientX: number;\n    clientY: number;\n    deltaX: number;\n    deltaY: number;\n  }) => void,\n) => {\n  const isDragging = useRef(false);\n  const startX = useRef(0);\n  const startY = useRef(0);\n  const lastX = useRef(0);\n  const lastY = useRef(0);\n  const startTime = useRef(0);\n\n  const handleDragStart = useCallback(\n    (e: React.MouseEvent | React.TouchEvent) => {\n      isDragging.current = true;\n\n      if ('touches' in e) {\n        startY.current = e.touches[0]!.clientY;\n        startX.current = e.touches[0]!.clientX;\n      } else {\n        startY.current = e.clientY;\n        startX.current = e.clientX;\n      }\n      startTime.current = performance.now();\n\n      document.body.style.pointerEvents = 'none';\n      document.body.style.userSelect = 'none';\n      document.documentElement.style.cursor = 'col-resize';\n\n      const handleMove = (event: MouseEvent | TouchEvent) => {\n        if (isDragging.current) {\n          let deltaX = 0;\n          let deltaY = 0;\n          let clientX = 0;\n          let clientY = 0;\n\n          if ('touches' in event && event.touches.length > 0) {\n            const currentTouch = event.touches[0]!;\n            clientX = currentTouch.clientX;\n            clientY = currentTouch.clientY;\n          } else {\n            const evt = event as MouseEvent;\n            clientX = evt.clientX;\n            clientY = evt.clientY;\n          }\n          deltaX = clientX - lastX.current;\n          deltaY = clientY - lastY.current;\n          lastX.current = clientX;\n          lastY.current = clientY;\n\n          onDragMove({ clientX, clientY, deltaX, deltaY });\n        }\n      };\n\n      const handleEnd = (event: MouseEvent | TouchEvent) => {\n        isDragging.current = false;\n\n        document.body.style.pointerEvents = '';\n        document.body.style.userSelect = '';\n        document.documentElement.style.cursor = '';\n\n        let deltaX = 0;\n        let deltaY = 0;\n        let clientX = 0;\n        let clientY = 0;\n        const endTime = performance.now();\n        const deltaT = endTime - startTime.current;\n\n        if ('touches' in event) {\n          const currentTouch = event.changedTouches[0]!;\n          clientX = currentTouch.clientX;\n          clientY = currentTouch.clientY;\n        } else {\n          const evt = event as MouseEvent;\n          clientX = evt.clientX;\n          clientY = evt.clientY;\n        }\n        deltaX = clientX - startX.current;\n        deltaY = clientY - startY.current;\n        const velocity = deltaY / deltaT;\n\n        if (onDragEnd) {\n          onDragEnd({ velocity, deltaT, clientX, clientY, deltaX, deltaY });\n        }\n\n        window.removeEventListener('mousemove', handleMove);\n        window.removeEventListener('mouseup', handleEnd);\n        window.removeEventListener('touchmove', handleMove);\n        window.removeEventListener('touchend', handleEnd);\n      };\n\n      window.addEventListener('mousemove', handleMove, { passive: true });\n      window.addEventListener('mouseup', handleEnd);\n      window.addEventListener('touchmove', handleMove, { passive: true });\n      window.addEventListener('touchend', handleEnd);\n    },\n    [onDragMove, onDragEnd],\n  );\n\n  const handleDragKeyDown = useCallback(\n    (e: React.KeyboardEvent) => {\n      const step = 0.02;\n      switch (e.key) {\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'ArrowLeft':\n        case 'ArrowRight':\n          onDragKeyDown({ key: e.key, step });\n          break;\n        default:\n          return;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    [onDragKeyDown],\n  );\n\n  return { handleDragStart, handleDragKeyDown };\n};\n","import { create } from 'zustand';\nimport { interceptKeys, getScreenBrightness, setScreenBrightness } from '@/utils/bridge';\nimport { eventDispatcher } from '@/utils/event';\nimport { NativeTouchEventType } from '@/types/system';\n\ndeclare global {\n  interface Window {\n    onNativeKeyDown?: (keyName: string) => void;\n    onNativeTouch?: (event: NativeTouchEventType) => void;\n  }\n}\n\nconst handleNativeKeyDown = (keyName: string) => {\n  if (keyName === 'VolumeUp' || keyName === 'VolumeDown') {\n    return eventDispatcher.dispatch('native-key-down', { keyName });\n  }\n  if (keyName === 'Back') {\n    return eventDispatcher.dispatchSync('native-key-down', { keyName });\n  }\n  return false;\n};\n\ntype DeviceControlState = {\n  volumeKeysIntercepted: boolean;\n  backKeyIntercepted: boolean;\n  volumeKeysInterceptionCount: number;\n  backKeyInterceptionCount: number;\n  getScreenBrightness: () => Promise<number>; // 0.0 to 1.0\n  setScreenBrightness: (brightness: number) => Promise<void>; // brightness: 0.0 to 1.0\n  acquireVolumeKeyInterception: () => void;\n  releaseVolumeKeyInterception: () => void;\n  acquireBackKeyInterception: () => void;\n  releaseBackKeyInterception: () => void;\n  listenToNativeTouchEvents: () => void;\n};\n\nexport const useDeviceControlStore = create<DeviceControlState>((set, get) => ({\n  volumeKeysIntercepted: false,\n  backKeyIntercepted: false,\n  volumeKeysInterceptionCount: 0,\n  backKeyInterceptionCount: 0,\n\n  acquireVolumeKeyInterception: () => {\n    const { volumeKeysInterceptionCount } = get();\n    if (volumeKeysInterceptionCount == 0) {\n      window.onNativeKeyDown = handleNativeKeyDown;\n      interceptKeys({ volumeKeys: true });\n      set({ volumeKeysIntercepted: true });\n    }\n    set({ volumeKeysInterceptionCount: volumeKeysInterceptionCount + 1 });\n  },\n\n  releaseVolumeKeyInterception: () => {\n    const { volumeKeysInterceptionCount } = get();\n    if (volumeKeysInterceptionCount <= 1) {\n      interceptKeys({ volumeKeys: false });\n      set({ volumeKeysIntercepted: false, volumeKeysInterceptionCount: 0 });\n    } else {\n      set({ volumeKeysInterceptionCount: volumeKeysInterceptionCount - 1 });\n    }\n  },\n\n  acquireBackKeyInterception: () => {\n    const { backKeyInterceptionCount } = get();\n    if (backKeyInterceptionCount == 0) {\n      window.onNativeKeyDown = handleNativeKeyDown;\n      interceptKeys({ backKey: true });\n      set({ backKeyIntercepted: true });\n    }\n    set({ backKeyInterceptionCount: backKeyInterceptionCount + 1 });\n  },\n\n  releaseBackKeyInterception: () => {\n    const { backKeyInterceptionCount } = get();\n    if (backKeyInterceptionCount <= 1) {\n      interceptKeys({ backKey: false });\n      set({ backKeyIntercepted: false, backKeyInterceptionCount: 0 });\n    } else {\n      set({ backKeyInterceptionCount: backKeyInterceptionCount - 1 });\n    }\n  },\n\n  listenToNativeTouchEvents: () => {\n    window.onNativeTouch = (event: NativeTouchEventType) => {\n      return eventDispatcher.dispatch('native-touch', event);\n    };\n  },\n\n  getScreenBrightness: async () => {\n    const res = await getScreenBrightness();\n    return res.brightness;\n  },\n\n  setScreenBrightness: async (brightness: number) => {\n    await setScreenBrightness({ brightness });\n  },\n}));\n","import { invoke } from '@tauri-apps/api/core';\nimport '@tauri-apps/api/event';\n\n// Copyright 2019-2023 Tauri Programme within The Commons Conservancy\n// SPDX-License-Identifier: Apache-2.0\n// SPDX-License-Identifier: MIT\n// @ts-nocheck\n// This file was generated by [tauri-specta](https://github.com/oscartbeaumont/tauri-specta). Do not edit this file manually.\n/** user-defined commands **/\nconst commands = {\n    async vibrate(duration) {\n        try {\n            return {\n                status: 'ok',\n                data: await invoke('plugin:haptics|vibrate', { duration })\n            };\n        }\n        catch (e) {\n            if (e instanceof Error)\n                throw e;\n            else\n                return { status: 'error', error: e };\n        }\n    },\n    async impactFeedback(style) {\n        try {\n            return {\n                status: 'ok',\n                data: await invoke('plugin:haptics|impact_feedback', { style })\n            };\n        }\n        catch (e) {\n            if (e instanceof Error)\n                throw e;\n            else\n                return { status: 'error', error: e };\n        }\n    },\n    async notificationFeedback(type) {\n        try {\n            return {\n                status: 'ok',\n                data: await invoke('plugin:haptics|notification_feedback', {\n                    type\n                })\n            };\n        }\n        catch (e) {\n            if (e instanceof Error)\n                throw e;\n            else\n                return { status: 'error', error: e };\n        }\n    },\n    async selectionFeedback() {\n        try {\n            return {\n                status: 'ok',\n                data: await invoke('plugin:haptics|selection_feedback')\n            };\n        }\n        catch (e) {\n            if (e instanceof Error)\n                throw e;\n            else\n                return { status: 'error', error: e };\n        }\n    }\n};\n\n// Copyright 2019-2023 Tauri Programme within The Commons Conservancy\n// SPDX-License-Identifier: Apache-2.0\n// SPDX-License-Identifier: MIT\n/* eslint-disable @typescript-eslint/unbound-method */\nconst { vibrate, impactFeedback, notificationFeedback, selectionFeedback } = commands;\n// export { events };\n\nexport { impactFeedback, notificationFeedback, selectionFeedback, vibrate };\n","import clsx from 'clsx';\nimport React from 'react';\nimport { useThemeStore } from '@/store/themeStore';\nimport { useTranslation } from '@/hooks/useTranslation';\n\nconst Spinner: React.FC<{\n  loading: boolean;\n  className?: string;\n}> = ({ loading, className }) => {\n  const _ = useTranslation();\n  const { safeAreaInsets } = useThemeStore();\n  if (!loading) return null;\n\n  return (\n    <div\n      className={clsx('absolute left-1/2 top-4 -translate-x-1/2 transform text-center')}\n      style={{\n        paddingTop: `${(safeAreaInsets?.top || 0) + 64}px`,\n      }}\n      role='status'\n    >\n      <span\n        className={clsx('loading loading-lg not-eink:loading-dots eink:loading-spinner', className)}\n      ></span>\n      <span className='sr-only'>{_('Loading...')}</span>\n    </div>\n  );\n};\n\nexport default Spinner;\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,62]}