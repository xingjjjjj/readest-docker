{"version":3,"sources":["../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/lib/trace/constants.ts","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/compiled/%40opentelemetry/api/index.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/server/lib/trace/tracer.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/shared/lib/is-thenable.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/compiled/cookie/index.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/lib/constants.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/server/web/spec-extension/adapters/reflect.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/server/api-utils/index.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/server/web/spec-extension/adapters/headers.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-kind.ts","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/pages-api/module.compiled.js","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/templates/helpers.ts","../../../../../apps/readest-app/src/utils/cors.ts","../../../../../apps/readest-app/src/utils/jwt.ts","../../../../../apps/readest-app/src/services/translators/utils.ts","../../../../../apps/readest-app/src/utils/access.ts","../../../../../apps/readest-app/src/services/translators/types.ts","../../../../../apps/readest-app/src/services/translators/cache.ts","../../../../../apps/readest-app/src/services/translators/polish.ts","../../../../../apps/readest-app/src/services/translators/preprocess.ts","../../../../../apps/readest-app/src/services/translators/providers/deepl.ts","../../../../../apps/readest-app/src/services/translators/providers/azure.ts","../../../../../apps/readest-app/src/services/translators/providers/google.ts","../../../../../apps/readest-app/src/services/translators/providers/yandex.ts","../../../../../apps/readest-app/src/services/translators/providers/index.ts","../../../../../apps/readest-app/src/services/translators/index.ts","../../../../../apps/readest-app/src/utils/usage.ts","../../../../../apps/readest-app/src/pages/api/deepl/translate.ts","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/request-meta.ts","../../../../../node_modules/.pnpm/next%4016.0.10_%40babel%2Bcore%407.28.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/templates/pages-api.ts"],"sourcesContent":["/**\n * Contains predefined constants for the trace span name in next/server.\n *\n * Currently, next/server/tracer is internal implementation only for tracking\n * next.js's implementation only with known span names defined here.\n **/\n\n// eslint typescript has a bug with TS enums\n\nenum BaseServerSpan {\n  handleRequest = 'BaseServer.handleRequest',\n  run = 'BaseServer.run',\n  pipe = 'BaseServer.pipe',\n  getStaticHTML = 'BaseServer.getStaticHTML',\n  render = 'BaseServer.render',\n  renderToResponseWithComponents = 'BaseServer.renderToResponseWithComponents',\n  renderToResponse = 'BaseServer.renderToResponse',\n  renderToHTML = 'BaseServer.renderToHTML',\n  renderError = 'BaseServer.renderError',\n  renderErrorToResponse = 'BaseServer.renderErrorToResponse',\n  renderErrorToHTML = 'BaseServer.renderErrorToHTML',\n  render404 = 'BaseServer.render404',\n}\n\nenum LoadComponentsSpan {\n  loadDefaultErrorComponents = 'LoadComponents.loadDefaultErrorComponents',\n  loadComponents = 'LoadComponents.loadComponents',\n}\n\nenum NextServerSpan {\n  getRequestHandler = 'NextServer.getRequestHandler',\n  getRequestHandlerWithMetadata = 'NextServer.getRequestHandlerWithMetadata',\n  getServer = 'NextServer.getServer',\n  getServerRequestHandler = 'NextServer.getServerRequestHandler',\n  createServer = 'createServer.createServer',\n}\n\nenum NextNodeServerSpan {\n  compression = 'NextNodeServer.compression',\n  getBuildId = 'NextNodeServer.getBuildId',\n  createComponentTree = 'NextNodeServer.createComponentTree',\n  clientComponentLoading = 'NextNodeServer.clientComponentLoading',\n  getLayoutOrPageModule = 'NextNodeServer.getLayoutOrPageModule',\n  generateStaticRoutes = 'NextNodeServer.generateStaticRoutes',\n  generateFsStaticRoutes = 'NextNodeServer.generateFsStaticRoutes',\n  generatePublicRoutes = 'NextNodeServer.generatePublicRoutes',\n  generateImageRoutes = 'NextNodeServer.generateImageRoutes.route',\n  sendRenderResult = 'NextNodeServer.sendRenderResult',\n  proxyRequest = 'NextNodeServer.proxyRequest',\n  runApi = 'NextNodeServer.runApi',\n  render = 'NextNodeServer.render',\n  renderHTML = 'NextNodeServer.renderHTML',\n  imageOptimizer = 'NextNodeServer.imageOptimizer',\n  getPagePath = 'NextNodeServer.getPagePath',\n  getRoutesManifest = 'NextNodeServer.getRoutesManifest',\n  findPageComponents = 'NextNodeServer.findPageComponents',\n  getFontManifest = 'NextNodeServer.getFontManifest',\n  getServerComponentManifest = 'NextNodeServer.getServerComponentManifest',\n  getRequestHandler = 'NextNodeServer.getRequestHandler',\n  renderToHTML = 'NextNodeServer.renderToHTML',\n  renderError = 'NextNodeServer.renderError',\n  renderErrorToHTML = 'NextNodeServer.renderErrorToHTML',\n  render404 = 'NextNodeServer.render404',\n  startResponse = 'NextNodeServer.startResponse',\n\n  // nested inner span, does not require parent scope name\n  route = 'route',\n  onProxyReq = 'onProxyReq',\n  apiResolver = 'apiResolver',\n  internalFetch = 'internalFetch',\n}\n\nenum StartServerSpan {\n  startServer = 'startServer.startServer',\n}\n\nenum RenderSpan {\n  getServerSideProps = 'Render.getServerSideProps',\n  getStaticProps = 'Render.getStaticProps',\n  renderToString = 'Render.renderToString',\n  renderDocument = 'Render.renderDocument',\n  createBodyResult = 'Render.createBodyResult',\n}\n\nenum AppRenderSpan {\n  renderToString = 'AppRender.renderToString',\n  renderToReadableStream = 'AppRender.renderToReadableStream',\n  getBodyResult = 'AppRender.getBodyResult',\n  fetch = 'AppRender.fetch',\n}\n\nenum RouterSpan {\n  executeRoute = 'Router.executeRoute',\n}\n\nenum NodeSpan {\n  runHandler = 'Node.runHandler',\n}\n\nenum AppRouteRouteHandlersSpan {\n  runHandler = 'AppRouteRouteHandlers.runHandler',\n}\n\nenum ResolveMetadataSpan {\n  generateMetadata = 'ResolveMetadata.generateMetadata',\n  generateViewport = 'ResolveMetadata.generateViewport',\n}\n\nenum MiddlewareSpan {\n  execute = 'Middleware.execute',\n}\n\ntype SpanTypes =\n  | `${BaseServerSpan}`\n  | `${LoadComponentsSpan}`\n  | `${NextServerSpan}`\n  | `${StartServerSpan}`\n  | `${NextNodeServerSpan}`\n  | `${RenderSpan}`\n  | `${RouterSpan}`\n  | `${AppRenderSpan}`\n  | `${NodeSpan}`\n  | `${AppRouteRouteHandlersSpan}`\n  | `${ResolveMetadataSpan}`\n  | `${MiddlewareSpan}`\n\n// This list is used to filter out spans that are not relevant to the user\nexport const NextVanillaSpanAllowlist = new Set([\n  MiddlewareSpan.execute,\n  BaseServerSpan.handleRequest,\n  RenderSpan.getServerSideProps,\n  RenderSpan.getStaticProps,\n  AppRenderSpan.fetch,\n  AppRenderSpan.getBodyResult,\n  RenderSpan.renderDocument,\n  NodeSpan.runHandler,\n  AppRouteRouteHandlersSpan.runHandler,\n  ResolveMetadataSpan.generateMetadata,\n  ResolveMetadataSpan.generateViewport,\n  NextNodeServerSpan.createComponentTree,\n  NextNodeServerSpan.findPageComponents,\n  NextNodeServerSpan.getLayoutOrPageModule,\n  NextNodeServerSpan.startResponse,\n  NextNodeServerSpan.clientComponentLoading,\n])\n\n// These Spans are allowed to be always logged\n// when the otel log prefix env is set\nexport const LogSpanAllowList = new Set([\n  NextNodeServerSpan.findPageComponents,\n  NextNodeServerSpan.createComponentTree,\n  NextNodeServerSpan.clientComponentLoading,\n])\n\nexport {\n  BaseServerSpan,\n  LoadComponentsSpan,\n  NextServerSpan,\n  NextNodeServerSpan,\n  StartServerSpan,\n  RenderSpan,\n  RouterSpan,\n  AppRenderSpan,\n  NodeSpan,\n  AppRouteRouteHandlersSpan,\n  ResolveMetadataSpan,\n  MiddlewareSpan,\n}\n\nexport type { SpanTypes }\n","(()=>{\"use strict\";var e={491:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ContextAPI=void 0;const n=r(223);const a=r(172);const o=r(930);const i=\"context\";const c=new n.NoopContextManager;class ContextAPI{constructor(){}static getInstance(){if(!this._instance){this._instance=new ContextAPI}return this._instance}setGlobalContextManager(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,a.getGlobal)(i)||c}disable(){this._getContextManager().disable();(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.ContextAPI=ContextAPI},930:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagAPI=void 0;const n=r(56);const a=r(912);const o=r(957);const i=r(172);const c=\"diag\";class DiagAPI{constructor(){function _logProxy(e){return function(...t){const r=(0,i.getGlobal)(\"diag\");if(!r)return;return r[e](...t)}}const e=this;const setLogger=(t,r={logLevel:o.DiagLogLevel.INFO})=>{var n,c,s;if(t===e){const t=new Error(\"Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation\");e.error((n=t.stack)!==null&&n!==void 0?n:t.message);return false}if(typeof r===\"number\"){r={logLevel:r}}const u=(0,i.getGlobal)(\"diag\");const l=(0,a.createLogLevelDiagLogger)((c=r.logLevel)!==null&&c!==void 0?c:o.DiagLogLevel.INFO,t);if(u&&!r.suppressOverrideMessage){const e=(s=(new Error).stack)!==null&&s!==void 0?s:\"<failed to generate stacktrace>\";u.warn(`Current logger will be overwritten from ${e}`);l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,i.registerGlobal)(\"diag\",l,e,true)};e.setLogger=setLogger;e.disable=()=>{(0,i.unregisterGlobal)(c,e)};e.createComponentLogger=e=>new n.DiagComponentLogger(e);e.verbose=_logProxy(\"verbose\");e.debug=_logProxy(\"debug\");e.info=_logProxy(\"info\");e.warn=_logProxy(\"warn\");e.error=_logProxy(\"error\")}static instance(){if(!this._instance){this._instance=new DiagAPI}return this._instance}}t.DiagAPI=DiagAPI},653:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.MetricsAPI=void 0;const n=r(660);const a=r(172);const o=r(930);const i=\"metrics\";class MetricsAPI{constructor(){}static getInstance(){if(!this._instance){this._instance=new MetricsAPI}return this._instance}setGlobalMeterProvider(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}getMeterProvider(){return(0,a.getGlobal)(i)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.MetricsAPI=MetricsAPI},181:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.PropagationAPI=void 0;const n=r(172);const a=r(874);const o=r(194);const i=r(277);const c=r(369);const s=r(930);const u=\"propagation\";const l=new a.NoopTextMapPropagator;class PropagationAPI{constructor(){this.createBaggage=c.createBaggage;this.getBaggage=i.getBaggage;this.getActiveBaggage=i.getActiveBaggage;this.setBaggage=i.setBaggage;this.deleteBaggage=i.deleteBaggage}static getInstance(){if(!this._instance){this._instance=new PropagationAPI}return this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,s.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,s.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}t.PropagationAPI=PropagationAPI},997:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceAPI=void 0;const n=r(172);const a=r(846);const o=r(139);const i=r(607);const c=r(930);const s=\"trace\";class TraceAPI{constructor(){this._proxyTracerProvider=new a.ProxyTracerProvider;this.wrapSpanContext=o.wrapSpanContext;this.isSpanContextValid=o.isSpanContextValid;this.deleteSpan=i.deleteSpan;this.getSpan=i.getSpan;this.getActiveSpan=i.getActiveSpan;this.getSpanContext=i.getSpanContext;this.setSpan=i.setSpan;this.setSpanContext=i.setSpanContext}static getInstance(){if(!this._instance){this._instance=new TraceAPI}return this._instance}setGlobalTracerProvider(e){const t=(0,n.registerGlobal)(s,this._proxyTracerProvider,c.DiagAPI.instance());if(t){this._proxyTracerProvider.setDelegate(e)}return t}getTracerProvider(){return(0,n.getGlobal)(s)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(s,c.DiagAPI.instance());this._proxyTracerProvider=new a.ProxyTracerProvider}}t.TraceAPI=TraceAPI},277:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;const n=r(491);const a=r(780);const o=(0,a.createContextKey)(\"OpenTelemetry Baggage Key\");function getBaggage(e){return e.getValue(o)||undefined}t.getBaggage=getBaggage;function getActiveBaggage(){return getBaggage(n.ContextAPI.getInstance().active())}t.getActiveBaggage=getActiveBaggage;function setBaggage(e,t){return e.setValue(o,t)}t.setBaggage=setBaggage;function deleteBaggage(e){return e.deleteValue(o)}t.deleteBaggage=deleteBaggage},993:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.BaggageImpl=void 0;class BaggageImpl{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(!t){return undefined}return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map((([e,t])=>[e,t]))}setEntry(e,t){const r=new BaggageImpl(this._entries);r._entries.set(e,t);return r}removeEntry(e){const t=new BaggageImpl(this._entries);t._entries.delete(e);return t}removeEntries(...e){const t=new BaggageImpl(this._entries);for(const r of e){t._entries.delete(r)}return t}clear(){return new BaggageImpl}}t.BaggageImpl=BaggageImpl},830:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.baggageEntryMetadataSymbol=void 0;t.baggageEntryMetadataSymbol=Symbol(\"BaggageEntryMetadata\")},369:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.baggageEntryMetadataFromString=t.createBaggage=void 0;const n=r(930);const a=r(993);const o=r(830);const i=n.DiagAPI.instance();function createBaggage(e={}){return new a.BaggageImpl(new Map(Object.entries(e)))}t.createBaggage=createBaggage;function baggageEntryMetadataFromString(e){if(typeof e!==\"string\"){i.error(`Cannot create baggage metadata from unknown type: ${typeof e}`);e=\"\"}return{__TYPE__:o.baggageEntryMetadataSymbol,toString(){return e}}}t.baggageEntryMetadataFromString=baggageEntryMetadataFromString},67:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.context=void 0;const n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopContextManager=void 0;const n=r(780);class NoopContextManager{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=NoopContextManager},780:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ROOT_CONTEXT=t.createContextKey=void 0;function createContextKey(e){return Symbol.for(e)}t.createContextKey=createContextKey;class BaseContext{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map;t.getValue=e=>t._currentContext.get(e);t.setValue=(e,r)=>{const n=new BaseContext(t._currentContext);n._currentContext.set(e,r);return n};t.deleteValue=e=>{const r=new BaseContext(t._currentContext);r._currentContext.delete(e);return r}}}t.ROOT_CONTEXT=new BaseContext},506:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.diag=void 0;const n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagComponentLogger=void 0;const n=r(172);class DiagComponentLogger{constructor(e){this._namespace=e.namespace||\"DiagComponentLogger\"}debug(...e){return logProxy(\"debug\",this._namespace,e)}error(...e){return logProxy(\"error\",this._namespace,e)}info(...e){return logProxy(\"info\",this._namespace,e)}warn(...e){return logProxy(\"warn\",this._namespace,e)}verbose(...e){return logProxy(\"verbose\",this._namespace,e)}}t.DiagComponentLogger=DiagComponentLogger;function logProxy(e,t,r){const a=(0,n.getGlobal)(\"diag\");if(!a){return}r.unshift(t);return a[e](...r)}},972:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagConsoleLogger=void 0;const r=[{n:\"error\",c:\"error\"},{n:\"warn\",c:\"warn\"},{n:\"info\",c:\"info\"},{n:\"debug\",c:\"debug\"},{n:\"verbose\",c:\"trace\"}];class DiagConsoleLogger{constructor(){function _consoleFunc(e){return function(...t){if(console){let r=console[e];if(typeof r!==\"function\"){r=console.log}if(typeof r===\"function\"){return r.apply(console,t)}}}}for(let e=0;e<r.length;e++){this[r[e].n]=_consoleFunc(r[e].c)}}}t.DiagConsoleLogger=DiagConsoleLogger},912:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createLogLevelDiagLogger=void 0;const n=r(957);function createLogLevelDiagLogger(e,t){if(e<n.DiagLogLevel.NONE){e=n.DiagLogLevel.NONE}else if(e>n.DiagLogLevel.ALL){e=n.DiagLogLevel.ALL}t=t||{};function _filterFunc(r,n){const a=t[r];if(typeof a===\"function\"&&e>=n){return a.bind(t)}return function(){}}return{error:_filterFunc(\"error\",n.DiagLogLevel.ERROR),warn:_filterFunc(\"warn\",n.DiagLogLevel.WARN),info:_filterFunc(\"info\",n.DiagLogLevel.INFO),debug:_filterFunc(\"debug\",n.DiagLogLevel.DEBUG),verbose:_filterFunc(\"verbose\",n.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=createLogLevelDiagLogger},957:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.DiagLogLevel=void 0;var r;(function(e){e[e[\"NONE\"]=0]=\"NONE\";e[e[\"ERROR\"]=30]=\"ERROR\";e[e[\"WARN\"]=50]=\"WARN\";e[e[\"INFO\"]=60]=\"INFO\";e[e[\"DEBUG\"]=70]=\"DEBUG\";e[e[\"VERBOSE\"]=80]=\"VERBOSE\";e[e[\"ALL\"]=9999]=\"ALL\"})(r=t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;const n=r(200);const a=r(521);const o=r(130);const i=a.VERSION.split(\".\")[0];const c=Symbol.for(`opentelemetry.js.api.${i}`);const s=n._globalThis;function registerGlobal(e,t,r,n=false){var o;const i=s[c]=(o=s[c])!==null&&o!==void 0?o:{version:a.VERSION};if(!n&&i[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);r.error(t.stack||t.message);return false}if(i.version!==a.VERSION){const t=new Error(`@opentelemetry/api: Registration of version v${i.version} for ${e} does not match previously registered API v${a.VERSION}`);r.error(t.stack||t.message);return false}i[e]=t;r.debug(`@opentelemetry/api: Registered a global for ${e} v${a.VERSION}.`);return true}t.registerGlobal=registerGlobal;function getGlobal(e){var t,r;const n=(t=s[c])===null||t===void 0?void 0:t.version;if(!n||!(0,o.isCompatible)(n)){return}return(r=s[c])===null||r===void 0?void 0:r[e]}t.getGlobal=getGlobal;function unregisterGlobal(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${a.VERSION}.`);const r=s[c];if(r){delete r[e]}}t.unregisterGlobal=unregisterGlobal},130:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.isCompatible=t._makeCompatibilityCheck=void 0;const n=r(521);const a=/^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;function _makeCompatibilityCheck(e){const t=new Set([e]);const r=new Set;const n=e.match(a);if(!n){return()=>false}const o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null){return function isExactmatch(t){return t===e}}function _reject(e){r.add(e);return false}function _accept(e){t.add(e);return true}return function isCompatible(e){if(t.has(e)){return true}if(r.has(e)){return false}const n=e.match(a);if(!n){return _reject(e)}const i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null){return _reject(e)}if(o.major!==i.major){return _reject(e)}if(o.major===0){if(o.minor===i.minor&&o.patch<=i.patch){return _accept(e)}return _reject(e)}if(o.minor<=i.minor){return _accept(e)}return _reject(e)}}t._makeCompatibilityCheck=_makeCompatibilityCheck;t.isCompatible=_makeCompatibilityCheck(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.metrics=void 0;const n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ValueType=void 0;var r;(function(e){e[e[\"INT\"]=0]=\"INT\";e[e[\"DOUBLE\"]=1]=\"DOUBLE\"})(r=t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class NoopMeter{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=NoopMeter;class NoopMetric{}t.NoopMetric=NoopMetric;class NoopCounterMetric extends NoopMetric{add(e,t){}}t.NoopCounterMetric=NoopCounterMetric;class NoopUpDownCounterMetric extends NoopMetric{add(e,t){}}t.NoopUpDownCounterMetric=NoopUpDownCounterMetric;class NoopHistogramMetric extends NoopMetric{record(e,t){}}t.NoopHistogramMetric=NoopHistogramMetric;class NoopObservableMetric{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=NoopObservableMetric;class NoopObservableCounterMetric extends NoopObservableMetric{}t.NoopObservableCounterMetric=NoopObservableCounterMetric;class NoopObservableGaugeMetric extends NoopObservableMetric{}t.NoopObservableGaugeMetric=NoopObservableGaugeMetric;class NoopObservableUpDownCounterMetric extends NoopObservableMetric{}t.NoopObservableUpDownCounterMetric=NoopObservableUpDownCounterMetric;t.NOOP_METER=new NoopMeter;t.NOOP_COUNTER_METRIC=new NoopCounterMetric;t.NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric;t.NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric;t.NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric;t.NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric;t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric;function createNoopMeter(){return t.NOOP_METER}t.createNoopMeter=createNoopMeter},660:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;const n=r(102);class NoopMeterProvider{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=NoopMeterProvider;t.NOOP_METER_PROVIDER=new NoopMeterProvider},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var a=this&&this.__exportStar||function(e,t){for(var r in e)if(r!==\"default\"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:true});a(r(46),t)},651:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t._globalThis=void 0;t._globalThis=typeof globalThis===\"object\"?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var a=this&&this.__exportStar||function(e,t){for(var r in e)if(r!==\"default\"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,\"__esModule\",{value:true});a(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.propagation=void 0;const n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTextMapPropagator=void 0;class NoopTextMapPropagator{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=NoopTextMapPropagator},194:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.defaultTextMapSetter=t.defaultTextMapGetter=void 0;t.defaultTextMapGetter={get(e,t){if(e==null){return undefined}return e[t]},keys(e){if(e==null){return[]}return Object.keys(e)}};t.defaultTextMapSetter={set(e,t,r){if(e==null){return}e[t]=r}}},845:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.trace=void 0;const n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NonRecordingSpan=void 0;const n=r(476);class NonRecordingSpan{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return false}recordException(e,t){}}t.NonRecordingSpan=NonRecordingSpan},614:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTracer=void 0;const n=r(491);const a=r(607);const o=r(403);const i=r(139);const c=n.ContextAPI.getInstance();class NoopTracer{startSpan(e,t,r=c.active()){const n=Boolean(t===null||t===void 0?void 0:t.root);if(n){return new o.NonRecordingSpan}const s=r&&(0,a.getSpanContext)(r);if(isSpanContext(s)&&(0,i.isSpanContextValid)(s)){return new o.NonRecordingSpan(s)}else{return new o.NonRecordingSpan}}startActiveSpan(e,t,r,n){let o;let i;let s;if(arguments.length<2){return}else if(arguments.length===2){s=t}else if(arguments.length===3){o=t;s=r}else{o=t;i=r;s=n}const u=i!==null&&i!==void 0?i:c.active();const l=this.startSpan(e,o,u);const g=(0,a.setSpan)(u,l);return c.with(g,s,undefined,l)}}t.NoopTracer=NoopTracer;function isSpanContext(e){return typeof e===\"object\"&&typeof e[\"spanId\"]===\"string\"&&typeof e[\"traceId\"]===\"string\"&&typeof e[\"traceFlags\"]===\"number\"}},124:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.NoopTracerProvider=void 0;const n=r(614);class NoopTracerProvider{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=NoopTracerProvider},125:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ProxyTracer=void 0;const n=r(614);const a=new n.NoopTracer;class ProxyTracer{constructor(e,t,r,n){this._provider=e;this.name=t;this.version=r;this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){const a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate){return this._delegate}const e=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!e){return a}this._delegate=e;return this._delegate}}t.ProxyTracer=ProxyTracer},846:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.ProxyTracerProvider=void 0;const n=r(125);const a=r(124);const o=new a.NoopTracerProvider;class ProxyTracerProvider{getTracer(e,t,r){var a;return(a=this.getDelegateTracer(e,t,r))!==null&&a!==void 0?a:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:o}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return(n=this._delegate)===null||n===void 0?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=ProxyTracerProvider},996:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SamplingDecision=void 0;var r;(function(e){e[e[\"NOT_RECORD\"]=0]=\"NOT_RECORD\";e[e[\"RECORD\"]=1]=\"RECORD\";e[e[\"RECORD_AND_SAMPLED\"]=2]=\"RECORD_AND_SAMPLED\"})(r=t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;const n=r(780);const a=r(403);const o=r(491);const i=(0,n.createContextKey)(\"OpenTelemetry Context Key SPAN\");function getSpan(e){return e.getValue(i)||undefined}t.getSpan=getSpan;function getActiveSpan(){return getSpan(o.ContextAPI.getInstance().active())}t.getActiveSpan=getActiveSpan;function setSpan(e,t){return e.setValue(i,t)}t.setSpan=setSpan;function deleteSpan(e){return e.deleteValue(i)}t.deleteSpan=deleteSpan;function setSpanContext(e,t){return setSpan(e,new a.NonRecordingSpan(t))}t.setSpanContext=setSpanContext;function getSpanContext(e){var t;return(t=getSpan(e))===null||t===void 0?void 0:t.spanContext()}t.getSpanContext=getSpanContext},325:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceStateImpl=void 0;const n=r(564);const a=32;const o=512;const i=\",\";const c=\"=\";class TraceStateImpl{constructor(e){this._internalState=new Map;if(e)this._parse(e)}set(e,t){const r=this._clone();if(r._internalState.has(e)){r._internalState.delete(e)}r._internalState.set(e,t);return r}unset(e){const t=this._clone();t._internalState.delete(e);return t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>{e.push(t+c+this.get(t));return e}),[]).join(i)}_parse(e){if(e.length>o)return;this._internalState=e.split(i).reverse().reduce(((e,t)=>{const r=t.trim();const a=r.indexOf(c);if(a!==-1){const o=r.slice(0,a);const i=r.slice(a+1,t.length);if((0,n.validateKey)(o)&&(0,n.validateValue)(i)){e.set(o,i)}else{}}return e}),new Map);if(this._internalState.size>a){this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,a))}}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new TraceStateImpl;e._internalState=new Map(this._internalState);return e}}t.TraceStateImpl=TraceStateImpl},564:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.validateValue=t.validateKey=void 0;const r=\"[_0-9a-z-*/]\";const n=`[a-z]${r}{0,255}`;const a=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`;const o=new RegExp(`^(?:${n}|${a})$`);const i=/^[ -~]{0,255}[!-~]$/;const c=/,|=/;function validateKey(e){return o.test(e)}t.validateKey=validateKey;function validateValue(e){return i.test(e)&&!c.test(e)}t.validateValue=validateValue},98:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.createTraceState=void 0;const n=r(325);function createTraceState(e){return new n.TraceStateImpl(e)}t.createTraceState=createTraceState},476:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;const n=r(475);t.INVALID_SPANID=\"0000000000000000\";t.INVALID_TRACEID=\"00000000000000000000000000000000\";t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SpanKind=void 0;var r;(function(e){e[e[\"INTERNAL\"]=0]=\"INTERNAL\";e[e[\"SERVER\"]=1]=\"SERVER\";e[e[\"CLIENT\"]=2]=\"CLIENT\";e[e[\"PRODUCER\"]=3]=\"PRODUCER\";e[e[\"CONSUMER\"]=4]=\"CONSUMER\"})(r=t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;const n=r(476);const a=r(403);const o=/^([0-9a-f]{32})$/i;const i=/^[0-9a-f]{16}$/i;function isValidTraceId(e){return o.test(e)&&e!==n.INVALID_TRACEID}t.isValidTraceId=isValidTraceId;function isValidSpanId(e){return i.test(e)&&e!==n.INVALID_SPANID}t.isValidSpanId=isValidSpanId;function isSpanContextValid(e){return isValidTraceId(e.traceId)&&isValidSpanId(e.spanId)}t.isSpanContextValid=isSpanContextValid;function wrapSpanContext(e){return new a.NonRecordingSpan(e)}t.wrapSpanContext=wrapSpanContext},847:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.SpanStatusCode=void 0;var r;(function(e){e[e[\"UNSET\"]=0]=\"UNSET\";e[e[\"OK\"]=1]=\"OK\";e[e[\"ERROR\"]=2]=\"ERROR\"})(r=t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.TraceFlags=void 0;var r;(function(e){e[e[\"NONE\"]=0]=\"NONE\";e[e[\"SAMPLED\"]=1]=\"SAMPLED\"})(r=t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:true});t.VERSION=void 0;t.VERSION=\"1.6.0\"}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var a=t[r]={exports:{}};var o=true;try{e[r].call(a.exports,a,a.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return a.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r={};(()=>{var e=r;Object.defineProperty(e,\"__esModule\",{value:true});e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=__nccwpck_require__(369);Object.defineProperty(e,\"baggageEntryMetadataFromString\",{enumerable:true,get:function(){return t.baggageEntryMetadataFromString}});var n=__nccwpck_require__(780);Object.defineProperty(e,\"createContextKey\",{enumerable:true,get:function(){return n.createContextKey}});Object.defineProperty(e,\"ROOT_CONTEXT\",{enumerable:true,get:function(){return n.ROOT_CONTEXT}});var a=__nccwpck_require__(972);Object.defineProperty(e,\"DiagConsoleLogger\",{enumerable:true,get:function(){return a.DiagConsoleLogger}});var o=__nccwpck_require__(957);Object.defineProperty(e,\"DiagLogLevel\",{enumerable:true,get:function(){return o.DiagLogLevel}});var i=__nccwpck_require__(102);Object.defineProperty(e,\"createNoopMeter\",{enumerable:true,get:function(){return i.createNoopMeter}});var c=__nccwpck_require__(901);Object.defineProperty(e,\"ValueType\",{enumerable:true,get:function(){return c.ValueType}});var s=__nccwpck_require__(194);Object.defineProperty(e,\"defaultTextMapGetter\",{enumerable:true,get:function(){return s.defaultTextMapGetter}});Object.defineProperty(e,\"defaultTextMapSetter\",{enumerable:true,get:function(){return s.defaultTextMapSetter}});var u=__nccwpck_require__(125);Object.defineProperty(e,\"ProxyTracer\",{enumerable:true,get:function(){return u.ProxyTracer}});var l=__nccwpck_require__(846);Object.defineProperty(e,\"ProxyTracerProvider\",{enumerable:true,get:function(){return l.ProxyTracerProvider}});var g=__nccwpck_require__(996);Object.defineProperty(e,\"SamplingDecision\",{enumerable:true,get:function(){return g.SamplingDecision}});var p=__nccwpck_require__(357);Object.defineProperty(e,\"SpanKind\",{enumerable:true,get:function(){return p.SpanKind}});var d=__nccwpck_require__(847);Object.defineProperty(e,\"SpanStatusCode\",{enumerable:true,get:function(){return d.SpanStatusCode}});var _=__nccwpck_require__(475);Object.defineProperty(e,\"TraceFlags\",{enumerable:true,get:function(){return _.TraceFlags}});var f=__nccwpck_require__(98);Object.defineProperty(e,\"createTraceState\",{enumerable:true,get:function(){return f.createTraceState}});var b=__nccwpck_require__(139);Object.defineProperty(e,\"isSpanContextValid\",{enumerable:true,get:function(){return b.isSpanContextValid}});Object.defineProperty(e,\"isValidTraceId\",{enumerable:true,get:function(){return b.isValidTraceId}});Object.defineProperty(e,\"isValidSpanId\",{enumerable:true,get:function(){return b.isValidSpanId}});var v=__nccwpck_require__(476);Object.defineProperty(e,\"INVALID_SPANID\",{enumerable:true,get:function(){return v.INVALID_SPANID}});Object.defineProperty(e,\"INVALID_TRACEID\",{enumerable:true,get:function(){return v.INVALID_TRACEID}});Object.defineProperty(e,\"INVALID_SPAN_CONTEXT\",{enumerable:true,get:function(){return v.INVALID_SPAN_CONTEXT}});const O=__nccwpck_require__(67);Object.defineProperty(e,\"context\",{enumerable:true,get:function(){return O.context}});const P=__nccwpck_require__(506);Object.defineProperty(e,\"diag\",{enumerable:true,get:function(){return P.diag}});const N=__nccwpck_require__(886);Object.defineProperty(e,\"metrics\",{enumerable:true,get:function(){return N.metrics}});const S=__nccwpck_require__(939);Object.defineProperty(e,\"propagation\",{enumerable:true,get:function(){return S.propagation}});const C=__nccwpck_require__(845);Object.defineProperty(e,\"trace\",{enumerable:true,get:function(){return C.trace}});e[\"default\"]={context:O.context,diag:P.diag,metrics:N.metrics,propagation:S.propagation,trace:C.trace}})();module.exports=r})();","import { LogSpanAllowList, NextVanillaSpanAllowlist } from './constants';\nimport { isThenable } from '../../../shared/lib/is-thenable';\nconst NEXT_OTEL_PERFORMANCE_PREFIX = process.env.NEXT_OTEL_PERFORMANCE_PREFIX;\nlet api;\n// we want to allow users to use their own version of @opentelemetry/api if they\n// want to, so we try to require it first, and if it fails we fall back to the\n// version that is bundled with Next.js\n// this is because @opentelemetry/api has to be synced with the version of\n// @opentelemetry/tracing that is used, and we don't want to force users to use\n// the version that is bundled with Next.js.\n// the API is ~stable, so this should be fine\nif (process.env.NEXT_RUNTIME === 'edge') {\n    api = require('@opentelemetry/api');\n} else {\n    try {\n        api = require('@opentelemetry/api');\n    } catch (err) {\n        api = require('next/dist/compiled/@opentelemetry/api');\n    }\n}\nconst { context, propagation, trace, SpanStatusCode, SpanKind, ROOT_CONTEXT } = api;\nexport class BubbledError extends Error {\n    constructor(bubble, result){\n        super(), this.bubble = bubble, this.result = result;\n    }\n}\nexport function isBubbledError(error) {\n    if (typeof error !== 'object' || error === null) return false;\n    return error instanceof BubbledError;\n}\nconst closeSpanWithError = (span, error)=>{\n    if (isBubbledError(error) && error.bubble) {\n        span.setAttribute('next.bubble', true);\n    } else {\n        if (error) {\n            span.recordException(error);\n            span.setAttribute('error.type', error.name);\n        }\n        span.setStatus({\n            code: SpanStatusCode.ERROR,\n            message: error == null ? void 0 : error.message\n        });\n    }\n    span.end();\n};\n/** we use this map to propagate attributes from nested spans to the top span */ const rootSpanAttributesStore = new Map();\nconst rootSpanIdKey = api.createContextKey('next.rootSpanId');\nlet lastSpanId = 0;\nconst getSpanId = ()=>lastSpanId++;\nconst clientTraceDataSetter = {\n    set (carrier, key, value) {\n        carrier.push({\n            key,\n            value\n        });\n    }\n};\nclass NextTracerImpl {\n    /**\n   * Returns an instance to the trace with configured name.\n   * Since wrap / trace can be defined in any place prior to actual trace subscriber initialization,\n   * This should be lazily evaluated.\n   */ getTracerInstance() {\n        return trace.getTracer('next.js', '0.0.1');\n    }\n    getContext() {\n        return context;\n    }\n    getTracePropagationData() {\n        const activeContext = context.active();\n        const entries = [];\n        propagation.inject(activeContext, entries, clientTraceDataSetter);\n        return entries;\n    }\n    getActiveScopeSpan() {\n        return trace.getSpan(context == null ? void 0 : context.active());\n    }\n    withPropagatedContext(carrier, fn, getter) {\n        const activeContext = context.active();\n        if (trace.getSpanContext(activeContext)) {\n            // Active span is already set, too late to propagate.\n            return fn();\n        }\n        const remoteContext = propagation.extract(activeContext, carrier, getter);\n        return context.with(remoteContext, fn);\n    }\n    trace(...args) {\n        const [type, fnOrOptions, fnOrEmpty] = args;\n        // coerce options form overload\n        const { fn, options } = typeof fnOrOptions === 'function' ? {\n            fn: fnOrOptions,\n            options: {}\n        } : {\n            fn: fnOrEmpty,\n            options: {\n                ...fnOrOptions\n            }\n        };\n        const spanName = options.spanName ?? type;\n        if (!NextVanillaSpanAllowlist.has(type) && process.env.NEXT_OTEL_VERBOSE !== '1' || options.hideSpan) {\n            return fn();\n        }\n        // Trying to get active scoped span to assign parent. If option specifies parent span manually, will try to use it.\n        let spanContext = this.getSpanContext((options == null ? void 0 : options.parentSpan) ?? this.getActiveScopeSpan());\n        if (!spanContext) {\n            spanContext = (context == null ? void 0 : context.active()) ?? ROOT_CONTEXT;\n        }\n        // Check if there's already a root span in the store for this trace\n        // We are intentionally not checking whether there is an active context\n        // from outside of nextjs to ensure that we can provide the same level\n        // of telemetry when using a custom server\n        const existingRootSpanId = spanContext.getValue(rootSpanIdKey);\n        const isRootSpan = typeof existingRootSpanId !== 'number' || !rootSpanAttributesStore.has(existingRootSpanId);\n        const spanId = getSpanId();\n        options.attributes = {\n            'next.span_name': spanName,\n            'next.span_type': type,\n            ...options.attributes\n        };\n        return context.with(spanContext.setValue(rootSpanIdKey, spanId), ()=>this.getTracerInstance().startActiveSpan(spanName, options, (span)=>{\n                let startTime;\n                if (NEXT_OTEL_PERFORMANCE_PREFIX && type && LogSpanAllowList.has(type)) {\n                    startTime = 'performance' in globalThis && 'measure' in performance ? globalThis.performance.now() : undefined;\n                }\n                let cleanedUp = false;\n                const onCleanup = ()=>{\n                    if (cleanedUp) return;\n                    cleanedUp = true;\n                    rootSpanAttributesStore.delete(spanId);\n                    if (startTime) {\n                        performance.measure(`${NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(type.split('.').pop() || '').replace(/[A-Z]/g, (match)=>'-' + match.toLowerCase())}`, {\n                            start: startTime,\n                            end: performance.now()\n                        });\n                    }\n                };\n                if (isRootSpan) {\n                    rootSpanAttributesStore.set(spanId, new Map(Object.entries(options.attributes ?? {})));\n                }\n                if (fn.length > 1) {\n                    try {\n                        return fn(span, (err)=>closeSpanWithError(span, err));\n                    } catch (err) {\n                        closeSpanWithError(span, err);\n                        throw err;\n                    } finally{\n                        onCleanup();\n                    }\n                }\n                try {\n                    const result = fn(span);\n                    if (isThenable(result)) {\n                        // If there's error make sure it throws\n                        return result.then((res)=>{\n                            span.end();\n                            // Need to pass down the promise result,\n                            // it could be react stream response with error { error, stream }\n                            return res;\n                        }).catch((err)=>{\n                            closeSpanWithError(span, err);\n                            throw err;\n                        }).finally(onCleanup);\n                    } else {\n                        span.end();\n                        onCleanup();\n                    }\n                    return result;\n                } catch (err) {\n                    closeSpanWithError(span, err);\n                    onCleanup();\n                    throw err;\n                }\n            }));\n    }\n    wrap(...args) {\n        const tracer = this;\n        const [name, options, fn] = args.length === 3 ? args : [\n            args[0],\n            {},\n            args[1]\n        ];\n        if (!NextVanillaSpanAllowlist.has(name) && process.env.NEXT_OTEL_VERBOSE !== '1') {\n            return fn;\n        }\n        return function() {\n            let optionsObj = options;\n            if (typeof optionsObj === 'function' && typeof fn === 'function') {\n                optionsObj = optionsObj.apply(this, arguments);\n            }\n            const lastArgId = arguments.length - 1;\n            const cb = arguments[lastArgId];\n            if (typeof cb === 'function') {\n                const scopeBoundCb = tracer.getContext().bind(context.active(), cb);\n                return tracer.trace(name, optionsObj, (_span, done)=>{\n                    arguments[lastArgId] = function(err) {\n                        done == null ? void 0 : done(err);\n                        return scopeBoundCb.apply(this, arguments);\n                    };\n                    return fn.apply(this, arguments);\n                });\n            } else {\n                return tracer.trace(name, optionsObj, ()=>fn.apply(this, arguments));\n            }\n        };\n    }\n    startSpan(...args) {\n        const [type, options] = args;\n        const spanContext = this.getSpanContext((options == null ? void 0 : options.parentSpan) ?? this.getActiveScopeSpan());\n        return this.getTracerInstance().startSpan(type, options, spanContext);\n    }\n    getSpanContext(parentSpan) {\n        const spanContext = parentSpan ? trace.setSpan(context.active(), parentSpan) : undefined;\n        return spanContext;\n    }\n    getRootSpanAttributes() {\n        const spanId = context.active().getValue(rootSpanIdKey);\n        return rootSpanAttributesStore.get(spanId);\n    }\n    setRootSpanAttribute(key, value) {\n        const spanId = context.active().getValue(rootSpanIdKey);\n        const attributes = rootSpanAttributesStore.get(spanId);\n        if (attributes && !attributes.has(key)) {\n            attributes.set(key, value);\n        }\n    }\n}\nconst getTracer = (()=>{\n    const tracer = new NextTracerImpl();\n    return ()=>tracer;\n})();\nexport { getTracer, SpanStatusCode, SpanKind };\n\n//# sourceMappingURL=tracer.js.map","/**\n * Check to see if a value is Thenable.\n *\n * @param promise the maybe-thenable value\n * @returns true if the value is thenable\n */ export function isThenable(promise) {\n    return promise !== null && typeof promise === 'object' && 'then' in promise && typeof promise.then === 'function';\n}\n\n//# sourceMappingURL=is-thenable.js.map","(()=>{\"use strict\";if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var e={};(()=>{var r=e;\n/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */r.parse=parse;r.serialize=serialize;var i=decodeURIComponent;var t=encodeURIComponent;var a=/; */;var n=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function parse(e,r){if(typeof e!==\"string\"){throw new TypeError(\"argument str must be a string\")}var t={};var n=r||{};var o=e.split(a);var s=n.decode||i;for(var p=0;p<o.length;p++){var f=o[p];var u=f.indexOf(\"=\");if(u<0){continue}var v=f.substr(0,u).trim();var c=f.substr(++u,f.length).trim();if('\"'==c[0]){c=c.slice(1,-1)}if(undefined==t[v]){t[v]=tryDecode(c,s)}}return t}function serialize(e,r,i){var a=i||{};var o=a.encode||t;if(typeof o!==\"function\"){throw new TypeError(\"option encode is invalid\")}if(!n.test(e)){throw new TypeError(\"argument name is invalid\")}var s=o(r);if(s&&!n.test(s)){throw new TypeError(\"argument val is invalid\")}var p=e+\"=\"+s;if(null!=a.maxAge){var f=a.maxAge-0;if(isNaN(f)||!isFinite(f)){throw new TypeError(\"option maxAge is invalid\")}p+=\"; Max-Age=\"+Math.floor(f)}if(a.domain){if(!n.test(a.domain)){throw new TypeError(\"option domain is invalid\")}p+=\"; Domain=\"+a.domain}if(a.path){if(!n.test(a.path)){throw new TypeError(\"option path is invalid\")}p+=\"; Path=\"+a.path}if(a.expires){if(typeof a.expires.toUTCString!==\"function\"){throw new TypeError(\"option expires is invalid\")}p+=\"; Expires=\"+a.expires.toUTCString()}if(a.httpOnly){p+=\"; HttpOnly\"}if(a.secure){p+=\"; Secure\"}if(a.sameSite){var u=typeof a.sameSite===\"string\"?a.sameSite.toLowerCase():a.sameSite;switch(u){case true:p+=\"; SameSite=Strict\";break;case\"lax\":p+=\"; SameSite=Lax\";break;case\"strict\":p+=\"; SameSite=Strict\";break;case\"none\":p+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return p}function tryDecode(e,r){try{return r(e)}catch(r){return e}}})();module.exports=e})();","export const TEXT_PLAIN_CONTENT_TYPE_HEADER = 'text/plain';\nexport const HTML_CONTENT_TYPE_HEADER = 'text/html; charset=utf-8';\nexport const JSON_CONTENT_TYPE_HEADER = 'application/json; charset=utf-8';\nexport const NEXT_QUERY_PARAM_PREFIX = 'nxtP';\nexport const NEXT_INTERCEPTION_MARKER_PREFIX = 'nxtI';\nexport const MATCHED_PATH_HEADER = 'x-matched-path';\nexport const PRERENDER_REVALIDATE_HEADER = 'x-prerender-revalidate';\nexport const PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER = 'x-prerender-revalidate-if-generated';\nexport const RSC_PREFETCH_SUFFIX = '.prefetch.rsc';\nexport const RSC_SEGMENTS_DIR_SUFFIX = '.segments';\nexport const RSC_SEGMENT_SUFFIX = '.segment.rsc';\nexport const RSC_SUFFIX = '.rsc';\nexport const ACTION_SUFFIX = '.action';\nexport const NEXT_DATA_SUFFIX = '.json';\nexport const NEXT_META_SUFFIX = '.meta';\nexport const NEXT_BODY_SUFFIX = '.body';\nexport const NEXT_CACHE_TAGS_HEADER = 'x-next-cache-tags';\nexport const NEXT_CACHE_REVALIDATED_TAGS_HEADER = 'x-next-revalidated-tags';\nexport const NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER = 'x-next-revalidate-tag-token';\nexport const NEXT_RESUME_HEADER = 'next-resume';\n// if these change make sure we update the related\n// documentation as well\nexport const NEXT_CACHE_TAG_MAX_ITEMS = 128;\nexport const NEXT_CACHE_TAG_MAX_LENGTH = 256;\nexport const NEXT_CACHE_SOFT_TAG_MAX_LENGTH = 1024;\nexport const NEXT_CACHE_IMPLICIT_TAG_ID = '_N_T_';\n// in seconds\nexport const CACHE_ONE_YEAR = 31536000;\n// in seconds, represents revalidate=false. I.e. never revaliate.\n// We use this value since it can be represented as a V8 SMI for optimal performance.\n// It can also be serialized as JSON if it ever leaks accidentally as an actual value.\nexport const INFINITE_CACHE = 0xfffffffe;\n// Patterns to detect middleware files\nexport const MIDDLEWARE_FILENAME = 'middleware';\nexport const MIDDLEWARE_LOCATION_REGEXP = `(?:src/)?${MIDDLEWARE_FILENAME}`;\n// Patterns to detect proxy files (replacement for middleware)\nexport const PROXY_FILENAME = 'proxy';\nexport const PROXY_LOCATION_REGEXP = `(?:src/)?${PROXY_FILENAME}`;\n// Pattern to detect instrumentation hooks file\nexport const INSTRUMENTATION_HOOK_FILENAME = 'instrumentation';\n// Because on Windows absolute paths in the generated code can break because of numbers, eg 1 in the path,\n// we have to use a private alias\nexport const PAGES_DIR_ALIAS = 'private-next-pages';\nexport const DOT_NEXT_ALIAS = 'private-dot-next';\nexport const ROOT_DIR_ALIAS = 'private-next-root-dir';\nexport const APP_DIR_ALIAS = 'private-next-app-dir';\nexport const RSC_MOD_REF_PROXY_ALIAS = 'private-next-rsc-mod-ref-proxy';\nexport const RSC_ACTION_VALIDATE_ALIAS = 'private-next-rsc-action-validate';\nexport const RSC_ACTION_PROXY_ALIAS = 'private-next-rsc-server-reference';\nexport const RSC_CACHE_WRAPPER_ALIAS = 'private-next-rsc-cache-wrapper';\nexport const RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS = 'private-next-rsc-track-dynamic-import';\nexport const RSC_ACTION_ENCRYPTION_ALIAS = 'private-next-rsc-action-encryption';\nexport const RSC_ACTION_CLIENT_WRAPPER_ALIAS = 'private-next-rsc-action-client-wrapper';\nexport const PUBLIC_DIR_MIDDLEWARE_CONFLICT = `You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict`;\nexport const SSG_GET_INITIAL_PROPS_CONFLICT = `You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps`;\nexport const SERVER_PROPS_GET_INIT_PROPS_CONFLICT = `You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.`;\nexport const SERVER_PROPS_SSG_CONFLICT = `You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps`;\nexport const STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR = `can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props`;\nexport const SERVER_PROPS_EXPORT_ERROR = `pages with \\`getServerSideProps\\` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export`;\nexport const GSP_NO_RETURNED_VALUE = 'Your `getStaticProps` function did not return an object. Did you forget to add a `return`?';\nexport const GSSP_NO_RETURNED_VALUE = 'Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?';\nexport const UNSTABLE_REVALIDATE_RENAME_ERROR = 'The `unstable_revalidate` property is available for general use.\\n' + 'Please use `revalidate` instead.';\nexport const GSSP_COMPONENT_MEMBER_ERROR = `can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member`;\nexport const NON_STANDARD_NODE_ENV = `You are using a non-standard \"NODE_ENV\" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env`;\nexport const SSG_FALLBACK_EXPORT_ERROR = `Pages with \\`fallback\\` enabled in \\`getStaticPaths\\` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export`;\nexport const ESLINT_DEFAULT_DIRS = [\n    'app',\n    'pages',\n    'components',\n    'lib',\n    'src'\n];\nexport const SERVER_RUNTIME = {\n    edge: 'edge',\n    experimentalEdge: 'experimental-edge',\n    nodejs: 'nodejs'\n};\nexport const WEB_SOCKET_MAX_RECONNECTIONS = 12;\n/**\n * The names of the webpack layers. These layers are the primitives for the\n * webpack chunks.\n */ const WEBPACK_LAYERS_NAMES = {\n    /**\n   * The layer for the shared code between the client and server bundles.\n   */ shared: 'shared',\n    /**\n   * The layer for server-only runtime and picking up `react-server` export conditions.\n   * Including app router RSC pages and app router custom routes and metadata routes.\n   */ reactServerComponents: 'rsc',\n    /**\n   * Server Side Rendering layer for app (ssr).\n   */ serverSideRendering: 'ssr',\n    /**\n   * The browser client bundle layer for actions.\n   */ actionBrowser: 'action-browser',\n    /**\n   * The Node.js bundle layer for the API routes.\n   */ apiNode: 'api-node',\n    /**\n   * The Edge Lite bundle layer for the API routes.\n   */ apiEdge: 'api-edge',\n    /**\n   * The layer for the middleware code.\n   */ middleware: 'middleware',\n    /**\n   * The layer for the instrumentation hooks.\n   */ instrument: 'instrument',\n    /**\n   * The layer for assets on the edge.\n   */ edgeAsset: 'edge-asset',\n    /**\n   * The browser client bundle layer for App directory.\n   */ appPagesBrowser: 'app-pages-browser',\n    /**\n   * The browser client bundle layer for Pages directory.\n   */ pagesDirBrowser: 'pages-dir-browser',\n    /**\n   * The Edge Lite bundle layer for Pages directory.\n   */ pagesDirEdge: 'pages-dir-edge',\n    /**\n   * The Node.js bundle layer for Pages directory.\n   */ pagesDirNode: 'pages-dir-node'\n};\nconst WEBPACK_LAYERS = {\n    ...WEBPACK_LAYERS_NAMES,\n    GROUP: {\n        builtinReact: [\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.actionBrowser\n        ],\n        serverOnly: [\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.actionBrowser,\n            WEBPACK_LAYERS_NAMES.instrument,\n            WEBPACK_LAYERS_NAMES.middleware\n        ],\n        neutralTarget: [\n            // pages api\n            WEBPACK_LAYERS_NAMES.apiNode,\n            WEBPACK_LAYERS_NAMES.apiEdge\n        ],\n        clientOnly: [\n            WEBPACK_LAYERS_NAMES.serverSideRendering,\n            WEBPACK_LAYERS_NAMES.appPagesBrowser\n        ],\n        bundled: [\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.actionBrowser,\n            WEBPACK_LAYERS_NAMES.serverSideRendering,\n            WEBPACK_LAYERS_NAMES.appPagesBrowser,\n            WEBPACK_LAYERS_NAMES.shared,\n            WEBPACK_LAYERS_NAMES.instrument,\n            WEBPACK_LAYERS_NAMES.middleware\n        ],\n        appPages: [\n            // app router pages and layouts\n            WEBPACK_LAYERS_NAMES.reactServerComponents,\n            WEBPACK_LAYERS_NAMES.serverSideRendering,\n            WEBPACK_LAYERS_NAMES.appPagesBrowser,\n            WEBPACK_LAYERS_NAMES.actionBrowser\n        ]\n    }\n};\nconst WEBPACK_RESOURCE_QUERIES = {\n    edgeSSREntry: '__next_edge_ssr_entry__',\n    metadata: '__next_metadata__',\n    metadataRoute: '__next_metadata_route__',\n    metadataImageMeta: '__next_metadata_image_meta__'\n};\nexport { WEBPACK_LAYERS, WEBPACK_RESOURCE_QUERIES };\n\n//# sourceMappingURL=constants.js.map","export class ReflectAdapter {\n    static get(target, prop, receiver) {\n        const value = Reflect.get(target, prop, receiver);\n        if (typeof value === 'function') {\n            return value.bind(target);\n        }\n        return value;\n    }\n    static set(target, prop, value, receiver) {\n        return Reflect.set(target, prop, value, receiver);\n    }\n    static has(target, prop) {\n        return Reflect.has(target, prop);\n    }\n    static deleteProperty(target, prop) {\n        return Reflect.deleteProperty(target, prop);\n    }\n}\n\n//# sourceMappingURL=reflect.js.map","import { HeadersAdapter } from '../web/spec-extension/adapters/headers';\nimport { PRERENDER_REVALIDATE_HEADER, PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER } from '../../lib/constants';\nimport { getTracer } from '../lib/trace/tracer';\nimport { NodeSpan } from '../lib/trace/constants';\nexport function wrapApiHandler(page, handler) {\n    return (...args)=>{\n        getTracer().setRootSpanAttribute('next.route', page);\n        // Call API route method\n        return getTracer().trace(NodeSpan.runHandler, {\n            spanName: `executing api route (pages) ${page}`\n        }, ()=>handler(...args));\n    };\n}\n/**\n *\n * @param res response object\n * @param statusCode `HTTP` status code of response\n */ export function sendStatusCode(res, statusCode) {\n    res.statusCode = statusCode;\n    return res;\n}\n/**\n *\n * @param res response object\n * @param [statusOrUrl] `HTTP` status code of redirect\n * @param url URL of redirect\n */ export function redirect(res, statusOrUrl, url) {\n    if (typeof statusOrUrl === 'string') {\n        url = statusOrUrl;\n        statusOrUrl = 307;\n    }\n    if (typeof statusOrUrl !== 'number' || typeof url !== 'string') {\n        throw Object.defineProperty(new Error(`Invalid redirect arguments. Please use a single argument URL, e.g. res.redirect('/destination') or use a status code and URL, e.g. res.redirect(307, '/destination').`), \"__NEXT_ERROR_CODE\", {\n            value: \"E389\",\n            enumerable: false,\n            configurable: true\n        });\n    }\n    res.writeHead(statusOrUrl, {\n        Location: url\n    });\n    res.write(url);\n    res.end();\n    return res;\n}\nexport function checkIsOnDemandRevalidate(req, previewProps) {\n    const headers = HeadersAdapter.from(req.headers);\n    const previewModeId = headers.get(PRERENDER_REVALIDATE_HEADER);\n    const isOnDemandRevalidate = previewModeId === previewProps.previewModeId;\n    const revalidateOnlyGenerated = headers.has(PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER);\n    return {\n        isOnDemandRevalidate,\n        revalidateOnlyGenerated\n    };\n}\nexport const COOKIE_NAME_PRERENDER_BYPASS = `__prerender_bypass`;\nexport const COOKIE_NAME_PRERENDER_DATA = `__next_preview_data`;\nexport const RESPONSE_LIMIT_DEFAULT = 4 * 1024 * 1024;\nexport const SYMBOL_PREVIEW_DATA = Symbol(COOKIE_NAME_PRERENDER_DATA);\nexport const SYMBOL_CLEARED_COOKIES = Symbol(COOKIE_NAME_PRERENDER_BYPASS);\nexport function clearPreviewData(res, options = {}) {\n    if (SYMBOL_CLEARED_COOKIES in res) {\n        return res;\n    }\n    const { serialize } = require('next/dist/compiled/cookie');\n    const previous = res.getHeader('Set-Cookie');\n    res.setHeader(`Set-Cookie`, [\n        ...typeof previous === 'string' ? [\n            previous\n        ] : Array.isArray(previous) ? previous : [],\n        serialize(COOKIE_NAME_PRERENDER_BYPASS, '', {\n            // To delete a cookie, set `expires` to a date in the past:\n            // https://tools.ietf.org/html/rfc6265#section-4.1.1\n            // `Max-Age: 0` is not valid, thus ignored, and the cookie is persisted.\n            expires: new Date(0),\n            httpOnly: true,\n            sameSite: process.env.NODE_ENV !== 'development' ? 'none' : 'lax',\n            secure: process.env.NODE_ENV !== 'development',\n            path: '/',\n            ...options.path !== undefined ? {\n                path: options.path\n            } : undefined\n        }),\n        serialize(COOKIE_NAME_PRERENDER_DATA, '', {\n            // To delete a cookie, set `expires` to a date in the past:\n            // https://tools.ietf.org/html/rfc6265#section-4.1.1\n            // `Max-Age: 0` is not valid, thus ignored, and the cookie is persisted.\n            expires: new Date(0),\n            httpOnly: true,\n            sameSite: process.env.NODE_ENV !== 'development' ? 'none' : 'lax',\n            secure: process.env.NODE_ENV !== 'development',\n            path: '/',\n            ...options.path !== undefined ? {\n                path: options.path\n            } : undefined\n        })\n    ]);\n    Object.defineProperty(res, SYMBOL_CLEARED_COOKIES, {\n        value: true,\n        enumerable: false\n    });\n    return res;\n}\n/**\n * Custom error class\n */ export class ApiError extends Error {\n    constructor(statusCode, message){\n        super(message);\n        this.statusCode = statusCode;\n    }\n}\n/**\n * Sends error in `response`\n * @param res response object\n * @param statusCode of response\n * @param message of response\n */ export function sendError(res, statusCode, message) {\n    res.statusCode = statusCode;\n    res.statusMessage = message;\n    res.end(message);\n}\n/**\n * Execute getter function only if its needed\n * @param LazyProps `req` and `params` for lazyProp\n * @param prop name of property\n * @param getter function to get data\n */ export function setLazyProp({ req }, prop, getter) {\n    const opts = {\n        configurable: true,\n        enumerable: true\n    };\n    const optsReset = {\n        ...opts,\n        writable: true\n    };\n    Object.defineProperty(req, prop, {\n        ...opts,\n        get: ()=>{\n            const value = getter();\n            // we set the property on the object to avoid recalculating it\n            Object.defineProperty(req, prop, {\n                ...optsReset,\n                value\n            });\n            return value;\n        },\n        set: (value)=>{\n            Object.defineProperty(req, prop, {\n                ...optsReset,\n                value\n            });\n        }\n    });\n}\n\n//# sourceMappingURL=index.js.map","import { ReflectAdapter } from './reflect';\n/**\n * @internal\n */ export class ReadonlyHeadersError extends Error {\n    constructor(){\n        super('Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers');\n    }\n    static callable() {\n        throw new ReadonlyHeadersError();\n    }\n}\nexport class HeadersAdapter extends Headers {\n    constructor(headers){\n        // We've already overridden the methods that would be called, so we're just\n        // calling the super constructor to ensure that the instanceof check works.\n        super();\n        this.headers = new Proxy(headers, {\n            get (target, prop, receiver) {\n                // Because this is just an object, we expect that all \"get\" operations\n                // are for properties. If it's a \"get\" for a symbol, we'll just return\n                // the symbol.\n                if (typeof prop === 'symbol') {\n                    return ReflectAdapter.get(target, prop, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return undefined.\n                if (typeof original === 'undefined') return;\n                // If the original casing exists, return the value.\n                return ReflectAdapter.get(target, original, receiver);\n            },\n            set (target, prop, value, receiver) {\n                if (typeof prop === 'symbol') {\n                    return ReflectAdapter.set(target, prop, value, receiver);\n                }\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, use the prop as the key.\n                return ReflectAdapter.set(target, original ?? prop, value, receiver);\n            },\n            has (target, prop) {\n                if (typeof prop === 'symbol') return ReflectAdapter.has(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return false.\n                if (typeof original === 'undefined') return false;\n                // If the original casing exists, return true.\n                return ReflectAdapter.has(target, original);\n            },\n            deleteProperty (target, prop) {\n                if (typeof prop === 'symbol') return ReflectAdapter.deleteProperty(target, prop);\n                const lowercased = prop.toLowerCase();\n                // Let's find the original casing of the key. This assumes that there is\n                // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n                // headers object.\n                const original = Object.keys(headers).find((o)=>o.toLowerCase() === lowercased);\n                // If the original casing doesn't exist, return true.\n                if (typeof original === 'undefined') return true;\n                // If the original casing exists, delete the property.\n                return ReflectAdapter.deleteProperty(target, original);\n            }\n        });\n    }\n    /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */ static seal(headers) {\n        return new Proxy(headers, {\n            get (target, prop, receiver) {\n                switch(prop){\n                    case 'append':\n                    case 'delete':\n                    case 'set':\n                        return ReadonlyHeadersError.callable;\n                    default:\n                        return ReflectAdapter.get(target, prop, receiver);\n                }\n            }\n        });\n    }\n    /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */ merge(value) {\n        if (Array.isArray(value)) return value.join(', ');\n        return value;\n    }\n    /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */ static from(headers) {\n        if (headers instanceof Headers) return headers;\n        return new HeadersAdapter(headers);\n    }\n    append(name, value) {\n        const existing = this.headers[name];\n        if (typeof existing === 'string') {\n            this.headers[name] = [\n                existing,\n                value\n            ];\n        } else if (Array.isArray(existing)) {\n            existing.push(value);\n        } else {\n            this.headers[name] = value;\n        }\n    }\n    delete(name) {\n        delete this.headers[name];\n    }\n    get(name) {\n        const value = this.headers[name];\n        if (typeof value !== 'undefined') return this.merge(value);\n        return null;\n    }\n    has(name) {\n        return typeof this.headers[name] !== 'undefined';\n    }\n    set(name, value) {\n        this.headers[name] = value;\n    }\n    forEach(callbackfn, thisArg) {\n        for (const [name, value] of this.entries()){\n            callbackfn.call(thisArg, value, name, this);\n        }\n    }\n    *entries() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(name);\n            yield [\n                name,\n                value\n            ];\n        }\n    }\n    *keys() {\n        for (const key of Object.keys(this.headers)){\n            const name = key.toLowerCase();\n            yield name;\n        }\n    }\n    *values() {\n        for (const key of Object.keys(this.headers)){\n            // We assert here that this is a string because we got it from the\n            // Object.keys() call above.\n            const value = this.get(key);\n            yield value;\n        }\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n}\n\n//# sourceMappingURL=headers.js.map","export const enum RouteKind {\n  /**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */\n  PAGES = 'PAGES',\n  /**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */\n  PAGES_API = 'PAGES_API',\n  /**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */\n  APP_PAGE = 'APP_PAGE',\n  /**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */\n  APP_ROUTE = 'APP_ROUTE',\n\n  /**\n   * `IMAGE` represents all the images that are generated by `next/image`.\n   */\n  IMAGE = 'IMAGE',\n}\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/pages-api/module.js')\n} else {\n  if (process.env.NODE_ENV === 'development') {\n    if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/pages-api-turbo.runtime.dev.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/pages-api.runtime.dev.js')\n    }\n  } else {\n    if (process.env.TURBOPACK) {\n      module.exports = require('next/dist/compiled/next-server/pages-api-turbo.runtime.prod.js')\n    } else {\n      module.exports = require('next/dist/compiled/next-server/pages-api.runtime.prod.js')\n    }\n  }\n}\n","/**\n * Hoists a name from a module or promised module.\n *\n * @param module the module to hoist the name from\n * @param name the name to hoist\n * @returns the value on the module (or promised module)\n */\nexport function hoist(module: any, name: string) {\n  // If the name is available in the module, return it.\n  if (name in module) {\n    return module[name]\n  }\n\n  // If a property called `then` exists, assume it's a promise and\n  // return a promise that resolves to the name.\n  if ('then' in module && typeof module.then === 'function') {\n    return module.then((mod: any) => hoist(mod, name))\n  }\n\n  // If we're trying to hoise the default export, and the module is a function,\n  // return the module itself.\n  if (typeof module === 'function' && name === 'default') {\n    return module\n  }\n\n  // Otherwise, return undefined.\n  return undefined\n}\n","import Cors from 'cors';\nimport type { NextApiRequest, NextApiResponse } from 'next';\n\n// Helper method to wait for a middleware to execute before continuing\n// And to throw an error when an error happens in a middleware\n// eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\nexport const runMiddleware = (req: NextApiRequest, res: NextApiResponse, fn: Function) => {\n  return new Promise((resolve, reject) => {\n    fn(req, res, (result: unknown) => {\n      if (result instanceof Error) {\n        return reject(result);\n      }\n\n      return resolve(result);\n    });\n  });\n};\n\nexport const corsAllMethods = Cors({\n  methods: ['POST', 'GET', 'PUT', 'DELETE', 'HEAD', 'OPTIONS'],\n  maxAge: 86400,\n});\n","import { jwtVerify, SignJWT } from 'jose';\n\n// \n// API\nconst SECRET_KEY = process.env['AUTH_SECRET'] || 'dev-secret';\nconst USER_PASSWORD = process.env['AUTH_PASSWORD'] || 'changeme-' + Math.random().toString(36).substring(2, 15);\nconst USERNAME = 'xingjjjjj';\n\n//  .env.web \n// if (typeof window === 'undefined') {\n//     console.log('\\n========== READEST AUTHENTICATION ==========');\n//     console.log(`Username: ${USERNAME}`);\n//     console.log(`Password: ${USER_PASSWORD}`);\n//     console.log(`Secret Key: ${SECRET_KEY}`);\n//     console.log('==========================================\\n');\n// }\n\nconst key = new TextEncoder().encode(SECRET_KEY);\n\nexport interface AuthPayload {\n    username: string;\n    iat?: number;\n    exp?: number;\n}\n\n/**\n *  JWT \n */\nexport async function createJWT(username: string): Promise<string> {\n    const token = await new SignJWT({ username })\n        .setProtectedHeader({ alg: 'HS256' })\n        .setIssuedAt()\n        .setExpirationTime('30d')\n        .sign(key);\n\n    return token;\n}\n\n/**\n *  JWT \n */\nexport async function verifyJWT(token: string): Promise<AuthPayload | null> {\n    try {\n        const verified = await jwtVerify(token, key);\n        return verified.payload as unknown as AuthPayload;\n    } catch {\n        return null;\n    }\n}\n\n/**\n * \n */\nexport function validateCredentials(username: string, password: string): boolean {\n    return username === USERNAME && password === USER_PASSWORD;\n}\n\n/**\n *  Authorization header \n */\nexport function extractToken(authHeader: string | null): string | null {\n    if (!authHeader) return null;\n\n    const parts = authHeader.split(' ');\n    if (parts.length !== 2 || parts[0] !== 'Bearer') {\n        return null;\n    }\n\n    return parts[1] ?? null;\n}\n\n/**\n * \n */\nexport function getCredentials(): { username: string; password: string; secret: string } {\n    return {\n        username: USERNAME,\n        password: USER_PASSWORD,\n        secret: SECRET_KEY,\n    };\n}\n","import { Book } from '@/types/book';\nimport { isSameLang } from '@/utils/lang';\nimport { getLocale } from '@/utils/misc';\n\nconst DAILY_USAGE_KEY = 'translationDailyUsage';\n\nexport const saveDailyUsage = (usage: number, date?: string) => {\n  if (typeof window !== 'undefined') {\n    const isoDate = date || new Date().toISOString().split('T')[0]!;\n    const dailyUsage = { [isoDate]: usage };\n    localStorage.setItem(DAILY_USAGE_KEY, JSON.stringify(dailyUsage));\n  }\n};\n\nexport const getDailyUsage = (date?: string): number | null => {\n  if (typeof window !== 'undefined') {\n    const isoDate = date || new Date().toISOString().split('T')[0]!;\n    const usage = localStorage.getItem(DAILY_USAGE_KEY);\n    if (usage) {\n      const dailyUsage = JSON.parse(usage);\n      if (dailyUsage[isoDate]) {\n        return dailyUsage[isoDate];\n      }\n    }\n  }\n  return null;\n};\n\nexport const isTranslationAvailable = (book?: Book | null, targetLanguage?: string | null) => {\n  if (!book || book.format === 'PDF') {\n    return false;\n  }\n\n  const primaryLanguage = book.primaryLanguage || '';\n  if (!primaryLanguage || primaryLanguage.toLowerCase() === 'und') {\n    return false;\n  }\n\n  if (targetLanguage && isSameLang(primaryLanguage, targetLanguage)) {\n    return false;\n  }\n\n  if (!targetLanguage && isSameLang(primaryLanguage, getLocale())) {\n    return false;\n  }\n\n  return true;\n};\n","import { jwtDecode } from 'jwt-decode';\nimport { verifyJWT } from '@/utils/jwt';\nimport { UserPlan } from '@/types/quota';\nimport { DEFAULT_DAILY_TRANSLATION_QUOTA, DEFAULT_STORAGE_QUOTA } from '@/services/constants';\nimport { isWebAppPlatform } from '@/services/environment';\nimport { getDailyUsage } from '@/services/translators/utils';\n\ninterface Token {\n  plan: UserPlan;\n  storage_usage_bytes: number;\n  storage_purchased_bytes: number;\n  [key: string]: string | number;\n}\n\nexport const getSubscriptionPlan = (token: string): UserPlan => {\n  const data = jwtDecode<Token>(token) || {};\n  return data['plan'] || 'free';\n};\n\nexport const getUserProfilePlan = (token: string): UserPlan => {\n  const data = jwtDecode<Token>(token) || {};\n  let plan = data['plan'] || 'free';\n  if (plan === 'free') {\n    const purchasedQuota = data['storage_purchased_bytes'] || 0;\n    if (purchasedQuota > 0) {\n      plan = 'purchase';\n    }\n  }\n  return plan;\n};\n\nexport const STORAGE_QUOTA_GRACE_BYTES = 10 * 1024 * 1024; // 10 MB grace\n\nexport const getStoragePlanData = (token: string) => {\n  const data = jwtDecode<Token>(token) || {};\n  const plan = data['plan'] || 'free';\n  const usage = data['storage_usage_bytes'] || 0;\n  const purchasedQuota = data['storage_purchased_bytes'] || 0;\n  const fixedQuota = parseInt(process.env['NEXT_PUBLIC_STORAGE_FIXED_QUOTA'] || '0');\n  const planQuota = fixedQuota || DEFAULT_STORAGE_QUOTA[plan] || DEFAULT_STORAGE_QUOTA['free'];\n  const quota = planQuota + purchasedQuota;\n\n  return {\n    plan,\n    usage,\n    quota,\n  };\n};\n\nexport const getTranslationPlanData = (token: string) => {\n  const data = jwtDecode<Token>(token) || {};\n  const plan: UserPlan = data['plan'] || 'free';\n  const usage = getDailyUsage() || 0;\n  const quota = DEFAULT_DAILY_TRANSLATION_QUOTA[plan];\n\n  return {\n    plan,\n    usage,\n    quota,\n  };\n};\n\nexport const getDailyTranslationPlanData = (token: string) => {\n  const data = jwtDecode<Token>(token) || {};\n  const plan = data['plan'] || 'free';\n  const fixedQuota = parseInt(process.env['NEXT_PUBLIC_TRANSLATION_FIXED_QUOTA'] || '0');\n  const quota =\n    fixedQuota || DEFAULT_DAILY_TRANSLATION_QUOTA[plan] || DEFAULT_DAILY_TRANSLATION_QUOTA['free'];\n\n  return {\n    plan,\n    quota,\n  };\n};\n\nexport const getAccessToken = async (): Promise<string | null> => {\n  // Get token from localStorage (client-side) or from request (server-side)\n  if (isWebAppPlatform()) {\n    return localStorage.getItem('token') ?? null;\n  }\n  return null;\n};\n\nexport const getUserID = async (): Promise<string | null> => {\n  if (isWebAppPlatform()) {\n    const user = localStorage.getItem('user') ?? '{}';\n    return JSON.parse(user).id ?? null;\n  }\n  return null;\n};\n\nexport const validateUserAndToken = async (authHeader: string | null | undefined) => {\n  if (!authHeader) return {};\n\n  const token = authHeader.replace('Bearer ', '');\n  try {\n    const payload = await verifyJWT(token);\n    if (!payload) return {};\n    return { user: { id: 'xingjjjjj', email: 'admin@local' }, token };\n  } catch (error) {\n    return {};\n  }\n};\n","import { TranslatorName } from './providers';\n\nexport interface TranslationProvider {\n  name: string;\n  label: string;\n  authRequired?: boolean;\n  quotaExceeded?: boolean;\n  translate: (\n    texts: string[],\n    sourceLang: string,\n    targetLang: string,\n    token?: string | null,\n    useCache?: boolean,\n  ) => Promise<string[]>;\n}\n\nexport interface TranslationCache {\n  [key: string]: string;\n}\n\nexport interface UseTranslatorOptions {\n  provider?: TranslatorName;\n  sourceLang?: string;\n  targetLang?: string;\n  enablePolishing?: boolean;\n  enablePreprocessing?: boolean;\n}\n\nexport const ErrorCodes = {\n  UNAUTHORIZED: 'Unauthorized',\n  DEEPL_API_ERROR: 'DeepL API Error',\n  DAILY_QUOTA_EXCEEDED: 'Daily Quota Exceeded',\n  INTERNAL_SERVER_ERROR: 'Internal Server Error',\n};\n","import { TranslationCache } from './types';\n\nconst DB_NAME = 'TranslationCache';\nconst DB_VERSION = 1;\nconst STORE_NAME = 'translations';\n\ninterface CacheEntry {\n  key: string;\n  translation: string;\n  timestamp: number;\n  provider: string;\n  sourceLang: string;\n  targetLang: string;\n  originalText: string;\n}\n\nconst memoryCache: TranslationCache = {};\nconst memoryTimestamps: Record<string, number> = {};\n\nconst openDatabase = (): Promise<IDBDatabase> => {\n  return new Promise((resolve, reject) => {\n    if (!window.indexedDB) {\n      console.warn('IndexedDB not supported. Using in-memory cache only.');\n      reject(new Error('IndexedDB not supported'));\n      return;\n    }\n\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\n\n    request.onerror = (event) => {\n      console.error('IndexedDB error:', event);\n      reject(new Error('Could not open IndexedDB'));\n    };\n\n    request.onsuccess = (event) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n      resolve(db);\n    };\n\n    request.onupgradeneeded = (event) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n\n      if (!db.objectStoreNames.contains(STORE_NAME)) {\n        const store = db.createObjectStore(STORE_NAME, { keyPath: 'key' });\n        store.createIndex('provider', 'provider', { unique: false });\n        store.createIndex('timestamp', 'timestamp', { unique: false });\n      }\n    };\n  });\n};\n\nexport const loadCacheFromDB = async (\n  options: {\n    maxAge?: number;\n    maxEntries?: number;\n    onlyLoadProviders?: string[];\n    onlyLoadLanguages?: { source?: string[]; target?: string[] };\n  } = {},\n): Promise<void> => {\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n\n    let request: IDBRequest;\n    if (options.onlyLoadProviders && options.onlyLoadProviders.length > 0) {\n      const providerPromises = options.onlyLoadProviders.map((provider) => {\n        return new Promise<CacheEntry[]>((resolve) => {\n          const providerIndex = store.index('provider');\n          const request = providerIndex.getAll(provider);\n\n          request.onsuccess = () => {\n            resolve(request.result);\n          };\n\n          request.onerror = () => {\n            resolve([]);\n          };\n        });\n      });\n\n      const allEntries = (await Promise.all(providerPromises)).flat();\n      processLoadedEntries(allEntries, options);\n    } else {\n      request = store.getAll();\n\n      request.onsuccess = () => {\n        const entries = request.result as CacheEntry[];\n        processLoadedEntries(entries, options);\n      };\n\n      request.onerror = (event) => {\n        console.error('Error loading cache from IndexedDB:', event);\n      };\n    }\n\n    transaction.oncomplete = () => {\n      db.close();\n    };\n  } catch (error) {\n    console.error('Failed to load cache from IndexedDB:', error);\n  }\n};\n\nconst processLoadedEntries = (\n  entries: CacheEntry[],\n  options: {\n    maxAge?: number;\n    maxEntries?: number;\n    onlyLoadLanguages?: { source?: string[]; target?: string[] };\n  },\n): void => {\n  let filteredEntries = entries;\n\n  if (options.maxAge) {\n    const cutoff = Date.now() - options.maxAge;\n    filteredEntries = filteredEntries.filter((entry) => entry.timestamp >= cutoff);\n  }\n\n  if (options.onlyLoadLanguages) {\n    if (options.onlyLoadLanguages.source && options.onlyLoadLanguages.source.length > 0) {\n      filteredEntries = filteredEntries.filter((entry) =>\n        options.onlyLoadLanguages!.source!.includes(entry.sourceLang),\n      );\n    }\n\n    if (options.onlyLoadLanguages.target && options.onlyLoadLanguages.target.length > 0) {\n      filteredEntries = filteredEntries.filter((entry) =>\n        options.onlyLoadLanguages!.target!.includes(entry.targetLang),\n      );\n    }\n  }\n\n  if (options.maxEntries && filteredEntries.length > options.maxEntries) {\n    filteredEntries.sort((a, b) => b.timestamp - a.timestamp);\n    filteredEntries = filteredEntries.slice(0, options.maxEntries);\n  }\n\n  filteredEntries.forEach((entry) => {\n    memoryCache[entry.key] = entry.translation;\n    memoryTimestamps[entry.key] = entry.timestamp;\n  });\n\n  // console.log(`Loaded ${filteredEntries.length} translations into memory cache`);\n};\n\nexport const getCacheKey = (\n  text: string,\n  sourceLang: string,\n  targetLang: string,\n  provider: string,\n): string => {\n  return `${provider}:${sourceLang}:${targetLang}:${text}`;\n};\n\nexport const getFromCache = async (\n  text: string,\n  sourceLang: string,\n  targetLang: string,\n  provider: string,\n): Promise<string | null> => {\n  if (!text?.trim()) return null;\n\n  const key = getCacheKey(text, sourceLang, targetLang, provider);\n\n  if (memoryCache[key]) {\n    return memoryCache[key];\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n    const request = store.get(key);\n\n    return new Promise((resolve) => {\n      request.onsuccess = () => {\n        const entry = request.result as CacheEntry;\n        if (entry) {\n          memoryCache[key] = entry.translation;\n          memoryTimestamps[key] = entry.timestamp;\n          resolve(entry.translation);\n        } else {\n          resolve(null);\n        }\n      };\n\n      request.onerror = () => {\n        resolve(null);\n      };\n\n      transaction.oncomplete = () => {\n        db.close();\n      };\n    });\n  } catch (error) {\n    console.error('Error accessing IndexedDB:', error);\n    return null;\n  }\n};\n\nexport const storeInCache = async (\n  text: string,\n  translation: string,\n  sourceLang: string,\n  targetLang: string,\n  provider: string,\n): Promise<void> => {\n  if (!text?.trim() || !translation) return;\n\n  const key = getCacheKey(text, sourceLang, targetLang, provider);\n  const timestamp = Date.now();\n\n  memoryCache[key] = translation;\n  memoryTimestamps[key] = timestamp;\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n\n    const entry: CacheEntry = {\n      key,\n      translation,\n      timestamp,\n      provider,\n      sourceLang,\n      targetLang,\n      originalText: text,\n    };\n\n    store.put(entry);\n\n    return new Promise((resolve, reject) => {\n      transaction.oncomplete = () => {\n        db.close();\n        resolve();\n      };\n\n      transaction.onerror = (event) => {\n        console.error('Error storing in IndexedDB:', event);\n        reject(new Error('Failed to store in IndexedDB'));\n      };\n    });\n  } catch (error) {\n    console.error('Error accessing IndexedDB:', error);\n  }\n};\n\nexport interface CacheFilterOptions {\n  provider?: string;\n  maxAge?: number;\n}\n\nexport const clearCache = async (filter?: CacheFilterOptions): Promise<number> => {\n  let deletedCount = 0;\n\n  if (!filter) {\n    const count = Object.keys(memoryCache).length;\n    Object.keys(memoryCache).forEach((key) => {\n      delete memoryCache[key];\n      delete memoryTimestamps[key];\n    });\n    deletedCount = count;\n  } else {\n    const keysToDelete: string[] = [];\n\n    Object.keys(memoryCache).forEach((key) => {\n      let shouldDelete = true;\n\n      if (filter.provider) {\n        const parts = key.split(':');\n        const provider = parts[0];\n\n        if (filter.provider && provider !== filter.provider) {\n          shouldDelete = false;\n        }\n      }\n\n      if (shouldDelete && filter.maxAge && memoryTimestamps[key]) {\n        const timestamp = memoryTimestamps[key];\n        if (Date.now() - timestamp < filter.maxAge) {\n          shouldDelete = false;\n        }\n      }\n\n      if (shouldDelete) {\n        keysToDelete.push(key);\n      }\n    });\n\n    keysToDelete.forEach((key) => {\n      delete memoryCache[key];\n      delete memoryTimestamps[key];\n    });\n\n    deletedCount = keysToDelete.length;\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n\n    if (!filter) {\n      store.clear();\n    } else {\n      const request = store.getAll();\n\n      request.onsuccess = () => {\n        const entries = request.result as CacheEntry[];\n        const filteredEntries = entries.filter((entry) => {\n          if (filter.provider && entry.provider !== filter.provider) {\n            return false;\n          }\n\n          if (filter.maxAge && Date.now() - entry.timestamp >= filter.maxAge) {\n            return true;\n          }\n\n          return true;\n        });\n\n        filteredEntries.forEach((entry) => {\n          store.delete(entry.key);\n        });\n      };\n    }\n\n    return new Promise((resolve) => {\n      transaction.oncomplete = () => {\n        db.close();\n        resolve(deletedCount);\n      };\n\n      transaction.onerror = () => {\n        db.close();\n        resolve(deletedCount);\n      };\n    });\n  } catch (error) {\n    console.error('Error clearing IndexedDB cache:', error);\n    return deletedCount;\n  }\n};\n\nexport const getCacheStats = async (\n  includeDB: boolean = false,\n): Promise<{\n  memoryCacheEntries: number;\n  memoryCacheSizeInBytes: number;\n  dbCacheEntries?: number;\n  dbCacheSizeInBytes?: number;\n  totalEntries?: number;\n  totalSizeInBytes?: number;\n}> => {\n  const memoryCacheEntries = Object.keys(memoryCache).length;\n\n  let memoryCacheSizeInBytes = 0;\n  for (const key in memoryCache) {\n    memoryCacheSizeInBytes += key.length;\n\n    const value = memoryCache[key] || '';\n    memoryCacheSizeInBytes += value.length;\n  }\n\n  if (!includeDB) {\n    return { memoryCacheEntries, memoryCacheSizeInBytes };\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, 'readonly');\n    const store = transaction.objectStore(STORE_NAME);\n    const countRequest = store.count();\n\n    return new Promise((resolve) => {\n      countRequest.onsuccess = () => {\n        const dbCacheEntries = countRequest.result;\n\n        const getAllRequest = store.getAll();\n\n        getAllRequest.onsuccess = () => {\n          const entries = getAllRequest.result as CacheEntry[];\n\n          let dbCacheSizeInBytes = 0;\n          entries.forEach((entry) => {\n            const entryString = JSON.stringify(entry);\n            dbCacheSizeInBytes += entryString.length;\n          });\n\n          const totalEntries =\n            memoryCacheEntries + dbCacheEntries - Math.min(memoryCacheEntries, dbCacheEntries);\n\n          const totalSizeInBytes = memoryCacheSizeInBytes + dbCacheSizeInBytes;\n\n          resolve({\n            memoryCacheEntries,\n            memoryCacheSizeInBytes,\n            dbCacheEntries,\n            dbCacheSizeInBytes,\n            totalEntries,\n            totalSizeInBytes,\n          });\n        };\n      };\n\n      transaction.oncomplete = () => {\n        db.close();\n      };\n\n      transaction.onerror = () => {\n        db.close();\n        resolve({\n          memoryCacheEntries,\n          memoryCacheSizeInBytes,\n        });\n      };\n    });\n  } catch (error) {\n    console.error('Error getting IndexedDB stats:', error);\n    return { memoryCacheEntries, memoryCacheSizeInBytes };\n  }\n};\n\nexport const pruneCache = async (\n  options: {\n    maxAge?: number;\n    maxEntries?: number;\n    maxSizeInBytes?: number;\n    dryRun?: boolean;\n  } = {},\n): Promise<number> => {\n  const { maxAge, maxEntries, maxSizeInBytes, dryRun = false } = options;\n\n  if (!maxAge && !maxEntries && !maxSizeInBytes) {\n    return 0;\n  }\n\n  try {\n    const db = await openDatabase();\n    const transaction = db.transaction(STORE_NAME, dryRun ? 'readonly' : 'readwrite');\n    const store = transaction.objectStore(STORE_NAME);\n    const getAllRequest = store.getAll();\n\n    return new Promise((resolve) => {\n      getAllRequest.onsuccess = () => {\n        const entries = getAllRequest.result as CacheEntry[];\n        const entriesToPrune: CacheEntry[] = [];\n\n        if (maxAge) {\n          const cutoffTime = Date.now() - maxAge;\n          const agedEntries = entries.filter((entry) => entry.timestamp < cutoffTime);\n          entriesToPrune.push(...agedEntries);\n        }\n\n        if (maxEntries && entries.length > maxEntries) {\n          const sortedEntries = [...entries].sort((a, b) => a.timestamp - b.timestamp);\n          const excessEntries = sortedEntries.slice(0, entries.length - maxEntries);\n\n          const prunedKeys = new Set(entriesToPrune.map((e) => e.key));\n          excessEntries.forEach((entry) => {\n            if (!prunedKeys.has(entry.key)) {\n              entriesToPrune.push(entry);\n            }\n          });\n        }\n\n        if (maxSizeInBytes) {\n          let currentSize = 0;\n          entries.forEach((entry) => {\n            const entryString = JSON.stringify(entry);\n            currentSize += entryString.length;\n          });\n\n          if (currentSize > maxSizeInBytes) {\n            const remainingEntries = entries\n              .filter((entry) => !entriesToPrune.some((e) => e.key === entry.key))\n              .sort((a, b) => a.timestamp - b.timestamp);\n\n            let sizeToRemove = currentSize - maxSizeInBytes;\n            const prunedKeys = new Set(entriesToPrune.map((e) => e.key));\n\n            for (const entry of remainingEntries) {\n              if (sizeToRemove <= 0) break;\n\n              if (!prunedKeys.has(entry.key)) {\n                const entryString = JSON.stringify(entry);\n                const entrySize = entryString.length * 2;\n\n                entriesToPrune.push(entry);\n                prunedKeys.add(entry.key);\n                sizeToRemove -= entrySize;\n              }\n            }\n          }\n        }\n\n        const pruneCount = entriesToPrune.length;\n\n        if (!dryRun && pruneCount > 0) {\n          entriesToPrune.forEach((entry) => {\n            store.delete(entry.key);\n\n            delete memoryCache[entry.key];\n            delete memoryTimestamps[entry.key];\n          });\n        }\n\n        resolve(pruneCount);\n      };\n\n      getAllRequest.onerror = () => {\n        resolve(0);\n      };\n\n      transaction.oncomplete = () => {\n        db.close();\n      };\n    });\n  } catch (error) {\n    console.error('Error pruning cache:', error);\n    return 0;\n  }\n};\n\nexport const initCache = async (\n  options: {\n    preload?: boolean;\n    preloadOptions?: {\n      maxAge?: number;\n      maxEntries?: number;\n      onlyLoadProviders?: string[];\n      onlyLoadLanguages?: { source?: string[]; target?: string[] };\n    };\n    autoPrune?: boolean;\n    pruneInterval?: number;\n    pruneOptions?: {\n      maxAge?: number;\n      maxEntries?: number;\n      maxSizeInBytes?: number;\n    };\n  } = {},\n): Promise<() => void> => {\n  const {\n    preload = true,\n    preloadOptions = {\n      maxAge: 30 * 24 * 60 * 60 * 1000,\n      maxEntries: 10000,\n    },\n    autoPrune = true,\n    pruneInterval = 60 * 60 * 1000,\n    pruneOptions = {\n      maxAge: 90 * 24 * 60 * 60 * 1000,\n      maxEntries: 100000,\n      maxSizeInBytes: 10 * 1024 * 1024,\n    },\n  } = options;\n\n  if (preload) {\n    await loadCacheFromDB(preloadOptions);\n  }\n\n  let intervalId: number | null = null;\n\n  if (autoPrune) {\n    await pruneCache(pruneOptions);\n\n    intervalId = window.setInterval(async () => {\n      await pruneCache(pruneOptions);\n    }, pruneInterval);\n  }\n\n  return () => {\n    if (intervalId !== null) {\n      clearInterval(intervalId);\n    }\n  };\n};\n\nlet cleanupFunction: (() => void) | null = null;\n\nif (typeof window !== 'undefined') {\n  initCache().then((cleanup) => {\n    cleanupFunction = cleanup;\n  });\n\n  window.addEventListener('beforeunload', () => {\n    if (cleanupFunction) {\n      cleanupFunction();\n    }\n  });\n}\n","export type Polisher = (text: string) => string;\n\nconst languagePolishers: Record<string, Polisher> = {\n  // Chinese - fix punctuation spacing\n  zh: (text: string) =>\n    text\n      .replace(/--/g, '')\n      .replace(/\\s+([])/g, '$1')\n      .replace(/([])\\s+/g, '$1'),\n\n  // Spanish - fix punctuation spacing\n  es: (text: string) =>\n    text.replace(/\\?([A-Z])/g, '? $1').replace(/\\!([A-Z])/g, '! $1'),\n\n  // French - fix punctuation spacing\n  fr: (text: string) => text.replace(/\\s+([!?:;])/g, ' $1').replace(/([!?:;])\\s+/g, '$1 '),\n\n  // Japanese - fix punctuation spacing\n  ja: (text: string) => text.replace(/\\s+([])/g, '$1').replace(/([])\\s+/g, '$1'),\n};\n\nexport const basicPolish: Polisher = (text: string) => {\n  return text\n    .replace(/\\s+/g, ' ') // Multiple spaces to single space\n    .replace(/\\s+([.,!?;:])/g, '$1') // Remove space before punctuation\n    .trim();\n};\n\nexport function getPolisher(targetLang: string): Polisher {\n  const langCode = targetLang.split('-')[0]!.toLowerCase();\n  const languagePolisher = languagePolishers[langCode];\n\n  if (languagePolisher) {\n    return (text: string) => {\n      const basicPolished = basicPolish(text);\n      const polished = languagePolisher(basicPolished);\n      return polished;\n    };\n  }\n\n  return basicPolish;\n}\n\nexport function polish(texts: string[], targetLang: string): string[] {\n  const polisher = getPolisher(targetLang);\n  return texts.map(polisher);\n}\n","export type Preprocessor = (text: string) => string;\nexport type TextSubstitutions = Record<string, string>;\n\nconst defaultSubstitutions: TextSubstitutions = {\n  Cover: 'The Cover',\n  Dedication: 'Dedication Page',\n  Acknowledgements: 'The Acknowledgements',\n};\n\nexport const basicSubstitute = (text: string, substitutions: TextSubstitutions): string => {\n  const allSubstitutions = { ...defaultSubstitutions, ...substitutions };\n\n  if (Object.keys(allSubstitutions).length === 0) {\n    return text;\n  }\n\n  if (allSubstitutions[text]) {\n    return allSubstitutions[text];\n  }\n\n  return text;\n};\n\nexport function createPreprocessor(substitutions: TextSubstitutions = {}): Preprocessor {\n  return (text: string) => basicSubstitute(text, substitutions);\n}\n\nexport function preprocess(texts: string[], substitutions: TextSubstitutions = {}): string[] {\n  const preprocessor = createPreprocessor(substitutions);\n  return texts.map(preprocessor);\n}\n","import { getAPIBaseUrl } from '@/services/environment';\nimport { stubTranslation as _ } from '@/utils/misc';\nimport { ErrorCodes, TranslationProvider } from '../types';\nimport { UserPlan } from '@/types/quota';\nimport { getSubscriptionPlan } from '@/utils/access';\nimport { normalizeToShortLang } from '@/utils/lang';\nimport { DEFAULT_DAILY_TRANSLATION_QUOTA } from '@/services/constants';\nimport { saveDailyUsage } from '../utils';\n\nconst DEEPL_API_ENDPOINT = getAPIBaseUrl() + '/deepl/translate';\n\nexport const deeplProvider: TranslationProvider = {\n  name: 'deepl',\n  label: _('DeepL'),\n  authRequired: true,\n  quotaExceeded: false,\n  translate: async (\n    text: string[],\n    sourceLang: string,\n    targetLang: string,\n    token?: string | null,\n    useCache: boolean = false,\n  ): Promise<string[]> => {\n    const authRequired = deeplProvider.authRequired;\n\n    const headers: Record<string, string> = {\n      'Content-Type': 'application/json',\n    };\n\n    let userPlan: UserPlan = 'free';\n    if (token) {\n      userPlan = getSubscriptionPlan(token);\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    if (authRequired && !token) {\n      throw new Error('Authentication token is required for DeepL translation');\n    }\n\n    const body = JSON.stringify({\n      text: text,\n      source_lang: normalizeToShortLang(sourceLang).toUpperCase(),\n      target_lang: normalizeToShortLang(targetLang).toUpperCase(),\n      use_cache: useCache,\n    });\n\n    const quota = DEFAULT_DAILY_TRANSLATION_QUOTA[userPlan];\n    try {\n      const response = await fetch(DEEPL_API_ENDPOINT, { method: 'POST', headers, body });\n\n      if (!response.ok) {\n        const data = await response.json();\n        if (data && data.error && data.error === ErrorCodes.DAILY_QUOTA_EXCEEDED) {\n          saveDailyUsage(quota);\n          deeplProvider.quotaExceeded = true;\n          throw new Error(ErrorCodes.DAILY_QUOTA_EXCEEDED);\n        }\n        throw new Error(`Translation failed with status ${response.status}`);\n      }\n\n      const data = await response.json();\n      if (!data || !data.translations) {\n        throw new Error('Invalid response from translation service');\n      }\n\n      return text.map((line, i) => {\n        if (!line?.trim().length) {\n          return line;\n        }\n        const translation = data.translations?.[i];\n        if (translation?.daily_usage) {\n          saveDailyUsage(translation.daily_usage);\n          deeplProvider.quotaExceeded = data.daily_usage >= quota;\n        }\n        return translation?.text || line;\n      });\n    } catch (error) {\n      throw error;\n    }\n  },\n};\n","import { stubTranslation as _ } from '@/utils/misc';\nimport { fetch as tauriFetch } from '@tauri-apps/plugin-http';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { TranslationProvider } from '../types';\nimport { normalizeToFullLang } from '@/utils/lang';\n\ninterface TokenCache {\n  token: string;\n  expiresAt: number;\n}\n\nlet tokenCache: TokenCache | null = null;\n\nconst getAuthToken = async (): Promise<string> => {\n  const now = Date.now();\n\n  if (tokenCache && tokenCache.expiresAt > now) {\n    return tokenCache.token;\n  }\n\n  try {\n    const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n    const tokenResponse = await fetch('https://edge.microsoft.com/translate/auth', {\n      method: 'GET',\n      headers: {\n        'User-Agent': 'Mozilla/5.0',\n      },\n    });\n\n    if (!tokenResponse.ok) {\n      throw new Error(`Failed to get auth token: ${tokenResponse.status}`);\n    }\n\n    const token = await tokenResponse.text();\n    const expiresAt = now + 8 * 60 * 1000;\n\n    tokenCache = {\n      token,\n      expiresAt,\n    };\n\n    return token;\n  } catch (error) {\n    console.error('Error getting Microsoft translation auth token:', error);\n    throw error;\n  }\n};\n\nexport const azureProvider: TranslationProvider = {\n  name: 'azure',\n  label: _('Azure Translator'),\n  translate: async (text: string[], sourceLang: string, targetLang: string): Promise<string[]> => {\n    if (!text.length) return [];\n\n    const results: string[] = [];\n    const msSourceLang = sourceLang ? normalizeToFullLang(sourceLang) : '';\n    const msTargetLang = normalizeToFullLang(targetLang);\n\n    const translationPromises = text.map(async (line, index) => {\n      if (!line?.trim().length) {\n        results[index] = line;\n        return;\n      }\n\n      const url = 'https://api-edge.cognitive.microsofttranslator.com/translate';\n      const params = new URLSearchParams({\n        to: msTargetLang,\n        'api-version': '3.0',\n      });\n      if (msSourceLang && msSourceLang.toLowerCase() !== 'auto') {\n        params.append('from', msSourceLang);\n      }\n\n      const token = await getAuthToken();\n      const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n      const response = await fetch(`${url}?${params.toString()}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify([{ Text: line }]),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Translation failed with status ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (Array.isArray(data) && data.length > 0 && data[0].translations) {\n        results[index] = data[0].translations[0].text || line;\n      } else {\n        results[index] = line;\n      }\n    });\n\n    await Promise.all(translationPromises);\n\n    return results;\n  },\n};\n","import { stubTranslation as _ } from '@/utils/misc';\nimport { fetch as tauriFetch } from '@tauri-apps/plugin-http';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { normalizeToShortLang } from '@/utils/lang';\nimport { TranslationProvider } from '../types';\n\nexport const googleProvider: TranslationProvider = {\n  name: 'google',\n  label: _('Google Translate'),\n  translate: async (text: string[], sourceLang: string, targetLang: string): Promise<string[]> => {\n    if (!text.length) return [];\n\n    const results: string[] = [];\n\n    const translationPromises = text.map(async (line, index) => {\n      if (!line?.trim().length) {\n        results[index] = line;\n        return;\n      }\n\n      const url = new URL('https://translate.googleapis.com/translate_a/single');\n      url.searchParams.append('client', 'gtx');\n      url.searchParams.append('dt', 't');\n      url.searchParams.append('sl', normalizeToShortLang(sourceLang).toLowerCase() || 'auto');\n      url.searchParams.append('tl', normalizeToShortLang(targetLang).toLowerCase());\n      url.searchParams.append('q', line);\n\n      const fetch = isTauriAppPlatform() ? tauriFetch : window.fetch;\n      const response = await fetch(url.toString());\n\n      if (!response.ok) {\n        throw new Error(`Translation failed with status ${response.status}`);\n      }\n\n      const data = await response.json();\n      if (Array.isArray(data) && Array.isArray(data[0])) {\n        const translatedText = data[0]\n          .filter((segment) => Array.isArray(segment) && segment[0])\n          .map((segment) => segment[0])\n          .join('');\n\n        results[index] = translatedText || line;\n      } else {\n        results[index] = line;\n      }\n    });\n\n    await Promise.all(translationPromises);\n\n    return results;\n  },\n};\n","import { stubTranslation as _ } from '@/utils/misc';\nimport { fetch as tauriFetch } from '@tauri-apps/plugin-http';\nimport { isTauriAppPlatform } from '@/services/environment';\nimport { normalizeToShortLang } from '@/utils/lang';\nimport { TranslationProvider } from '../types';\n\n/**\n * Based on https://translate.toil.cc/v2/docs API specification\n */\nasync function translateSingleTextForService(\n  text: string,\n  lang: string,\n  service: string,\n): Promise<string[]> {\n  const fetchImpl = isTauriAppPlatform() ? tauriFetch : window.fetch;\n  const url = 'https://translate.toil.cc/v2/translate/';\n\n  const request = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      lang: lang,\n      service: service,\n      text: text,\n    })\n  };\n\n  const response = await fetchImpl(url, request);\n\n  if (!response.ok) {\n    const response_json = JSON.stringify(await response.json());\n    throw new Error(`${service} failed with status ${response.status}\\n${text.length}\\n${JSON.stringify(request)}\\n${response_json}`);\n  }\n\n  const data = await response.json();\n  if (\n    data &&\n    Array.isArray(data.translations)\n  ) {\n    return data.translations;\n  } else {\n    // fallback: return original texts if translation failed\n    return [text];\n  }\n};\n\nexport const yandexProvider: TranslationProvider = {\n  name: 'yandex',\n  label: _('Yandex Translate'),\n  authRequired: false,\n  translate: async (texts: string[], sourceLang: string, targetLang: string): Promise<string[]> => {\n    if (!texts.length) return [];\n\n    /**\n      Possible options:\n      - yandexcloud: often returns 500: {\"error\":\"The text couldn't be translated, because Forbidden\"}\n      - yandexgpt: often better than others\n      - yandextranslate\n      - yandexbrowser\n    */\n    const service = \"yandexgpt\";\n\n    // Yandex does not accept \"auto\" language\n    const source_lang = sourceLang == \"AUTO\" ? \"en\" : normalizeToShortLang(sourceLang).toLowerCase();\n    const target_lang = normalizeToShortLang(targetLang).toLowerCase();\n    const lang = `${source_lang}-${target_lang}`;\n\n    const responses = await Promise.all(texts.map(async text => {\n      return await translateSingleTextForService(text, lang, service)\n    }));\n\n    const translatedTexts = responses.flat();\n    return translatedTexts;\n  }\n};\n","import { TranslationProvider } from '../types';\nimport { deeplProvider } from './deepl';\nimport { azureProvider } from './azure';\nimport { googleProvider } from './google';\nimport { yandexProvider } from './yandex';\n\nfunction createTranslator<T extends string>(\n  name: T,\n  implementation: TranslationProvider,\n): TranslationProvider & { name: T } {\n  if (name !== implementation.name) {\n    throw Error(\n      `Translator name \"${name}\" does not match implementation name \"${implementation.name}\"`,\n    );\n  }\n  return implementation as TranslationProvider & { name: T };\n}\n\nconst deeplTranslator = createTranslator('deepl', deeplProvider);\nconst azureTranslator = createTranslator('azure', azureProvider);\nconst googleTranslator = createTranslator('google', googleProvider);\nconst yandexTranslator = createTranslator('yandex', yandexProvider);\n\nconst availableTranslators = [\n  deeplTranslator,\n  azureTranslator,\n  googleTranslator,\n  yandexTranslator,\n  // Add more translators here\n];\n\nexport type TranslatorName = (typeof availableTranslators)[number]['name'];\n\nexport const getTranslator = (name: TranslatorName): TranslationProvider | undefined => {\n  return availableTranslators.find((translator) => translator.name === name);\n};\n\nexport const getTranslators = (): TranslationProvider[] => {\n  return availableTranslators;\n};\n","export * from './types';\nexport * from './cache';\nexport * from './polish';\nexport * from './preprocess';\nexport * from './providers';\n","/**\n * Usage Statistics Manager\n * Stub for cloud/subscription features (not used in web deployment)\n */\n\nexport class UsageStatsManager {\n    static async getCurrentUsage(\n        userId: string,\n        metric: string,\n        period: string,\n    ): Promise<number> {\n        // Stub: return 0 for web deployment\n        return 0;\n    }\n\n    static async trackUsage(\n        userId: string,\n        metric: string,\n        increment: number,\n        metadata?: Record<string, any>,\n    ): Promise<number> {\n        // Stub: return 0 for web deployment\n        return 0;\n    }\n}\n","import crypto from 'crypto';\nimport { NextApiRequest, NextApiResponse } from 'next';\nimport { corsAllMethods, runMiddleware } from '@/utils/cors';\nimport { getCloudflareContext } from '@opennextjs/cloudflare';\nimport {\n  getDailyTranslationPlanData,\n  getSubscriptionPlan,\n  validateUserAndToken,\n} from '@/utils/access';\nimport { ErrorCodes } from '@/services/translators';\nimport { UsageStatsManager } from '@/utils/usage';\n\nconst DEFAULT_DEEPL_FREE_API = 'https://api-free.deepl.com/v2/translate';\nconst DEFAULT_DEEPL_PRO_API = 'https://api.deepl.com/v2/translate';\n\ninterface KVNamespace {\n  get(key: string): Promise<string | null>;\n  put(key: string, value: string, options?: { expirationTtl?: number }): Promise<void>;\n  delete(key: string): Promise<void>;\n}\n\ninterface CloudflareEnv {\n  TRANSLATIONS_KV?: KVNamespace;\n}\n\nconst LANG_V2_V1_MAP: Record<string, string> = {\n  'ZH-HANS': 'ZH',\n  'ZH-HANT': 'ZH-TW',\n};\n\nconst getDeepLAPIKey = (keys: string | undefined) => {\n  const keyArray = keys?.split(',') ?? [];\n  return keyArray.length ? keyArray[Math.floor(Math.random() * keyArray.length)]! : '';\n};\n\nconst generateCacheKey = (text: string, sourceLang: string, targetLang: string): string => {\n  const inputString = `${sourceLang}:${targetLang}:${text}`;\n  const hash = crypto.createHash('sha1').update(inputString).digest('hex');\n  return `tr:${hash}`;\n};\n\nconst checkDailyUsage = async (userId: string, token: string, chars: number) => {\n  const { quota: dailyQuota } = getDailyTranslationPlanData(token);\n  const dailyUsage = await UsageStatsManager.getCurrentUsage(userId, 'translation_chars', 'daily');\n\n  if (dailyQuota <= dailyUsage + chars) {\n    throw new Error(ErrorCodes.DAILY_QUOTA_EXCEEDED);\n  }\n  return dailyUsage;\n};\n\nconst updateDailyUsage = async (\n  userId: string | undefined,\n  token: string | undefined,\n  incrementUsage: number,\n) => {\n  if (!userId || !token) return 0;\n\n  try {\n    const userPlan = getSubscriptionPlan(token);\n    const newUsage = await UsageStatsManager.trackUsage(\n      userId,\n      'translation_chars',\n      incrementUsage,\n      {\n        plan_type: userPlan,\n        source: 'deepl_api',\n      },\n    );\n\n    return newUsage;\n  } catch (cacheError) {\n    console.error('Update daily usage error:', cacheError);\n  }\n\n  return 0;\n};\n\nconst handler = async (req: NextApiRequest, res: NextApiResponse) => {\n  await runMiddleware(req, res, corsAllMethods);\n\n  if (req.method !== 'POST') {\n    return res.status(405).json({ error: 'Method not allowed' });\n  }\n\n  const env = (getCloudflareContext().env || {}) as CloudflareEnv;\n  const hasKVCache = !!env['TRANSLATIONS_KV'];\n\n  const { user, token } = await validateUserAndToken(req.headers['authorization']);\n  const { DEEPL_PRO_API, DEEPL_FREE_API } = process.env;\n  const deepFreeApiUrl = DEEPL_FREE_API || DEFAULT_DEEPL_FREE_API;\n  const deeplProApiUrl = DEEPL_PRO_API || DEFAULT_DEEPL_PRO_API;\n\n  let deeplApiUrl = deepFreeApiUrl;\n  let userPlan = 'free';\n  if (user && token) {\n    userPlan = getSubscriptionPlan(token);\n    if (userPlan === 'pro') deeplApiUrl = deeplProApiUrl;\n  }\n  const deeplAuthKey =\n    deeplApiUrl === deeplProApiUrl\n      ? getDeepLAPIKey(process.env['DEEPL_PRO_API_KEYS'])\n      : getDeepLAPIKey(process.env['DEEPL_FREE_API_KEYS']);\n\n  const {\n    text,\n    source_lang: sourceLang = 'AUTO',\n    target_lang: targetLang = 'EN',\n    use_cache: useCache = false,\n  }: { text: string[]; source_lang: string; target_lang: string; use_cache: boolean } = req.body;\n\n  try {\n    const translations = await Promise.all(\n      text.map(async (singleText) => {\n        if (!singleText?.trim()) {\n          return { text: '', daily_usage: 0 };\n        }\n        if (useCache && hasKVCache) {\n          try {\n            const cacheKey = generateCacheKey(singleText, sourceLang, targetLang);\n            const cachedTranslation = await env['TRANSLATIONS_KV']!.get(cacheKey);\n\n            if (cachedTranslation) {\n              return {\n                text: cachedTranslation,\n                daily_usage: 0,\n                detected_source_language: sourceLang,\n              };\n            }\n          } catch (cacheError) {\n            console.error('Cache retrieval error:', cacheError);\n          }\n        }\n\n        if (!user || !token) return res.status(401).json({ error: ErrorCodes.UNAUTHORIZED });\n        await checkDailyUsage(user?.id, token, singleText.length);\n\n        return await callDeepLAPI(\n          singleText,\n          sourceLang,\n          targetLang,\n          deeplApiUrl,\n          deeplAuthKey,\n          env['TRANSLATIONS_KV'],\n          useCache,\n        );\n      }),\n    );\n    const originalCharsCount = text.reduce((a, b) => a + b.length, 0);\n    const translatedCharsCount = translations.reduce((a, b) => a + (b?.text.length || 0), 0);\n    const newDailyUsage = await updateDailyUsage(\n      user?.id,\n      token,\n      originalCharsCount + translatedCharsCount,\n    );\n    translations.forEach((translation) => {\n      if (translation && translation.text) {\n        translation.daily_usage = newDailyUsage;\n      }\n    });\n    return res.status(200).json({ translations });\n  } catch (error) {\n    if (error instanceof Error && error.message.includes(ErrorCodes.DAILY_QUOTA_EXCEEDED)) {\n      return res.status(429).json({ error: ErrorCodes.DAILY_QUOTA_EXCEEDED });\n    } else {\n      console.error('Error proxying DeepL request:', error);\n    }\n    return res.status(500).json({ error: ErrorCodes.INTERNAL_SERVER_ERROR });\n  }\n};\n\nasync function callDeepLAPI(\n  text: string,\n  sourceLang: string,\n  targetLang: string,\n  apiUrl: string,\n  authKey: string,\n  translationsKV: KVNamespace | undefined,\n  useCache: boolean,\n) {\n  const isV2Api = apiUrl.endsWith('/v2/translate');\n\n  // TODO: this should be processed in the client, but for now, we need to do it here\n  // please remove this when most clients are updated\n  const input = text.replaceAll('\\n', '').trim();\n  const requestBody = {\n    text: isV2Api ? [input] : input,\n    source_lang: isV2Api ? sourceLang : (LANG_V2_V1_MAP[sourceLang] ?? sourceLang),\n    target_lang: isV2Api ? targetLang : (LANG_V2_V1_MAP[targetLang] ?? targetLang),\n  };\n\n  const response = await fetch(apiUrl, {\n    method: 'POST',\n    headers: {\n      Authorization: `DeepL-Auth-Key ${authKey}`,\n      'x-fingerprint': process.env['DEEPL_X_FINGERPRINT'] || '',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(requestBody),\n  });\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(`DeepL API error (${response.status}): ${errorText}`);\n  }\n\n  const data = (await response.json()) as {\n    translations?: { text: string; detected_source_language?: string }[];\n    data?: string;\n  };\n\n  let translatedText = '';\n  let detectedSourceLanguage = '';\n\n  if (data.translations && data.translations.length > 0) {\n    translatedText = data.translations[0]!.text;\n    detectedSourceLanguage = data.translations[0]!.detected_source_language || '';\n  } else if (data.data) {\n    translatedText = data.data;\n  }\n\n  if (useCache && translationsKV && translatedText) {\n    try {\n      const cacheKey = generateCacheKey(text, sourceLang, targetLang);\n      await translationsKV.put(cacheKey, translatedText, { expirationTtl: 86400 * 90 });\n    } catch (cacheError) {\n      console.error('Cache storage error:', cacheError);\n    }\n  }\n\n  return {\n    text: translatedText,\n    daily_usage: 0,\n    detected_source_language: detectedSourceLanguage,\n  };\n}\n\nexport default handler;\n","import type { IncomingMessage } from 'http'\nimport type { ParsedUrlQuery } from 'querystring'\nimport type { UrlWithParsedQuery } from 'url'\nimport type { BaseNextRequest } from './base-http'\nimport type { CloneableBody } from './body-streams'\nimport type { RouteMatch } from './route-matches/route-match'\nimport type { NEXT_RSC_UNION_QUERY } from '../client/components/app-router-headers'\nimport type {\n  ResponseCacheEntry,\n  ServerComponentsHmrCache,\n} from './response-cache'\nimport type { PagesDevOverlayBridgeType } from '../next-devtools/userspace/pages/pages-dev-overlay-setup'\nimport type { OpaqueFallbackRouteParams } from './request/fallback-params'\nimport type { IncrementalCache } from './lib/incremental-cache'\n\n// FIXME: (wyattjoh) this is a temporary solution to allow us to pass data between bundled modules\nexport const NEXT_REQUEST_META = Symbol.for('NextInternalRequestMeta')\n\nexport type NextIncomingMessage = (BaseNextRequest | IncomingMessage) & {\n  [NEXT_REQUEST_META]?: RequestMeta\n}\n\n/**\n * The callback function to call when a response cache entry was generated or\n * looked up in the cache. When it returns true, the server assumes that the\n * handler has already responded to the request and will not do so itself.\n */\nexport type OnCacheEntryHandler = (\n  /**\n   * The response cache entry that was generated or looked up in the cache.\n   */\n  cacheEntry: ResponseCacheEntry,\n\n  /**\n   * The request metadata.\n   */\n  requestMeta: {\n    /**\n     * The URL that was used to make the request.\n     */\n    url: string | undefined\n  }\n) => Promise<boolean | void> | boolean | void\n\nexport interface RequestMeta {\n  /**\n   * The query that was used to make the request.\n   */\n  initQuery?: ParsedUrlQuery\n\n  /**\n   * The URL that was used to make the request.\n   */\n  initURL?: string\n\n  /**\n   * The protocol that was used to make the request.\n   */\n  initProtocol?: string\n\n  /**\n   * The body that was read from the request. This is used to allow the body to\n   * be read multiple times.\n   */\n  clonableBody?: CloneableBody\n\n  /**\n   * True when the request matched a locale domain that was configured in the\n   * next.config.js file.\n   */\n  isLocaleDomain?: boolean\n\n  /**\n   * True when the request had locale information stripped from the pathname\n   * part of the URL.\n   */\n  didStripLocale?: boolean\n\n  /**\n   * If the request had it's URL rewritten, this is the URL it was rewritten to.\n   */\n  rewroteURL?: string\n\n  /**\n   * The cookies that were added by middleware and were added to the response.\n   */\n  middlewareCookie?: string[]\n\n  /**\n   * The match on the request for a given route.\n   */\n  match?: RouteMatch\n\n  /**\n   * The incremental cache to use for the request.\n   */\n  incrementalCache?: IncrementalCache\n\n  /**\n   * The server components HMR cache, only for dev.\n   */\n  serverComponentsHmrCache?: ServerComponentsHmrCache\n\n  /**\n   * Equals the segment path that was used for the prefetch RSC request.\n   */\n  segmentPrefetchRSCRequest?: string\n\n  /**\n   * True when the request is for the prefetch flight data.\n   */\n  isPrefetchRSCRequest?: true\n\n  /**\n   * True when the request is for the flight data.\n   */\n  isRSCRequest?: true\n\n  /**\n   * A search param set by the Next.js client when performing RSC requests.\n   * Because some CDNs do not vary their cache entries on our custom headers,\n   * this search param represents a hash of the header values. For any cached\n   * RSC request, we should verify that the hash matches before responding.\n   * Otherwise this can lead to cache poisoning.\n   * TODO: Consider not using custom request headers at all, and instead encode\n   * everything into the search param.\n   */\n  cacheBustingSearchParam?: string\n\n  /**\n   * True when the request is for the `/_next/data` route using the pages\n   * router.\n   */\n  isNextDataReq?: true\n\n  /**\n   * Postponed state to use for resumption. If present it's assumed that the\n   * request is for a page that has postponed (there are no guarantees that the\n   * page actually has postponed though as it would incur an additional cache\n   * lookup).\n   */\n  postponed?: string\n\n  /**\n   * If provided, this will be called when a response cache entry was generated\n   * or looked up in the cache.\n   *\n   * @deprecated Use `onCacheEntryV2` instead.\n   */\n  onCacheEntry?: OnCacheEntryHandler\n\n  /**\n   * If provided, this will be called when a response cache entry was generated\n   * or looked up in the cache.\n   */\n  onCacheEntryV2?: OnCacheEntryHandler\n\n  /**\n   * The previous revalidate before rendering 404 page for notFound: true\n   */\n  notFoundRevalidate?: number | false\n\n  /**\n   * In development, the original source page that returned a 404.\n   */\n  developmentNotFoundSourcePage?: string\n\n  /**\n   * The path we routed to and should be invoked\n   */\n  invokePath?: string\n\n  /**\n   * The specific page output we should be matching\n   */\n  invokeOutput?: string\n\n  /**\n   * The status we are invoking the request with from routing\n   */\n  invokeStatus?: number\n\n  /**\n   * The routing error we are invoking with\n   */\n  invokeError?: Error\n\n  /**\n   * The query parsed for the invocation\n   */\n  invokeQuery?: Record<string, undefined | string | string[]>\n\n  /**\n   * Whether the request is a middleware invocation\n   */\n  middlewareInvoke?: boolean\n\n  /**\n   * Whether the request should render the fallback shell or not.\n   */\n  renderFallbackShell?: boolean\n\n  /**\n   * Whether the request is for the custom error page.\n   */\n  customErrorRender?: true\n\n  /**\n   * Whether to bubble up the NoFallbackError to the caller when a 404 is\n   * returned.\n   */\n  bubbleNoFallback?: true\n\n  /**\n   * True when the request had locale information inferred from the default\n   * locale.\n   */\n  localeInferredFromDefault?: true\n\n  /**\n   * The locale that was inferred or explicitly set for the request.\n   */\n  locale?: string\n\n  /**\n   * The default locale that was inferred or explicitly set for the request.\n   */\n  defaultLocale?: string\n\n  /**\n   * The relative project dir the server is running in from project root\n   */\n  relativeProjectDir?: string\n\n  /**\n   * The dist directory the server is currently using\n   */\n  distDir?: string\n\n  /**\n   * The query after resolving routes\n   */\n  query?: ParsedUrlQuery\n\n  /**\n   * The params after resolving routes\n   */\n  params?: ParsedUrlQuery\n\n  /**\n   * ErrorOverlay component to use in development for pages router\n   */\n  PagesErrorDebug?: PagesDevOverlayBridgeType\n\n  /**\n   * Whether server is in minimal mode (this will be replaced with more\n   * specific flags in future)\n   */\n  minimalMode?: boolean\n\n  /**\n   * DEV only: The fallback params that should be used when validating prerenders during dev\n   */\n  devFallbackParams?: OpaqueFallbackRouteParams\n\n  /**\n   * DEV only: Request timings in process.hrtime.bigint()\n   */\n  devRequestTimingStart?: bigint\n  devRequestTimingMiddlewareStart?: bigint\n  devRequestTimingMiddlewareEnd?: bigint\n  devRequestTimingInternalsEnd?: bigint\n}\n\n/**\n * Gets the request metadata. If no key is provided, the entire metadata object\n * is returned.\n *\n * @param req the request to get the metadata from\n * @param key the key to get from the metadata (optional)\n * @returns the value for the key or the entire metadata object\n */\nexport function getRequestMeta(\n  req: NextIncomingMessage,\n  key?: undefined\n): RequestMeta\nexport function getRequestMeta<K extends keyof RequestMeta>(\n  req: NextIncomingMessage,\n  key: K\n): RequestMeta[K]\nexport function getRequestMeta<K extends keyof RequestMeta>(\n  req: NextIncomingMessage,\n  key?: K\n): RequestMeta | RequestMeta[K] {\n  const meta = req[NEXT_REQUEST_META] || {}\n  return typeof key === 'string' ? meta[key] : meta\n}\n\n/**\n * Sets the request metadata.\n *\n * @param req the request to set the metadata on\n * @param meta the metadata to set\n * @returns the mutated request metadata\n */\nexport function setRequestMeta(req: NextIncomingMessage, meta: RequestMeta) {\n  req[NEXT_REQUEST_META] = meta\n  return meta\n}\n\n/**\n * Adds a value to the request metadata.\n *\n * @param request the request to mutate\n * @param key the key to set\n * @param value the value to set\n * @returns the mutated request metadata\n */\nexport function addRequestMeta<K extends keyof RequestMeta>(\n  request: NextIncomingMessage,\n  key: K,\n  value: RequestMeta[K]\n) {\n  const meta = getRequestMeta(request)\n  meta[key] = value\n  return setRequestMeta(request, meta)\n}\n\n/**\n * Removes a key from the request metadata.\n *\n * @param request the request to mutate\n * @param key the key to remove\n * @returns the mutated request metadata\n */\nexport function removeRequestMeta<K extends keyof RequestMeta>(\n  request: NextIncomingMessage,\n  key: K\n) {\n  const meta = getRequestMeta(request)\n  delete meta[key]\n  return setRequestMeta(request, meta)\n}\n\ntype NextQueryMetadata = {\n  /**\n   * The `_rsc` query parameter used for cache busting to ensure that the RSC\n   * requests do not get cached by the browser explicitly.\n   */\n  [NEXT_RSC_UNION_QUERY]?: string\n}\n\nexport type NextParsedUrlQuery = ParsedUrlQuery & NextQueryMetadata\n\nexport interface NextUrlWithParsedQuery extends UrlWithParsedQuery {\n  query: NextParsedUrlQuery\n}\n","import type { NextApiResponse } from '../../types'\nimport type { IncomingMessage, ServerResponse } from 'node:http'\n\nimport { sendError } from '../../server/api-utils'\nimport { RouteKind } from '../../server/route-kind'\nimport type { Span } from '../../server/lib/trace/tracer'\nimport { PagesAPIRouteModule } from '../../server/route-modules/pages-api/module.compiled'\n\nimport { hoist } from './helpers'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getTracer, SpanKind } from '../../server/lib/trace/tracer'\nimport { BaseServerSpan } from '../../server/lib/trace/constants'\nimport type { InstrumentationOnRequestError } from '../../server/instrumentation/types'\nimport { addRequestMeta } from '../../server/request-meta'\n\n// Re-export the handler (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export config.\nexport const config = hoist(userland, 'config')\n\n// Create and export the route module that will be consumed.\nconst routeModule = new PagesAPIRouteModule({\n  definition: {\n    kind: RouteKind.PAGES_API,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  userland,\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n})\n\nexport async function handler(\n  req: IncomingMessage,\n  res: ServerResponse,\n  ctx: {\n    waitUntil?: (prom: Promise<void>) => void\n  }\n): Promise<void> {\n  if (routeModule.isDev) {\n    addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint())\n  }\n  let srcPage = 'VAR_DEFINITION_PAGE'\n\n  // turbopack doesn't normalize `/index` in the page name\n  // so we need to to process dynamic routes properly\n  // TODO: fix turbopack providing differing value from webpack\n  if (process.env.TURBOPACK) {\n    srcPage = srcPage.replace(/\\/index$/, '') || '/'\n  }\n\n  const prepareResult = await routeModule.prepare(req, res, { srcPage })\n\n  if (!prepareResult) {\n    res.statusCode = 400\n    res.end('Bad Request')\n    ctx.waitUntil?.(Promise.resolve())\n    return\n  }\n\n  const { query, params, prerenderManifest, routerServerContext } =\n    prepareResult\n\n  try {\n    const method = req.method || 'GET'\n    const tracer = getTracer()\n\n    const activeSpan = tracer.getActiveScopeSpan()\n    const onRequestError =\n      routeModule.instrumentationOnRequestError.bind(routeModule)\n\n    const invokeRouteModule = async (span?: Span) =>\n      routeModule\n        .render(req, res, {\n          query: {\n            ...query,\n            ...params,\n          },\n          params,\n          allowedRevalidateHeaderKeys: process.env\n            .__NEXT_ALLOWED_REVALIDATE_HEADERS as any as string[],\n          multiZoneDraftMode: Boolean(process.env.__NEXT_MULTI_ZONE_DRAFT_MODE),\n          trustHostHeader: process.env\n            .__NEXT_TRUST_HOST_HEADER as any as boolean,\n          // TODO: get this from from runtime env so manifest\n          // doesn't need to load\n          previewProps: prerenderManifest.preview,\n          propagateError: false,\n          dev: routeModule.isDev,\n          page: 'VAR_DEFINITION_PAGE',\n\n          internalRevalidate: routerServerContext?.revalidate,\n\n          onError: (...args: Parameters<InstrumentationOnRequestError>) =>\n            onRequestError(req, ...args),\n        })\n        .finally(() => {\n          if (!span) return\n\n          span.setAttributes({\n            'http.status_code': res.statusCode,\n            'next.rsc': false,\n          })\n\n          const rootSpanAttributes = tracer.getRootSpanAttributes()\n          // We were unable to get attributes, probably OTEL is not enabled\n          if (!rootSpanAttributes) {\n            return\n          }\n\n          if (\n            rootSpanAttributes.get('next.span_type') !==\n            BaseServerSpan.handleRequest\n          ) {\n            console.warn(\n              `Unexpected root span type '${rootSpanAttributes.get(\n                'next.span_type'\n              )}'. Please report this Next.js issue https://github.com/vercel/next.js`\n            )\n            return\n          }\n\n          const route = rootSpanAttributes.get('next.route')\n          if (route) {\n            const name = `${method} ${route}`\n\n            span.setAttributes({\n              'next.route': route,\n              'http.route': route,\n              'next.span_name': name,\n            })\n            span.updateName(name)\n          } else {\n            span.updateName(`${method} ${srcPage}`)\n          }\n        })\n\n    // TODO: activeSpan code path is for when wrapped by\n    // next-server can be removed when this is no longer used\n    if (activeSpan) {\n      await invokeRouteModule(activeSpan)\n    } else {\n      await tracer.withPropagatedContext(req.headers, () =>\n        tracer.trace(\n          BaseServerSpan.handleRequest,\n          {\n            spanName: `${method} ${srcPage}`,\n            kind: SpanKind.SERVER,\n            attributes: {\n              'http.method': method,\n              'http.target': req.url,\n            },\n          },\n          invokeRouteModule\n        )\n      )\n    }\n  } catch (err) {\n    // we re-throw in dev to show the error overlay\n    if (routeModule.isDev) {\n      throw err\n    }\n    // this is technically an invariant as error handling\n    // should be done inside of api-resolver onError\n    sendError(res as NextApiResponse, 500, 'Internal Server Error')\n  } finally {\n    // We don't allow any waitUntil work in pages API routes currently\n    // so if callback is present return with resolved promise since no\n    // pending work\n    ctx.waitUntil?.(Promise.resolve())\n  }\n}\n"],"names":["BaseServerSpan","LoadComponentsSpan","NextServerSpan","NextNodeServerSpan","StartServerSpan","RenderSpan","AppRenderSpan","RouterSpan","NodeSpan","AppRouteRouteHandlersSpan","ResolveMetadataSpan","MiddlewareSpan","NextVanillaSpanAllowlist","Set","LogSpanAllowList","RouteKind","process","env","NEXT_RUNTIME","module","exports","require","NODE_ENV","TURBOPACK","hoist","name","then","mod","undefined","NEXT_REQUEST_META","Symbol","for","getRequestMeta","req","key","meta","setRequestMeta","addRequestMeta","request","value","removeRequestMeta","sendError","PagesAPIRouteModule","userland","getTracer","SpanKind","config","routeModule","definition","kind","PAGES_API","page","pathname","bundlePath","filename","distDir","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","handler","res","ctx","isDev","hrtime","bigint","srcPage","replace","prepareResult","prepare","statusCode","end","waitUntil","Promise","resolve","query","params","prerenderManifest","routerServerContext","method","tracer","activeSpan","getActiveScopeSpan","onRequestError","instrumentationOnRequestError","bind","invokeRouteModule","span","render","allowedRevalidateHeaderKeys","__NEXT_ALLOWED_REVALIDATE_HEADERS","multiZoneDraftMode","Boolean","__NEXT_MULTI_ZONE_DRAFT_MODE","trustHostHeader","__NEXT_TRUST_HOST_HEADER","previewProps","preview","propagateError","dev","internalRevalidate","revalidate","onError","args","finally","setAttributes","rootSpanAttributes","getRootSpanAttributes","get","handleRequest","console","warn","route","updateName","withPropagatedContext","headers","trace","spanName","SERVER","attributes","url","err"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,28,29]}