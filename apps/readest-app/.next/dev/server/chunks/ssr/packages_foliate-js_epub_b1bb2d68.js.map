{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/readest/packages/foliate-js/epub.js"],"sourcesContent":["import * as CFI from './epubcfi.js'\n\nconst NS = {\n    CONTAINER: 'urn:oasis:names:tc:opendocument:xmlns:container',\n    XHTML: 'http://www.w3.org/1999/xhtml',\n    OPF: 'http://www.idpf.org/2007/opf',\n    EPUB: 'http://www.idpf.org/2007/ops',\n    DC: 'http://purl.org/dc/elements/1.1/',\n    DCTERMS: 'http://purl.org/dc/terms/',\n    ENC: 'http://www.w3.org/2001/04/xmlenc#',\n    NCX: 'http://www.daisy.org/z3986/2005/ncx/',\n    XLINK: 'http://www.w3.org/1999/xlink',\n    SMIL: 'http://www.w3.org/ns/SMIL',\n}\n\nconst MIME = {\n    XML: 'application/xml',\n    NCX: 'application/x-dtbncx+xml',\n    XHTML: 'application/xhtml+xml',\n    HTML: 'text/html',\n    CSS: 'text/css',\n    SVG: 'image/svg+xml',\n    JS: /\\/(x-)?(javascript|ecmascript)/,\n}\n\n// https://www.w3.org/TR/epub-33/#sec-reserved-prefixes\nconst PREFIX = {\n    a11y: 'http://www.idpf.org/epub/vocab/package/a11y/#',\n    dcterms: 'http://purl.org/dc/terms/',\n    marc: 'http://id.loc.gov/vocabulary/',\n    media: 'http://www.idpf.org/epub/vocab/overlays/#',\n    onix: 'http://www.editeur.org/ONIX/book/codelists/current.html#',\n    rendition: 'http://www.idpf.org/vocab/rendition/#',\n    schema: 'http://schema.org/',\n    xsd: 'http://www.w3.org/2001/XMLSchema#',\n    msv: 'http://www.idpf.org/epub/vocab/structure/magazine/#',\n    prism: 'http://www.prismstandard.org/specifications/3.0/PRISM_CV_Spec_3.0.htm#',\n}\n\nconst RELATORS = {\n    art: 'artist',\n    aut: 'author',\n    clr: 'colorist',\n    edt: 'editor',\n    ill: 'illustrator',\n    nrt: 'narrator',\n    trl: 'translator',\n    pbl: 'publisher',\n}\n\nconst ONIX5 = {\n    '02': 'isbn',\n    '06': 'doi',\n    '15': 'isbn',\n    '26': 'doi',\n    '34': 'issn',\n}\n\n// convert to camel case\nconst camel = x => x.toLowerCase().replace(/[-:](.)/g, (_, g) => g.toUpperCase())\n\n// strip and collapse ASCII whitespace\n// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\nconst normalizeWhitespace = str => str ? str\n    .replace(/[\\t\\n\\f\\r ]+/g, ' ')\n    .replace(/^[\\t\\n\\f\\r ]+/, '')\n    .replace(/[\\t\\n\\f\\r ]+$/, '') : ''\n\nconst filterAttribute = (attr, value, isList) => isList\n    ? el => el.getAttribute(attr)?.split(/\\s/)?.includes(value)\n    : typeof value === 'function'\n        ? el => value(el.getAttribute(attr))\n        : el => el.getAttribute(attr) === value\n\nconst getAttributes = (...xs) => el =>\n    el ? Object.fromEntries(xs.map(x => [camel(x), el.getAttribute(x)])) : null\n\nconst getElementText = el => normalizeWhitespace(el?.textContent)\n\nconst childGetter = (doc, ns) => {\n    // ignore the namespace if it doesn't appear in document at all\n    const useNS = doc.lookupNamespaceURI(null) === ns || doc.lookupPrefix(ns)\n    const f = useNS\n        ? (el, name) => el => el.namespaceURI === ns && el.localName === name\n        : (el, name) => el => el.localName === name\n    return {\n        $: (el, name) => [...el.children].find(f(el, name)),\n        $$: (el, name) => [...el.children].filter(f(el, name)),\n        $$$: useNS\n            ? (el, name) => [...el.getElementsByTagNameNS(ns, name)]\n            : (el, name) => [...el.getElementsByTagName(name)],\n    }\n}\n\nconst resolveURL = (url, relativeTo) => {\n    try {\n        // replace %2c in the url with a comma, this might be introduced by calibre\n        url = url.replace(/%2c/gi, ',').replace(/%3a/gi, ':')\n        if (relativeTo.includes(':') && !relativeTo.startsWith('OEBPS')) return new URL(url, relativeTo)\n        // the base needs to be a valid URL, so set a base URL and then remove it\n        const root = 'https://invalid.invalid/'\n        const obj = new URL(url, root + relativeTo)\n        obj.search = ''\n        return decodeURI(obj.href.replace(root, ''))\n    } catch(e) {\n        console.warn(e)\n        return url\n    }\n}\n\nconst isExternal = uri => /^(?!blob)\\w+:/i.test(uri)\n\n// like `path.relative()` in Node.js\nconst pathRelative = (from, to) => {\n    if (!from) return to\n    const as = from.replace(/\\/$/, '').split('/')\n    const bs = to.replace(/\\/$/, '').split('/')\n    const i = (as.length > bs.length ? as : bs).findIndex((_, i) => as[i] !== bs[i])\n    return i < 0 ? '' : Array(as.length - i).fill('..').concat(bs.slice(i)).join('/')\n}\n\nconst pathDirname = str => str.slice(0, str.lastIndexOf('/') + 1)\n\n// replace asynchronously and sequentially\n// same technique as https://stackoverflow.com/a/48032528\nconst replaceSeries = async (str, regex, f) => {\n    const matches = []\n    str.replace(regex, (...args) => (matches.push(args), null))\n    const results = []\n    for (const args of matches) results.push(await f(...args))\n    return str.replace(regex, () => results.shift())\n}\n\nconst regexEscape = str => str.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n\nconst tidy = obj => {\n    for (const [key, val] of Object.entries(obj))\n        if (val == null) delete obj[key]\n        else if (Array.isArray(val)) {\n            obj[key] = val.filter(x => x).map(x =>\n                typeof x === 'object' && !Array.isArray(x) ? tidy(x) : x)\n            if (!obj[key].length) delete obj[key]\n            else if (obj[key].length === 1) obj[key] = obj[key][0]\n        }\n        else if (typeof val === 'object') {\n            obj[key] = tidy(val)\n            if (!Object.keys(val).length) delete obj[key]\n        }\n    const keys = Object.keys(obj)\n    if (keys.length === 1 && keys[0] === 'name') return obj[keys[0]]\n    return obj\n}\n\n// https://www.w3.org/TR/epub/#sec-prefix-attr\nconst getPrefixes = doc => {\n    const map = new Map(Object.entries(PREFIX))\n    const value = doc.documentElement.getAttributeNS(NS.EPUB, 'prefix')\n        || doc.documentElement.getAttribute('prefix')\n    if (value) for (const [, prefix, url] of value\n        .matchAll(/(.+): +(.+)[ \\t\\r\\n]*/g)) map.set(prefix, url)\n    return map\n}\n\n// https://www.w3.org/TR/epub-rs/#sec-property-values\n// but ignoring the case where the prefix is omitted\nconst getPropertyURL = (value, prefixes) => {\n    if (!value) return null\n    const [a, b] = value.split(':')\n    const prefix = b ? a : null\n    const reference = b ? b : a\n    const baseURL = prefixes.get(prefix)\n    return baseURL ? baseURL + reference : null\n}\n\nconst getMetadata = opf => {\n    const { $ } = childGetter(opf, NS.OPF)\n    const $metadata = $(opf.documentElement, 'metadata')\n\n    // first pass: convert to JS objects\n    const els = Object.groupBy($metadata.children, el =>\n        el.namespaceURI === NS.DC ? 'dc'\n        : el.namespaceURI === NS.OPF && el.localName === 'meta' ?\n            (el.hasAttribute('name') ? 'legacyMeta' : 'meta') : '')\n    const baseLang = $metadata.getAttribute('xml:lang')\n        ?? opf.documentElement.getAttribute('xml:lang') ?? 'und'\n    const prefixes = getPrefixes(opf)\n    const parse = el => {\n        const property = el.getAttribute('property')\n        const scheme = el.getAttribute('scheme')\n        return {\n            property: getPropertyURL(property, prefixes) ?? property,\n            scheme: getPropertyURL(scheme, prefixes) ?? scheme,\n            lang: el.getAttribute('xml:lang'),\n            value: getElementText(el),\n            props: getProperties(el),\n            // `opf:` attributes from EPUB 2 & EPUB 3.1 (removed in EPUB 3.2)\n            attrs: Object.fromEntries(Array.from(el.attributes)\n                .filter(attr => attr.namespaceURI === NS.OPF)\n                .map(attr => [attr.localName, attr.value])),\n        }\n    }\n    const refines = Map.groupBy(els.meta ?? [], el => el.getAttribute('refines'))\n    const getProperties = el => {\n        const els = refines.get(el ? '#' + el.getAttribute('id') : null)\n        if (!els) return null\n        return Object.groupBy(els.map(parse), x => x.property)\n    }\n    const dc = Object.fromEntries(Object.entries(Object.groupBy(els.dc || [], el => el.localName))\n        .map(([name, els]) => [name, els.map(parse)]))\n    const properties = getProperties() ?? {}\n    const legacyMeta = Object.fromEntries(els.legacyMeta?.map(el =>\n        [el.getAttribute('name'), el.getAttribute('content')]) ?? [])\n\n    // second pass: map to webpub\n    const one = x => x?.[0]?.value\n    const prop = (x, p) => one(x?.props?.[p])\n    const makeLanguageMap = x => {\n        if (!x) return null\n        const alts = x.props?.['alternate-script'] ?? []\n        const altRep = x.attrs['alt-rep']\n        if (!alts.length && (!x.lang || x.lang === baseLang) && !altRep) return x.value\n        const map = { [x.lang ?? baseLang]: x.value }\n        if (altRep) map[x.attrs['alt-rep-lang']] = altRep\n        for (const y of alts) map[y.lang] ??= y.value\n        return map\n    }\n    const makeContributor = x => x ? ({\n        name: makeLanguageMap(x),\n        sortAs: makeLanguageMap(x.props?.['file-as']?.[0]) ?? x.attrs['file-as'],\n        role: x.props?.role?.filter(x => x.scheme === PREFIX.marc + 'relators')\n            ?.map(x => x.value) ?? [x.attrs.role],\n        code: prop(x, 'term') ?? x.attrs.term,\n        scheme: prop(x, 'authority') ?? x.attrs.authority,\n    }) : null\n    const makeCollection = x => ({\n        name: makeLanguageMap(x),\n        // NOTE: webpub requires number but EPUB allows values like \"2.2.1\"\n        position: one(x.props?.['group-position']),\n    })\n    const makeAltIdentifier = x => {\n        const { value } = x\n        if (/^urn:/i.test(value)) return value\n        if (/^doi:/i.test(value)) return `urn:${value}`\n        const type = x.props?.['identifier-type']\n        if (!type) {\n            const scheme = x.attrs.scheme\n            if (!scheme) return value\n            // https://idpf.github.io/epub-registries/identifiers/\n            // but no \"jdcn\", which isn't a registered URN namespace\n            if (/^(doi|isbn|uuid)$/i.test(scheme)) return `urn:${scheme}:${value}`\n            // NOTE: webpub requires scheme to be a URI; EPUB allows anything\n            return { scheme, value }\n        }\n        if (type.scheme === PREFIX.onix + 'codelist5') {\n            const nid = ONIX5[type.value]\n            if (nid) return `urn:${nid}:${value}`\n        }\n        return value\n    }\n    const belongsTo = Object.groupBy(properties['belongs-to-collection'] ?? [],\n        x => prop(x, 'collection-type') === 'series' ? 'series' : 'collection')\n    const mainTitle = dc.title?.find(x => prop(x, 'title-type') === 'main') ?? dc.title?.[0]\n    const metadata = {\n        identifier: getIdentifier(opf),\n        title: makeLanguageMap(mainTitle),\n        sortAs: makeLanguageMap(mainTitle?.props?.['file-as']?.[0])\n            ?? mainTitle?.attrs?.['file-as']\n            ?? legacyMeta?.['calibre:title_sort'],\n        subtitle: dc.title?.find(x => prop(x, 'title-type') === 'subtitle')?.value,\n        language: dc.language?.map(x => x.value),\n        description: one(dc.description),\n        publisher: makeContributor(dc.publisher?.[0]),\n        published: dc.date?.find(x => x.attrs.event === 'publication')?.value\n            ?? one(dc.date),\n        modified: one(properties[PREFIX.dcterms + 'modified'])\n            ?? dc.date?.find(x => x.attrs.event === 'modification')?.value,\n        subject: dc.subject?.map(makeContributor),\n        belongsTo: {\n            collection: belongsTo.collection?.map(makeCollection),\n            series: belongsTo.series?.map(makeCollection)\n            ?? legacyMeta?.['calibre:series'] ? {\n                name: legacyMeta?.['calibre:series'],\n                position: parseFloat(legacyMeta?.['calibre:series_index']),\n            } : null,\n        },\n        altIdentifier: dc.identifier?.map(makeAltIdentifier),\n        source: dc.source?.map(makeAltIdentifier), // NOTE: not in webpub schema\n        rights: one(dc.rights), // NOTE: not in webpub schema\n    }\n    const remapContributor = defaultKey => x => {\n        const keys = new Set(x.role?.map(role => RELATORS[role] ?? defaultKey))\n        return [keys.size ? keys : [defaultKey], x]\n    }\n    for (const [keys, val] of [].concat(\n        dc.creator?.map(makeContributor)?.map(remapContributor('author')) ?? [],\n        dc.contributor?.map(makeContributor)?.map(remapContributor('contributor')) ?? []))\n        for (const key of keys) {\n            // if already parsed publisher don't remap it from author/contributor again\n            if (key === 'publisher' && metadata.publisher) continue\n            if (metadata[key]) metadata[key].push(val)\n            else metadata[key] = [val]\n        }\n    tidy(metadata)\n    if (metadata.altIdentifier === metadata.identifier)\n        delete metadata.altIdentifier\n\n    const rendition = {}\n    const media = {}\n    for (const [key, val] of Object.entries(properties)) {\n        if (key.startsWith(PREFIX.rendition))\n            rendition[camel(key.replace(PREFIX.rendition, ''))] = one(val)\n        else if (key.startsWith(PREFIX.media))\n            media[camel(key.replace(PREFIX.media, ''))] = one(val)\n    }\n    if (media.duration) media.duration = parseClock(media.duration)\n    return { metadata, rendition, media }\n}\n\nconst parseNav = (doc, resolve = f => f) => {\n    const { $, $$, $$$ } = childGetter(doc, NS.XHTML)\n    const resolveHref = href => href ? decodeURI(resolve(href)) : null\n    const parseLI = getType => $li => {\n        const $a = $($li, 'a') ?? $($li, 'span')\n        const $ol = $($li, 'ol')\n        const href = resolveHref($a?.getAttribute('href'))\n        const label = getElementText($a) || $a?.getAttribute('title')\n        // TODO: get and concat alt/title texts in content\n        const result = { label, href, subitems: parseOL($ol) }\n        if (getType) result.type = $a?.getAttributeNS(NS.EPUB, 'type')?.split(/\\s/)\n        return result\n    }\n    const parseOL = ($ol, getType) => $ol ? $$($ol, 'li').map(parseLI(getType)) : null\n    const parseNav = ($nav, getType) => parseOL($($nav, 'ol'), getType)\n\n    const $$nav = $$$(doc, 'nav')\n    let toc = null, pageList = null, landmarks = null, others = []\n    for (const $nav of $$nav) {\n        const type = $nav.getAttributeNS(NS.EPUB, 'type')?.split(/\\s/) ?? []\n        if (type.includes('toc')) toc ??= parseNav($nav)\n        else if (type.includes('page-list')) pageList ??= parseNav($nav)\n        else if (type.includes('landmarks')) landmarks ??= parseNav($nav, true)\n        else others.push({\n            label: getElementText($nav.firstElementChild), type,\n            list: parseNav($nav),\n        })\n    }\n    return { toc, pageList, landmarks, others }\n}\n\nconst parseNCX = (doc, resolve = f => f) => {\n    const { $, $$ } = childGetter(doc, NS.NCX)\n    const resolveHref = href => href ? decodeURI(resolve(href)) : null\n    const parseItem = el => {\n        const $label = $(el, 'navLabel')\n        const $content = $(el, 'content')\n        const label = getElementText($label)\n        const href = resolveHref($content.getAttribute('src'))\n        if (el.localName === 'navPoint') {\n            const els = $$(el, 'navPoint')\n            return { label, href, subitems: els.length ? els.map(parseItem) : null }\n        }\n        return { label, href }\n    }\n    const parseList = (el, itemName) => $$(el, itemName).map(parseItem)\n    const getSingle = (container, itemName) => {\n        const $container = $(doc.documentElement, container)\n        return $container ? parseList($container, itemName) : null\n    }\n    return {\n        toc: getSingle('navMap', 'navPoint'),\n        pageList: getSingle('pageList', 'pageTarget'),\n        others: $$(doc.documentElement, 'navList').map(el => ({\n            label: getElementText($(el, 'navLabel')),\n            list: parseList(el, 'navTarget'),\n        })),\n    }\n}\n\nconst parseClock = str => {\n    if (!str) return\n    const parts = str.split(':').map(x => parseFloat(x))\n    if (parts.length === 3) {\n        const [h, m, s] = parts\n        return h * 60 * 60 + m * 60 + s\n    }\n    if (parts.length === 2) {\n        const [m, s] = parts\n        return m * 60 + s\n    }\n    const [x, unit] = str.split(/(?=[^\\d.])/)\n    const n = parseFloat(x)\n    const f = unit === 'h' ? 60 * 60\n        : unit === 'min' ? 60\n        : unit === 'ms' ? .001\n        : 1\n    return n * f\n}\n\nconst IMAGE_EXTENSIONS = ['jpg', 'jpeg', 'png', 'gif', 'webp']\n\nconst getImageMediaType = (path) => {\n    const extension = path.toLowerCase().split('.').pop()\n    const mediaTypeMap = {\n        'jpg': 'image/jpeg',\n        'jpeg': 'image/jpeg',\n        'png': 'image/png',\n        'gif': 'image/gif',\n        'webp': 'image/webp',\n    }\n    return mediaTypeMap[extension] || 'image/jpeg'\n}\n\nclass MediaOverlay extends EventTarget {\n    #entries\n    #lastMediaOverlayItem\n    #sectionIndex\n    #audioIndex\n    #itemIndex\n    #audio\n    #volume = 1\n    #rate = 1\n    #state\n    constructor(book, loadXML) {\n        super()\n        this.book = book\n        this.loadXML = loadXML\n    }\n    async #loadSMIL(item) {\n        if (this.#lastMediaOverlayItem === item) return\n        const doc = await this.loadXML(item.href)\n        const resolve = href => href ? resolveURL(href, item.href) : null\n        const { $, $$$ } = childGetter(doc, NS.SMIL)\n        this.#audioIndex = -1\n        this.#itemIndex = -1\n        this.#entries = $$$(doc, 'par').reduce((arr, $par) => {\n            const text = resolve($($par, 'text')?.getAttribute('src'))\n            const $audio = $($par, 'audio')\n            if (!text || !$audio) return arr\n            const src = resolve($audio.getAttribute('src'))\n            const begin = parseClock($audio.getAttribute('clipBegin'))\n            const end = parseClock($audio.getAttribute('clipEnd'))\n            const last = arr.at(-1)\n            if (last?.src === src) last.items.push({ text, begin, end })\n            else arr.push({ src, items: [{ text, begin, end }] })\n            return arr\n        }, [])\n        this.#lastMediaOverlayItem = item\n    }\n    get #activeAudio() {\n        return this.#entries[this.#audioIndex]\n    }\n    get #activeItem() {\n        return this.#activeAudio?.items?.[this.#itemIndex]\n    }\n    #error(e) {\n        console.error(e)\n        this.dispatchEvent(new CustomEvent('error', { detail: e }))\n    }\n    #highlight() {\n        this.dispatchEvent(new CustomEvent('highlight', { detail: this.#activeItem }))\n    }\n    #unhighlight() {\n        this.dispatchEvent(new CustomEvent('unhighlight', { detail: this.#activeItem }))\n    }\n    async #play(audioIndex, itemIndex) {\n        this.#stop()\n        this.#audioIndex = audioIndex\n        this.#itemIndex = itemIndex\n        const src = this.#activeAudio?.src\n        if (!src || !this.#activeItem) return this.start(this.#sectionIndex + 1)\n\n        const url = URL.createObjectURL(await this.book.loadBlob(src))\n        const audio = new Audio(url)\n        this.#audio = audio\n        audio.volume = this.#volume\n        audio.playbackRate = this.#rate\n        audio.addEventListener('timeupdate', () => {\n            if (audio.paused) return\n            const t = audio.currentTime\n            const { items } = this.#activeAudio\n            if (t > this.#activeItem?.end) {\n                this.#unhighlight()\n                if (this.#itemIndex === items.length - 1) {\n                    this.#play(this.#audioIndex + 1, 0).catch(e => this.#error(e))\n                    return\n                }\n            }\n            const oldIndex = this.#itemIndex\n            while (items[this.#itemIndex + 1]?.begin <= t) this.#itemIndex++\n            if (this.#itemIndex !== oldIndex) this.#highlight()\n        })\n        audio.addEventListener('error', () =>\n            this.#error(new Error(`Failed to load ${src}`)))\n        audio.addEventListener('playing', () => this.#highlight())\n        audio.addEventListener('ended', () => {\n            this.#unhighlight()\n            URL.revokeObjectURL(url)\n            this.#audio = null\n            this.#play(audioIndex + 1, 0).catch(e => this.#error(e))\n        })\n        if (this.#state === 'paused') {\n            this.#highlight()\n            audio.currentTime = this.#activeItem.begin ?? 0\n        }\n        else audio.addEventListener('canplaythrough', () => {\n            // for some reason need to seek in `canplaythrough`\n            // or it won't play when skipping in WebKit\n            audio.currentTime = this.#activeItem.begin ?? 0\n            this.#state = 'playing'\n            audio.play().catch(e => this.#error(e))\n        }, { once: true })\n    }\n    async start(sectionIndex, filter = () => true) {\n        this.#audio?.pause()\n        const section = this.book.sections[sectionIndex]\n        const href = section?.id\n        if (!href) return\n\n        const { mediaOverlay } = section\n        if (!mediaOverlay) return this.start(sectionIndex + 1)\n        this.#sectionIndex = sectionIndex\n        await this.#loadSMIL(mediaOverlay)\n\n        for (let i = 0; i < this.#entries.length; i++) {\n            const { items } = this.#entries[i]\n            for (let j = 0; j < items.length; j++) {\n                if (items[j].text.split('#')[0] === href && filter(items[j], j, items))\n                    return this.#play(i, j).catch(e => this.#error(e))\n            }\n        }\n    }\n    pause() {\n        this.#state = 'paused'\n        this.#audio?.pause()\n    }\n    resume() {\n        this.#state = 'playing'\n        this.#audio?.play().catch(e => this.#error(e))\n    }\n    #stop() {\n        if (this.#audio) {\n            this.#audio.pause()\n            URL.revokeObjectURL(this.#audio.src)\n            this.#audio = null\n            this.#unhighlight()\n        }\n    }\n    stop() {\n        this.#state = 'stopped'\n        this.#stop()\n    }\n    prev() {\n        if (this.#itemIndex > 0) this.#play(this.#audioIndex, this.#itemIndex - 1)\n        else if (this.#audioIndex > 0) this.#play(this.#audioIndex - 1,\n            this.#entries[this.#audioIndex - 1].items.length - 1)\n        else if (this.#sectionIndex > 0)\n            this.start(this.#sectionIndex - 1, (_, i, items) => i === items.length - 1)\n    }\n    next() {\n        this.#play(this.#audioIndex, this.#itemIndex + 1)\n    }\n    setVolume(volume) {\n        this.#volume = volume\n        if (this.#audio) this.#audio.volume = volume\n    }\n    setRate(rate) {\n        this.#rate = rate\n        if (this.#audio) this.#audio.playbackRate = rate\n    }\n}\n\nconst isUUID = /([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})/\n\nconst getUUID = opf => {\n    for (const el of opf.getElementsByTagNameNS(NS.DC, 'identifier')) {\n        const [id] = getElementText(el).split(':').slice(-1)\n        if (isUUID.test(id)) return id\n    }\n    return ''\n}\n\nconst getIdentifier = opf => getElementText(\n    opf.getElementById(opf.documentElement.getAttribute('unique-identifier'))\n    ?? opf.getElementsByTagNameNS(NS.DC, 'identifier')[0])\n\n// https://www.w3.org/publishing/epub32/epub-ocf.html#sec-resource-obfuscation\nconst deobfuscate = async (key, length, blob) => {\n    const array = new Uint8Array(await blob.slice(0, length).arrayBuffer())\n    length = Math.min(length, array.length)\n    for (var i = 0; i < length; i++) array[i] = array[i] ^ key[i % key.length]\n    return new Blob([array, blob.slice(length)], { type: blob.type })\n}\n\nconst WebCryptoSHA1 = async str => {\n    const data = new TextEncoder().encode(str)\n    const buffer = await globalThis.crypto.subtle.digest('SHA-1', data)\n    return new Uint8Array(buffer)\n}\n\nconst deobfuscators = (sha1 = WebCryptoSHA1) => ({\n    'http://www.idpf.org/2008/embedding': {\n        key: opf => sha1(getIdentifier(opf)\n            // eslint-disable-next-line no-control-regex\n            .replaceAll(/[\\u0020\\u0009\\u000d\\u000a]/g, '')),\n        decode: (key, blob) => deobfuscate(key, 1040, blob),\n    },\n    'http://ns.adobe.com/pdf/enc#RC': {\n        key: opf => {\n            const uuid = getUUID(opf).replaceAll('-', '')\n            return Uint8Array.from({ length: 16 }, (_, i) =>\n                parseInt(uuid.slice(i * 2, i * 2 + 2), 16))\n        },\n        decode: (key, blob) => deobfuscate(key, 1024, blob),\n    },\n})\n\nclass Encryption {\n    #uris = new Map()\n    #decoders = new Map()\n    #algorithms\n    constructor(algorithms) {\n        this.#algorithms = algorithms\n    }\n    async init(encryption, opf) {\n        if (!encryption) return\n        const data = Array.from(\n            encryption.getElementsByTagNameNS(NS.ENC, 'EncryptedData'), el => ({\n                algorithm: el.getElementsByTagNameNS(NS.ENC, 'EncryptionMethod')[0]\n                    ?.getAttribute('Algorithm'),\n                uri: el.getElementsByTagNameNS(NS.ENC, 'CipherReference')[0]\n                    ?.getAttribute('URI'),\n            }))\n        for (const { algorithm, uri } of data) {\n            if (!this.#decoders.has(algorithm)) {\n                const algo = this.#algorithms[algorithm]\n                if (!algo) {\n                    console.warn('Unknown encryption algorithm')\n                    continue\n                }\n                const key = await algo.key(opf)\n                this.#decoders.set(algorithm, blob => algo.decode(key, blob))\n            }\n            this.#uris.set(uri, algorithm)\n        }\n    }\n    getDecoder(uri) {\n        return this.#decoders.get(this.#uris.get(uri)) ?? (x => x)\n    }\n}\n\nclass Resources {\n    constructor({ opf, resolveHref }) {\n        this.opf = opf\n        const { $, $$, $$$ } = childGetter(opf, NS.OPF)\n\n        const $manifest = $(opf.documentElement, 'manifest')\n        const $spine = $(opf.documentElement, 'spine')\n        const $$itemref = $$($spine, 'itemref')\n\n        this.manifest = $$($manifest, 'item')\n            .map(getAttributes('href', 'id', 'media-type', 'properties', 'media-overlay'))\n            .map(item => {\n                item.href = resolveHref(item.href)\n                item.properties = item.properties?.split(/\\s/)\n                return item\n            })\n        this.manifestById = new Map(this.manifest.map(item => [item.id, item]))\n        this.spine = $$itemref\n            .map(getAttributes('idref', 'id', 'linear', 'properties'))\n            .map(item => (item.properties = item.properties?.split(/\\s/), item))\n        this.pageProgressionDirection = $spine\n            .getAttribute('page-progression-direction')\n\n        this.navPath = this.getItemByProperty('nav')?.href\n        this.ncxPath = (this.getItemByID($spine.getAttribute('toc'))\n            ?? this.manifest.find(item => item.mediaType === MIME.NCX))?.href\n\n        const $guide = $(opf.documentElement, 'guide')\n        if ($guide) this.guide = $$($guide, 'reference')\n            .map(getAttributes('type', 'title', 'href'))\n            .map(({ type, title, href }) => ({\n                label: title,\n                type: type.split(/\\s/),\n                href: resolveHref(href),\n            }))\n\n        this.cover = this.getItemByProperty('cover-image')\n            // EPUB 2 compat\n            ?? this.getItemByID($$$(opf, 'meta')\n                .find(filterAttribute('name', 'cover'))\n                ?.getAttribute('content'))\n            ?? this.manifest.find(item => item.id === 'cover'\n                && item.mediaType.startsWith('image'))\n            ?? this.manifest.find(item => item.href.includes('cover')\n                && item.mediaType.startsWith('image'))\n            ?? this.getItemByHref(this.guide\n                ?.find(ref => ref.type.includes('cover'))?.href)\n            // last resort: first image in manifest\n            ?? this.manifest.find(item => item.mediaType.startsWith('image'))\n\n        this.cfis = CFI.fromElements($$itemref)\n    }\n    getItemByID(id) {\n        return this.manifestById.get(id)\n    }\n    getItemByHref(href) {\n        return this.manifest.find(item => item.href === href)\n    }\n    getItemByProperty(prop) {\n        return this.manifest.find(item => item.properties?.includes(prop))\n    }\n    resolveCFI(cfi) {\n        const parts = CFI.parse(cfi)\n        const top = (parts.parent ?? parts).shift()\n        let $itemref = CFI.toElement(this.opf, top)\n        // make sure it's an idref; if not, try again without the ID assertion\n        // mainly because Epub.js used to generate wrong ID assertions\n        // https://github.com/futurepress/epub.js/issues/1236\n        if ($itemref && $itemref.nodeName !== 'idref') {\n            top.at(-1).id = null\n            $itemref = CFI.toElement(this.opf, top)\n        }\n        const idref = $itemref?.getAttribute('idref')\n        const index = this.spine.findIndex(item => item.idref === idref)\n        const anchor = doc => CFI.toRange(doc, parts)\n        return { index, anchor }\n    }\n}\n\nclass Loader {\n    #cache = new Map()\n    #cacheXHTMLContent = new Map()\n    #children = new Map()\n    #refCount = new Map()\n    eventTarget = new EventTarget()\n    constructor({ loadText, loadBlob, resources, entries }) {\n        this.loadText = loadText\n        this.loadBlob = loadBlob\n        this.manifest = resources.manifest\n        this.assets = resources.manifest\n        this.entries = entries\n        // needed only when replacing in (X)HTML w/o parsing (see below)\n        //.filter(({ mediaType }) => ![MIME.XHTML, MIME.HTML].includes(mediaType))\n    }\n    async createURL(href, data, type, parent) {\n        if (!data) return ''\n        const detail = { data, type }\n        Object.defineProperty(detail, 'name', { value: href }) // readonly\n        const event = new CustomEvent('data', { detail })\n        this.eventTarget.dispatchEvent(event)\n        const newData = await event.detail.data\n        const newType = await event.detail.type\n        const url = URL.createObjectURL(new Blob([newData], { type: newType }))\n        this.#cache.set(href, url)\n        this.#refCount.set(href, 1)\n        if (newType === MIME.XHTML) {\n            this.#cacheXHTMLContent.set(url, {href, type: newType, data: newData})\n        }\n        if (parent) {\n            const childList = this.#children.get(parent)\n            if (childList) childList.push(href)\n            else this.#children.set(parent, [href])\n        }\n        return url\n    }\n    ref(href, parent) {\n        const childList = this.#children.get(parent)\n        if (!childList?.includes(href)) {\n            this.#refCount.set(href, this.#refCount.get(href) + 1)\n            //console.log(`referencing ${href}, now ${this.#refCount.get(href)}`)\n            if (childList) childList.push(href)\n            else this.#children.set(parent, [href])\n        }\n        return this.#cache.get(href)\n    }\n    unref(href) {\n        if (!this.#refCount.has(href)) return\n        const count = this.#refCount.get(href) - 1\n        //console.log(`unreferencing ${href}, now ${count}`)\n        if (count < 1) {\n            //console.log(`unloading ${href}`)\n            const url = this.#cache.get(href)\n            URL.revokeObjectURL(url)\n            this.#cache.delete(href)\n            this.#cacheXHTMLContent.delete(url)\n            this.#refCount.delete(href)\n            // unref children\n            const childList = this.#children.get(href)\n            if (childList) while (childList.length) this.unref(childList.pop())\n            this.#children.delete(href)\n        } else this.#refCount.set(href, count)\n    }\n    // load manifest item, recursively loading all resources as needed\n    async loadItem(item, parents = []) {\n        if (!item) return null\n        const { href, mediaType } = item\n\n        const isScript = MIME.JS.test(item.mediaType)\n        const detail = { type: mediaType, isScript, allow: true}\n        const event = new CustomEvent('load', { detail })\n        this.eventTarget.dispatchEvent(event)\n        const allow = await event.detail.allow\n        if (!allow) return null\n\n        const parent = parents.at(-1)\n        if (this.#cache.has(href)) return this.ref(href, parent)\n\n        const shouldReplace =\n            (isScript || [MIME.XHTML, MIME.HTML, MIME.CSS, MIME.SVG].includes(mediaType))\n            // prevent circular references\n            && parents.every(p => p !== href)\n        if (shouldReplace) return this.loadReplaced(item, parents)\n        // NOTE: this can be replaced with `Promise.try()`\n        const tryLoadBlob = Promise.resolve().then(() => this.loadBlob(href))\n        return this.createURL(href, tryLoadBlob, mediaType, parent)\n    }\n    async loadItemXHTMLContent(item, parents = []) {\n        const url = await this.loadItem(item, parents)\n        if (url) return this.#cacheXHTMLContent.get(url)?.data\n    }\n    tryImageEntryItem(path) {\n        if (!IMAGE_EXTENSIONS.some(ext => path.toLowerCase().endsWith(`.${ext}`))) {\n            return null\n        }\n        if (!this.entries.get(path)) {\n            return null\n        }\n        return {\n            href: path,\n            mediaType: getImageMediaType(path),\n        }\n    }\n    async loadHref(href, base, parents = []) {\n        if (isExternal(href)) return href\n        const path = resolveURL(href, base)\n        let item = this.manifest.find(item => item.href === path)\n        if (!item) {\n            item = this.tryImageEntryItem(path)\n            if (!item) {\n                return href\n            }\n        }\n        return this.loadItem(item, parents.concat(base))\n    }\n    async loadReplaced(item, parents = []) {\n        const { href, mediaType } = item\n        const parent = parents.at(-1)\n        let str = ''\n        try {\n            str = await this.loadText(href)\n        } catch (e) {\n            return this.createURL(href, Promise.reject(e), mediaType, parent)\n        }\n        if (!str) return null\n\n        // note that one can also just use `replaceString` for everything:\n        // ```\n        // const replaced = await this.replaceString(str, href, parents)\n        // return this.createURL(href, replaced, mediaType, parent)\n        // ```\n        // which is basically what Epub.js does, which is simpler, but will\n        // break things like iframes (because you don't want to replace links)\n        // or text that just happen to be paths\n\n        // parse and replace in HTML\n        if ([MIME.XHTML, MIME.HTML, MIME.SVG].includes(mediaType)) {\n            let doc = new DOMParser().parseFromString(str, mediaType)\n            // change to HTML if it's not valid XHTML\n            if (mediaType === MIME.XHTML && (doc.querySelector('parsererror')\n            || !doc.documentElement?.namespaceURI)) {\n                console.warn(doc.querySelector('parsererror')?.innerText ?? 'Invalid XHTML')\n                item.mediaType = MIME.HTML\n                doc = new DOMParser().parseFromString(str, item.mediaType)\n            }\n            // replace hrefs in XML processing instructions\n            // this is mainly for SVGs that use xml-stylesheet\n            if ([MIME.XHTML, MIME.SVG].includes(item.mediaType)) {\n                let child = doc.firstChild\n                while (child instanceof ProcessingInstruction) {\n                    if (child.data) {\n                        const replacedData = await replaceSeries(child.data,\n                            /(?:^|\\s*)(href\\s*=\\s*['\"])([^'\"]*)(['\"])/i,\n                            (_, p1, p2, p3) => this.loadHref(p2, href, parents)\n                                .then(p2 => `${p1}${p2}${p3}`))\n                        child.replaceWith(doc.createProcessingInstruction(\n                            child.target, replacedData))\n                    }\n                    child = child.nextSibling\n                }\n            }\n            // replace hrefs (excluding anchors)\n            const replace = async (el, attr) => el.setAttribute(attr,\n                await this.loadHref(el.getAttribute(attr), href, parents))\n            for (const el of doc.querySelectorAll('link[href]')) await replace(el, 'href')\n            for (const el of doc.querySelectorAll('[src]')) await replace(el, 'src')\n            for (const el of doc.querySelectorAll('[poster]')) await replace(el, 'poster')\n            for (const el of doc.querySelectorAll('object[data]')) await replace(el, 'data')\n            for (const el of doc.querySelectorAll('[*|href]:not([href])'))\n                el.setAttributeNS(NS.XLINK, 'href', await this.loadHref(\n                    el.getAttributeNS(NS.XLINK, 'href'), href, parents))\n            for (const el of doc.querySelectorAll('[srcset]'))\n                el.setAttribute('srcset', await replaceSeries(el.getAttribute('srcset'),\n                    /(\\s*)(.+?)\\s*((?:\\s[\\d.]+[wx])+\\s*(?:,|$)|,\\s+|$)/g,\n                    (_, p1, p2, p3) => this.loadHref(p2, href, parents)\n                        .then(p2 => `${p1}${p2}${p3}`)))\n            // replace inline styles\n            for (const el of doc.querySelectorAll('style'))\n                if (el.textContent) el.textContent =\n                    await this.replaceCSS(el.textContent, href, parents)\n            for (const el of doc.querySelectorAll('[style]'))\n                el.setAttribute('style',\n                    await this.replaceCSS(el.getAttribute('style'), href, parents))\n            // TODO: replace inline scripts? probably not worth the trouble\n            const result = new XMLSerializer().serializeToString(doc)\n            return this.createURL(href, result, item.mediaType, parent)\n        }\n\n        const result = mediaType === MIME.CSS\n            ? await this.replaceCSS(str, href, parents)\n            : await this.replaceString(str, href, parents)\n        return this.createURL(href, result, mediaType, parent)\n    }\n    async replaceCSS(str, href, parents = []) {\n        const replacedUrls = await replaceSeries(str,\n            /url\\(\\s*[\"']?([^'\"\\n]*?)\\s*[\"']?\\s*\\)/gi,\n            (_, url) => this.loadHref(url, href, parents)\n                .then(url => `url(\"${url}\")`))\n        // apart from `url()`, strings can be used for `@import` (but why?!)\n        return replaceSeries(replacedUrls,\n            /@import\\s*[\"']([^\"'\\n]*?)[\"']/gi,\n            (_, url) => this.loadHref(url, href, parents)\n                .then(url => `@import \"${url}\"`))\n    }\n    // find & replace all possible relative paths for all assets without parsing\n    replaceString(str, href, parents = []) {\n        const assetMap = new Map()\n        const urls = this.assets.map(asset => {\n            // do not replace references to the file itself\n            if (asset.href === href) return\n            // href was decoded and resolved when parsing the manifest\n            const relative = pathRelative(pathDirname(href), asset.href)\n            const relativeEnc = encodeURI(relative)\n            const rootRelative = '/' + asset.href\n            const rootRelativeEnc = encodeURI(rootRelative)\n            const set = new Set([relative, relativeEnc, rootRelative, rootRelativeEnc])\n            for (const url of set) assetMap.set(url, asset)\n            return Array.from(set)\n        }).flat().filter(x => x)\n        if (!urls.length) return str\n        const regex = new RegExp(urls.map(regexEscape).join('|'), 'g')\n        return replaceSeries(str, regex, async match =>\n            this.loadItem(assetMap.get(match.replace(/^\\//, '')),\n                parents.concat(href)))\n    }\n    unloadItem(item) {\n        this.unref(item?.href)\n    }\n    destroy() {\n        for (const url of this.#cache.values()) URL.revokeObjectURL(url)\n    }\n}\n\nconst getHTMLFragment = (doc, id) => doc.getElementById(id)\n    ?? doc.querySelector(`[name=\"${CSS.escape(id)}\"]`)\n\nconst getPageSpread = properties => {\n    for (const p of properties) {\n        if (p === 'page-spread-left' || p === 'rendition:page-spread-left')\n            return 'left'\n        if (p === 'page-spread-right' || p === 'rendition:page-spread-right')\n            return 'right'\n        if (p === 'rendition:page-spread-center') return 'center'\n    }\n}\n\nconst getDisplayOptions = doc => {\n    if (!doc) return null\n    return {\n        fixedLayout: getElementText(doc.querySelector('option[name=\"fixed-layout\"]')),\n        openToSpread: getElementText(doc.querySelector('option[name=\"open-to-spread\"]')),\n    }\n}\n\nexport class EPUB {\n    parser = new DOMParser()\n    #loader\n    #encryption\n    constructor({ entries, loadText, loadBlob, getSize, sha1 }) {\n        this.entries = entries.reduce((map, entry) => {\n            map.set(entry.filename, entry)\n            return map\n        }, new Map())\n        this.loadText = loadText\n        this.loadBlob = loadBlob\n        this.getSize = getSize\n        this.#encryption = new Encryption(deobfuscators(sha1))\n    }\n    #sanitizeXMLEntities(str) {\n        // Common HTML entities that aren't valid in XML\n        const entityMap = {\n            'nbsp': '&#160;',\n            'mdash': '&#8212;',\n            'ndash': '&#8211;',\n            'ldquo': '&#8220;',\n            'rdquo': '&#8221;',\n            'lsquo': '&#8216;',\n            'rsquo': '&#8217;',\n            'hellip': '&#8230;',\n            'copy': '&#169;',\n            'reg': '&#174;',\n            'trade': '&#8482;',\n            'bull': '&#8226;',\n            'middot': '&#183;',\n        }\n        return str.replace(/&([a-z]+);/gi, (match, entity) => {\n            return entityMap[entity.toLowerCase()] || match\n        })\n    }\n    async #loadXML(uri) {\n        const str = await this.loadText(uri)\n        if (!str) return null\n        const sanitized = this.#sanitizeXMLEntities(str)\n        const doc = this.parser.parseFromString(sanitized, MIME.XML)\n        if (doc.querySelector('parsererror'))\n            throw new Error(`XML parsing error: ${uri}\n${doc.querySelector('parsererror').innerText}`)\n        return doc\n    }\n    async init() {\n        const $container = await this.#loadXML('META-INF/container.xml')\n        if (!$container) throw new Error('Failed to load container file')\n\n        const opfs = Array.from(\n            $container.getElementsByTagNameNS(NS.CONTAINER, 'rootfile'),\n            getAttributes('full-path', 'media-type'))\n            .filter(file => file.mediaType === 'application/oebps-package+xml')\n\n        if (!opfs.length) throw new Error('No package document defined in container')\n        const opfPath = opfs[0].fullPath\n        const opf = await this.#loadXML(opfPath)\n        if (!opf) throw new Error('Failed to load package document')\n\n        const $encryption = await this.#loadXML('META-INF/encryption.xml')\n        await this.#encryption.init($encryption, opf)\n\n        this.resources = new Resources({\n            opf,\n            resolveHref: url => resolveURL(url, opfPath),\n        })\n        this.#loader = new Loader({\n            loadText: this.loadText,\n            loadBlob: uri => Promise.resolve(this.loadBlob(uri))\n                .then(this.#encryption.getDecoder(uri)),\n            resources: this.resources,\n            entries: this.entries,\n        })\n        this.transformTarget = this.#loader.eventTarget\n        this.sections = this.resources.spine.map((spineItem, index) => {\n            const { idref, linear, properties = [] } = spineItem\n            const item = this.resources.getItemByID(idref)\n            if (!item) {\n                console.warn(`Could not find item with ID \"${idref}\" in manifest`)\n                return null\n            }\n            return {\n                id: item.href,\n                load: () => this.#loader.loadItem(item),\n                unload: () => this.#loader.unloadItem(item),\n                loadContent: () => this.#loader.loadItemXHTMLContent(item),\n                createDocument: () => this.loadDocument(item),\n                size: this.getSize(item.href),\n                cfi: this.resources.cfis[index],\n                linear,\n                pageSpread: getPageSpread(properties),\n                resolveHref: href => resolveURL(href, item.href),\n                mediaOverlay: item.mediaOverlay\n                    ? this.resources.getItemByID(item.mediaOverlay) : null,\n            }\n        }).filter(s => s)\n\n        const { navPath, ncxPath } = this.resources\n        if (navPath) try {\n            const resolve = url => resolveURL(url, navPath)\n            const nav = parseNav(await this.#loadXML(navPath), resolve)\n            this.toc = nav.toc\n            this.pageList = nav.pageList\n            this.landmarks = nav.landmarks\n        } catch(e) {\n            console.warn(e)\n        }\n        if (!this.toc && ncxPath) try {\n            const resolve = url => resolveURL(url, ncxPath)\n            const ncx = parseNCX(await this.#loadXML(ncxPath), resolve)\n            this.toc = ncx.toc\n            this.pageList = ncx.pageList\n        } catch(e) {\n            console.warn(e)\n        }\n        this.landmarks ??= this.resources.guide\n\n        const { metadata, rendition, media } = getMetadata(opf)\n        this.metadata = metadata\n        this.rendition = rendition\n        this.media = media\n        this.dir = this.resources.pageProgressionDirection\n        const displayOptions = getDisplayOptions(\n            await this.#loadXML('META-INF/com.apple.ibooks.display-options.xml')\n            ?? await this.#loadXML('META-INF/com.kobobooks.display-options.xml'))\n        if (displayOptions) {\n            if (displayOptions.fixedLayout === 'true')\n                this.rendition.layout ??= 'pre-paginated'\n            if (displayOptions.openToSpread === 'false') this.sections\n                .find(section => section.linear !== 'no').pageSpread ??=\n                    this.dir === 'rtl' ? 'left' : 'right'\n        }\n        return this\n    }\n    async loadDocument(item) {\n        const str = await this.loadText(item.href)\n        return this.parser.parseFromString(str, item.mediaType)\n    }\n    getMediaOverlay() {\n        return new MediaOverlay(this, this.#loadXML.bind(this))\n    }\n    resolveCFI(cfi) {\n        return this.resources.resolveCFI(cfi)\n    }\n    resolveHref(href) {\n        const [path, hash] = href.split('#')\n        const item = this.resources.getItemByHref(decodeURI(path))\n        if (!item) return null\n        const index = this.resources.spine.findIndex(({ idref }) => idref === item.id)\n        const anchor = hash ? doc => getHTMLFragment(doc, hash) : () => 0\n        return { index, anchor }\n    }\n    splitTOCHref(href) {\n        return href?.split('#') ?? []\n    }\n    getTOCFragment(doc, id) {\n        return doc.getElementById(id)\n            ?? doc.querySelector(`[name=\"${CSS.escape(id)}\"]`)\n    }\n    isExternal(uri) {\n        return isExternal(uri)\n    }\n    async getCover() {\n        const cover = this.resources?.cover\n        return cover?.href\n            ? new Blob([await this.loadBlob(cover.href)], { type: cover.mediaType })\n            : null\n    }\n    async getCalibreBookmarks() {\n        const txt = await this.loadText('META-INF/calibre_bookmarks.txt')\n        const magic = 'encoding=json+base64:'\n        if (txt?.startsWith(magic)) {\n            const json = atob(txt.slice(magic.length))\n            return JSON.parse(json)\n        }\n    }\n    destroy() {\n        this.#loader?.destroy()\n    }\n}\n"],"names":[],"mappings":"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"}}]
}