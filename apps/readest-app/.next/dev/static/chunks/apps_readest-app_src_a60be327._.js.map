{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/readest/apps/readest-app/src/utils/ua.ts"],"sourcesContent":["import { AppService } from '@/types/system';\n\nexport const parseWebViewInfo = (appService: AppService | null): string => {\n  const ua = navigator.userAgent;\n\n  if (appService?.isAndroidApp) {\n    // Android WebView\n    const chromeMatch = ua.match(/Chrome\\/([0-9.]+)/);\n    return chromeMatch ? `WebView ${chromeMatch[1]}` : 'Android WebView';\n  } else if (appService?.isIOSApp) {\n    // iOS WebView\n    const webkitMatch = ua.match(/AppleWebKit\\/([0-9.]+)/);\n    return webkitMatch ? `WebView ${webkitMatch[1]}` : 'iOS WebView';\n  } else if (appService?.isMacOSApp) {\n    // macOS WebView\n    const webkitMatch = ua.match(/AppleWebKit\\/([0-9.]+)/);\n    return webkitMatch ? `WebView ${webkitMatch[1]}` : 'macOS WebView';\n  } else if (appService?.appPlatform === 'tauri' && appService?.osPlatform === 'windows') {\n    // Windows WebView2\n    const match = ua.match(/Edg\\/([0-9.]+)/);\n    return match ? `Edge ${match[1]}` : 'Edge WebView2';\n  } else if (appService?.appPlatform === 'tauri' && appService?.osPlatform === 'linux') {\n    // Linux WebView\n    const match = ua.match(/AppleWebKit\\/([0-9.]+)/);\n    return match ? `WebView ${match[1]}` : 'Linux WebView';\n  } else if (ua.includes('CriOS') && ua.includes('Mobile/') && ua.includes('Safari')) {\n    // iOS Chrome WebView\n    const match = ua.match(/CriOS\\/([0-9.]+)/);\n    return match ? `Chrome ${match[1]}` : 'iOS Chrome';\n  } else if (ua.includes('FxiOS') && ua.includes('Mobile/') && ua.includes('Safari')) {\n    // iOS Firefox WebView\n    const match = ua.match(/FxiOS\\/([0-9.]+)/);\n    return match ? `Firefox ${match[1]}` : 'iOS Firefox';\n  } else if (ua.includes('Chrome') && ua.includes('AppleWebKit') && ua.includes('Macintosh')) {\n    // macOS Chrome\n    const match = ua.match(/Chrome\\/([0-9.]+)/);\n    return match ? `Chrome ${match[1]}` : 'macOS Chrome';\n  } else if (ua.includes('Safari') && ua.includes('AppleWebKit') && ua.includes('Macintosh')) {\n    // macOS Safari\n    const match = ua.match(/Safari\\/([0-9.]+)/);\n    return match ? `Safari ${match[1]}` : 'macOS Safari';\n  } else if (ua.includes('Edg/')) {\n    // Microsoft Edge\n    const match = ua.match(/Edg\\/([0-9.]+)/);\n    return match ? `Edge ${match[1]}` : 'Edge WebView';\n  } else if (ua.includes('Firefox/')) {\n    // Firefox\n    const match = ua.match(/Firefox\\/([0-9.]+)/);\n    return match ? `Firefox ${match[1]}` : 'Firefox Gecko';\n  } else if (ua.includes('Chrome/') && !ua.includes('Chromium')) {\n    // Chrome\n    const match = ua.match(/Chrome\\/([0-9.]+)/);\n    return match ? `Chrome ${match[1]}` : 'Chrome';\n  } else if (ua.includes('Chromium/')) {\n    // Chromium\n    const match = ua.match(/Chromium\\/([0-9.]+)/);\n    return match ? `Chromium ${match[1]}` : 'Chromium';\n  } else if (ua.includes('MSIE ')) {\n    // Internet Explorer\n    const match = ua.match(/MSIE ([0-9.]+)/);\n    return match ? `IE ${match[1]}` : 'Internet Explorer';\n  } else {\n    return 'Unknown';\n  }\n};\n\nexport const parseWebViewVersion = (appService: AppService | null): number => {\n  const webViewInfo = parseWebViewInfo(appService);\n  const versionMatch = webViewInfo.match(/([0-9]+)\\./);\n  return versionMatch ? parseFloat(versionMatch[1]!) : 0;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///app/readest/apps/readest-app/src/hooks/useTheme.ts"],"sourcesContent":["'use client';\n\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useEnv } from '@/context/EnvContext';\nimport { useThemeStore } from '@/store/themeStore';\nimport { useSettingsStore } from '@/store/settingsStore';\nimport { themes, applyCustomTheme, Palette } from '@/styles/themes';\nimport { getStatusBarHeight, setSystemUIVisibility } from '@/utils/bridge';\nimport { getOSPlatform } from '@/utils/misc';\nimport { parseWebViewVersion } from '@/utils/ua';\n\ntype UseThemeProps = {\n  systemUIVisible?: boolean;\n  appThemeColor?: keyof Palette;\n};\n\nexport const useTheme = ({\n  systemUIVisible = true,\n  appThemeColor = 'base-100',\n}: UseThemeProps = {}) => {\n  const { appService } = useEnv();\n  const { settings } = useSettingsStore();\n  const {\n    themeColor,\n    isDarkMode,\n    isEinkMode,\n    showSystemUI,\n    dismissSystemUI,\n    updateAppTheme,\n    setStatusBarHeight,\n    systemUIAlwaysHidden,\n    setSystemUIAlwaysHidden,\n  } = useThemeStore();\n\n  const useFallbackColors = useRef(false);\n\n  useEffect(() => {\n    updateAppTheme(appThemeColor);\n    if (appService?.isAndroidApp) {\n      getStatusBarHeight().then((res) => {\n        if (res.height && res.height > 0) {\n          setStatusBarHeight(res.height / window.devicePixelRatio);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [appService?.isAndroidApp]);\n\n  const handleSystemUIVisibility = useCallback(() => {\n    if (!appService?.isMobileApp) return;\n\n    const visible = !!(systemUIVisible && !systemUIAlwaysHidden);\n    if (visible) {\n      showSystemUI();\n    } else {\n      dismissSystemUI();\n    }\n    setSystemUIVisibility({ visible, darkMode: isDarkMode });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [appService, isDarkMode, systemUIVisible]);\n\n  useEffect(() => {\n    if (appService?.isMobileApp) {\n      handleSystemUIVisibility();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [handleSystemUIVisibility]);\n\n  useEffect(() => {\n    if (!appService?.isMobileApp) return;\n\n    handleSystemUIVisibility();\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === 'visible') {\n        handleSystemUIVisibility();\n      }\n    };\n    const handleOrientationChange = () => {\n      if (appService?.isIOSApp && getOSPlatform() === 'ios') {\n        // FIXME: This is a workaround for iPhone apps where the system UI is not visible in landscape mode\n        // when the app is in fullscreen mode until we find a better solution to override the prefersStatusBarHidden\n        // in the ViewController. Note that screen.orientation.type is not abailable in iOS before 16.4.\n        const systemUIAlwaysHidden = screen.orientation?.type.includes('landscape');\n        setSystemUIAlwaysHidden(systemUIAlwaysHidden);\n        handleSystemUIVisibility();\n      }\n    };\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    screen.orientation?.addEventListener('change', handleOrientationChange);\n    return () => {\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n      screen.orientation?.removeEventListener('change', handleOrientationChange);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [handleSystemUIVisibility]);\n\n  useEffect(() => {\n    if (!appService?.isAndroidApp) return;\n    const webViewVersion = parseWebViewVersion(appService);\n    // OKLCH color model is supported in Chromium 111+\n    useFallbackColors.current = webViewVersion < 111;\n  }, [appService]);\n\n  useEffect(() => {\n    if (!themeColor || !themes.find((t) => t.name === themeColor)) return;\n    if (useFallbackColors.current) {\n      applyCustomTheme(undefined, themeColor, true);\n    }\n  }, [themeColor]);\n\n  useEffect(() => {\n    const customThemes = settings.globalReadSettings?.customThemes ?? [];\n    customThemes.forEach((customTheme) => {\n      applyCustomTheme(customTheme, undefined, useFallbackColors.current);\n    });\n    localStorage.setItem('customThemes', JSON.stringify(customThemes));\n  }, [settings.globalReadSettings?.customThemes]);\n\n  useEffect(() => {\n    const colorScheme = isDarkMode ? 'dark' : 'light';\n    document.documentElement.setAttribute('data-theme', `${themeColor}-${colorScheme}`);\n    document.documentElement.style.setProperty('color-scheme', colorScheme);\n    document.documentElement.style.setProperty(\n      '--overlayer-highlight-opacity',\n      isEinkMode ? '1.0' : '0.3',\n    );\n    document.documentElement.style.setProperty(\n      '--overlayer-highlight-blend-mode',\n      isEinkMode ? 'difference' : isDarkMode ? 'lighten' : 'normal',\n    );\n    document.documentElement.style.setProperty(\n      '--bg-texture-blend-mode',\n      isDarkMode ? 'lighten' : 'multiply',\n    );\n  }, [themeColor, isDarkMode, isEinkMode]);\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file:///app/readest/apps/readest-app/src/hooks/useTranslation.ts"],"sourcesContent":["'use client';\n\nimport '@/i18n/i18n';\nimport { useCallback } from 'react';\nimport { useTranslation as _useTranslation } from 'react-i18next';\n\nexport type TranslationFunc = (key: string, options?: Record<string, number | string>) => string;\n\nexport const useTranslation = (namespace: string = 'translation') => {\n  const { t } = _useTranslation(namespace);\n\n  return useCallback((key: string, options = {}) => t(key, { defaultValue: key, ...options }), [t]);\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;;AAJA;;;;AAQO,MAAM,iBAAiB,CAAC,YAAoB,aAAa;;IAC9D,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sXAAe,EAAC;IAE9B,OAAO,IAAA,8UAAW;sCAAC,CAAC,KAAa,UAAU,CAAC,CAAC,GAAK,EAAE,KAAK;gBAAE,cAAc;gBAAK,GAAG,OAAO;YAAC;qCAAI;QAAC;KAAE;AAClG;GAJa"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///app/readest/apps/readest-app/src/app/auth/page.tsx"],"sourcesContent":["'use client';\nimport clsx from 'clsx';\nimport { useEffect, useState } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { IoArrowBack } from 'react-icons/io5';\n\nimport { useAuth } from '@/context/AuthContext';\nimport { useTheme } from '@/hooks/useTheme';\nimport { useThemeStore } from '@/store/themeStore';\nimport { useSettingsStore } from '@/store/settingsStore';\nimport { useTranslation } from '@/hooks/useTranslation';\nimport { useEnv } from '@/context/EnvContext';\n\nexport default function AuthPage() {\n  const _ = useTranslation();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { login, isLoggedIn } = useAuth();\n  const { envConfig } = useEnv();\n  const { isDarkMode } = useThemeStore();\n  const { settings, setSettings, saveSettings } = useSettingsStore();\n\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isMounted, setIsMounted] = useState(false);\n\n  const redirectTarget = searchParams?.get('redirect') || '/library';\n\n  useTheme({ systemUIVisible: false });\n\n  const handleGoBack = () => {\n    settings.keepLogin = false;\n    setSettings(settings);\n    saveSettings(envConfig, settings);\n    router.back();\n  };\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include', // 确保 cookie 被自动携带和设置\n        body: JSON.stringify({\n          username: 'xingjjjjj',\n          password,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(_('Invalid password') as string);\n      }\n\n      const { token, user } = await response.json();\n      login(token, user);\n\n      // 延迟跳转，确保状态更新完成\n      setTimeout(() => {\n        router.replace(redirectTarget);\n      }, 100);\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : String(err);\n      setError(errorMessage || _('Login failed'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (isMounted && isLoggedIn) {\n      router.replace(redirectTarget);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isMounted, isLoggedIn]);\n\n  if (!isMounted) {\n    return null;\n  }\n\n  return (\n    <div\n      className={clsx(\n        'min-h-screen flex flex-col items-center justify-center',\n        isDarkMode ? 'bg-base-100' : 'bg-base-100'\n      )}\n    >\n      <button\n        onClick={handleGoBack}\n        className='btn btn-ghost fixed left-6 top-6 h-8 min-h-8 w-8 p-0'\n        aria-label={_('Go Back')}\n      >\n        <IoArrowBack className='text-base-content' />\n      </button>\n\n      <div\n        className={clsx(\n          'card shadow-lg w-full max-w-sm',\n          'bg-base-100 border border-base-300'\n        )}\n      >\n        <div className='card-body'>\n          <h1 className='card-title justify-center text-2xl mb-6'>\n            {_('Sign in')}\n          </h1>\n\n          <form onSubmit={handleLogin} className='space-y-4'>\n            <div className='form-control'>\n              <label className='label'>\n                <span className='label-text'>{_('Password')}</span>\n              </label>\n              <input\n                type='password'\n                placeholder={_('Your password')}\n                className={clsx(\n                  'input input-bordered w-full',\n                  error && 'input-error'\n                )}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                disabled={loading}\n                required\n              />\n            </div>\n\n            {error && (\n              <div className='alert alert-error'>\n                <span>{error}</span>\n              </div>\n            )}\n\n            <button\n              type='submit'\n              className='btn btn-primary w-full'\n              disabled={loading}\n            >\n              {loading ? _('Signing in...') : _('Sign in')}\n            </button>\n          </form>\n\n          <p className='text-center text-sm text-base-content/60 mt-4'>\n            {_('Single user mode')}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}